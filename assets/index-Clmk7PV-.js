var zw=Object.defineProperty;var OS=b=>{throw TypeError(b)};var Hw=(b,e,i)=>e in b?zw(b,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):b[e]=i;var gt=(b,e,i)=>Hw(b,typeof e!="symbol"?e+"":e,i),ib=(b,e,i)=>e.has(b)||OS("Cannot "+i);var c=(b,e,i)=>(ib(b,e,"read from private field"),i?i.call(b):e.get(b)),T=(b,e,i)=>e.has(b)?OS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(b):e.set(b,i),S=(b,e,i,n)=>(ib(b,e,"write to private field"),n?n.call(b,i):e.set(b,i),i),_=(b,e,i)=>(ib(b,e,"access private method"),i);var oi=(b,e,i,n)=>({set _(l){S(b,e,l,i)},get _(){return c(b,e,n)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function i(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=i(l);fetch(l.href,o)}})();var sb={exports:{}},Ru={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LS;function Fw(){if(LS)return Ru;LS=1;var b=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(n,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var d in l)d!=="key"&&(o[d]=l[d])}else o=l;return l=o.ref,{$$typeof:b,type:n,key:u,ref:l!==void 0?l:null,props:o}}return Ru.Fragment=e,Ru.jsx=i,Ru.jsxs=i,Ru}var NS;function Uw(){return NS||(NS=1,sb.exports=Fw()),sb.exports}var ue=Uw();const Bw=["Domande_2575_v81.pdf","Domande_2575_v82.pdf","Domande_2575_v83.pdf","Domande_2575_v84.pdf","Domande_2575_v85.pdf","Domande_2575_v86.pdf","Domande_2575_v87.pdf","Domande_2575_v88.pdf","Domande_2575_v89.pdf","Domande_2575_v90.pdf","Domande_2575_v161_prova suppletiva.pdf"],Pw=new RegExp(/^(Domande_2575_v\d+)/g);function Iw(b){const e=b.match(Pw),i=e==null?void 0:e[0].replaceAll("_"," ");return{value:b,name:i}}const qw=Bw.map(b=>Iw(b));function Gw({onSelect:b}){function e(i){const n=i.target.value;b(n)}return ue.jsxs(ue.Fragment,{children:[ue.jsx("label",{htmlFor:"file-select",children:"Seleziona il quiz: "}),ue.jsxs("select",{onChange:e,defaultValue:void 0,name:"quizzes",id:"file-select",children:[" ",qw.map(i=>ue.jsx("option",{value:i.value,children:i.name},i.value))]})]})}const jw="modulepreload",Xw=function(b){return"/"+b},kS={},zf=function(e,i,n){let l=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));l=Promise.allSettled(i.map(f=>{if(f=Xw(f),f in kS)return;kS[f]=!0;const g=f.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":jw,g||(v.as="script"),v.crossOrigin="",v.href=f,d&&v.setAttribute("nonce",d),document.head.appendChild(v),g)return new Promise((y,E)=>{v.addEventListener("load",y),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return l.then(u=>{for(const d of u||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};var Zu={};Zu.d=(b,e)=>{for(var i in e)Zu.o(e,i)&&!Zu.o(b,i)&&Object.defineProperty(b,i,{enumerable:!0,get:e[i]})};Zu.o=(b,e)=>Object.prototype.hasOwnProperty.call(b,e);var bt=globalThis.pdfjsLib={};Zu.d(bt,{AbortException:()=>Ur,AnnotationEditorLayer:()=>w0,AnnotationEditorParamsType:()=>pt,AnnotationEditorType:()=>_t,AnnotationEditorUIManager:()=>Nr,AnnotationLayer:()=>Gx,AnnotationMode:()=>Ra,ColorPicker:()=>Ag,DOMSVGFactory:()=>G0,DrawLayer:()=>R0,FeatureTest:()=>di,GlobalWorkerOptions:()=>Zn,ImageKind:()=>If,InvalidPDFException:()=>u_,MissingPDFException:()=>Fr,OPS:()=>bs,OutputScale:()=>yb,PDFDataRangeTransport:()=>lE,PDFDateString:()=>H0,PDFWorker:()=>No,PasswordResponses:()=>Qw,PermissionFlag:()=>Kw,PixelsPerInch:()=>sl,RenderingCancelledException:()=>k0,TextLayer:()=>th,UnexpectedResponseException:()=>qg,Util:()=>ct,VerbosityLevel:()=>Bg,XfaLayer:()=>oE,build:()=>Ex,createValidAbsoluteUrl:()=>Jw,fetchData:()=>jg,getDocument:()=>gx,getFilenameFromUrl:()=>oC,getPdfFilenameFromUrl:()=>cC,getXfaPageViewport:()=>uC,isDataScheme:()=>Xg,isPdfFile:()=>z0,noContextMenu:()=>hs,normalizeUnicode:()=>aC,setLayerDimensions:()=>Lr,shadow:()=>Ft,version:()=>_x});const ai=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),c_=[1,0,0,1,0,0],pb=[.001,0,0,.001,0,0],Yw=1e7,nb=1.35,Ii={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ra={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Vw="pdfjs_internal_editor_",_t={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Kw={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Je={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},If={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Ce={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,WIDGET:20},Du={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Bg={ERRORS:0,WARNINGS:1,INFOS:5},bs={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Qw={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Pg=Bg.WARNINGS;function Ww(b){Number.isInteger(b)&&(Pg=b)}function Zw(){return Pg}function Ig(b){Pg>=Bg.INFOS&&console.log(`Info: ${b}`)}function Mt(b){Pg>=Bg.WARNINGS&&console.log(`Warning: ${b}`)}function ee(b){throw new Error(b)}function Oe(b,e){b||ee(e)}function $w(b){switch(b==null?void 0:b.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Jw(b,e=null,i=null){if(!b)return null;try{if(i&&typeof b=="string"){if(i.addDefaultProtocol&&b.startsWith("www.")){const l=b.match(/\./g);(l==null?void 0:l.length)>=2&&(b=`http://${b}`)}if(i.tryConvertEncoding)try{b=nC(b)}catch{}}const n=e?new URL(b,e):new URL(b);if($w(n))return n}catch{}return null}function Ft(b,e,i,n=!1){return Object.defineProperty(b,e,{value:i,enumerable:!n,configurable:!0,writable:!1}),i}const rl=function(){function e(i,n){this.message=i,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class mb extends rl{constructor(e,i){super(e,"PasswordException"),this.code=i}}class bb extends rl{constructor(e,i){super(e,"UnknownErrorException"),this.details=i}}class u_ extends rl{constructor(e){super(e,"InvalidPDFException")}}class Fr extends rl{constructor(e){super(e,"MissingPDFException")}}class qg extends rl{constructor(e,i){super(e,"UnexpectedResponseException"),this.status=i}}class tC extends rl{constructor(e){super(e,"FormatError")}}class Ur extends rl{constructor(e){super(e,"AbortException")}}function h_(b){(typeof b!="object"||(b==null?void 0:b.length)===void 0)&&ee("Invalid argument for bytesToString");const e=b.length,i=8192;if(e<i)return String.fromCharCode.apply(null,b);const n=[];for(let l=0;l<e;l+=i){const o=Math.min(l+i,e),u=b.subarray(l,o);n.push(String.fromCharCode.apply(null,u))}return n.join("")}function Gg(b){typeof b!="string"&&ee("Invalid argument for stringToBytes");const e=b.length,i=new Uint8Array(e);for(let n=0;n<e;++n)i[n]=b.charCodeAt(n)&255;return i}function eC(b){return String.fromCharCode(b>>24&255,b>>16&255,b>>8&255,b&255)}function L0(b){const e=Object.create(null);for(const[i,n]of b)e[i]=n;return e}function iC(){const b=new Uint8Array(4);return b[0]=1,new Uint32Array(b.buffer,0,1)[0]===1}function sC(){try{return new Function(""),!0}catch{return!1}}class di{static get isLittleEndian(){return Ft(this,"isLittleEndian",iC())}static get isEvalSupported(){return Ft(this,"isEvalSupported",sC())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ft(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ft(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,i;return Ft(this,"isCSSRoundSupported",(i=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:i.call(e,"width: round(1.5px, 1px)"))}}const ab=Array.from(Array(256).keys(),b=>b.toString(16).padStart(2,"0"));var Jn,qf,vb;class ct{static makeHexColor(e,i,n){return`#${ab[e]}${ab[i]}${ab[n]}`}static scaleMinMax(e,i){let n;e[0]?(e[0]<0&&(n=i[0],i[0]=i[2],i[2]=n),i[0]*=e[0],i[2]*=e[0],e[3]<0&&(n=i[1],i[1]=i[3],i[3]=n),i[1]*=e[3],i[3]*=e[3]):(n=i[0],i[0]=i[1],i[1]=n,n=i[2],i[2]=i[3],i[3]=n,e[1]<0&&(n=i[1],i[1]=i[3],i[3]=n),i[1]*=e[1],i[3]*=e[1],e[2]<0&&(n=i[0],i[0]=i[2],i[2]=n),i[0]*=e[2],i[2]*=e[2]),i[0]+=e[4],i[1]+=e[5],i[2]+=e[4],i[3]+=e[5]}static transform(e,i){return[e[0]*i[0]+e[2]*i[1],e[1]*i[0]+e[3]*i[1],e[0]*i[2]+e[2]*i[3],e[1]*i[2]+e[3]*i[3],e[0]*i[4]+e[2]*i[5]+e[4],e[1]*i[4]+e[3]*i[5]+e[5]]}static applyTransform(e,i){const n=e[0]*i[0]+e[1]*i[2]+i[4],l=e[0]*i[1]+e[1]*i[3]+i[5];return[n,l]}static applyInverseTransform(e,i){const n=i[0]*i[3]-i[1]*i[2],l=(e[0]*i[3]-e[1]*i[2]+i[2]*i[5]-i[4]*i[3])/n,o=(-e[0]*i[1]+e[1]*i[0]+i[4]*i[1]-i[5]*i[0])/n;return[l,o]}static getAxialAlignedBoundingBox(e,i){const n=this.applyTransform(e,i),l=this.applyTransform(e.slice(2,4),i),o=this.applyTransform([e[0],e[3]],i),u=this.applyTransform([e[2],e[1]],i);return[Math.min(n[0],l[0],o[0],u[0]),Math.min(n[1],l[1],o[1],u[1]),Math.max(n[0],l[0],o[0],u[0]),Math.max(n[1],l[1],o[1],u[1])]}static inverseTransform(e){const i=e[0]*e[3]-e[1]*e[2];return[e[3]/i,-e[1]/i,-e[2]/i,e[0]/i,(e[2]*e[5]-e[4]*e[3])/i,(e[4]*e[1]-e[5]*e[0])/i]}static singularValueDecompose2dScale(e){const i=[e[0],e[2],e[1],e[3]],n=e[0]*i[0]+e[1]*i[2],l=e[0]*i[1]+e[1]*i[3],o=e[2]*i[0]+e[3]*i[2],u=e[2]*i[1]+e[3]*i[3],d=(n+u)/2,f=Math.sqrt((n+u)**2-4*(n*u-o*l))/2,g=d+f||1,m=d-f||1;return[Math.sqrt(g),Math.sqrt(m)]}static normalizeRect(e){const i=e.slice(0);return e[0]>e[2]&&(i[0]=e[2],i[2]=e[0]),e[1]>e[3]&&(i[1]=e[3],i[3]=e[1]),i}static intersect(e,i){const n=Math.max(Math.min(e[0],e[2]),Math.min(i[0],i[2])),l=Math.min(Math.max(e[0],e[2]),Math.max(i[0],i[2]));if(n>l)return null;const o=Math.max(Math.min(e[1],e[3]),Math.min(i[1],i[3])),u=Math.min(Math.max(e[1],e[3]),Math.max(i[1],i[3]));return o>u?null:[n,o,l,u]}static bezierBoundingBox(e,i,n,l,o,u,d,f,g){return g?(g[0]=Math.min(g[0],e,d),g[1]=Math.min(g[1],i,f),g[2]=Math.max(g[2],e,d),g[3]=Math.max(g[3],i,f)):g=[Math.min(e,d),Math.min(i,f),Math.max(e,d),Math.max(i,f)],_(this,Jn,vb).call(this,e,n,o,d,i,l,u,f,3*(-e+3*(n-o)+d),6*(e-2*n+o),3*(n-e),g),_(this,Jn,vb).call(this,e,n,o,d,i,l,u,f,3*(-i+3*(l-u)+f),6*(i-2*l+u),3*(l-i),g),g}}Jn=new WeakSet,qf=function(e,i,n,l,o,u,d,f,g,m){if(g<=0||g>=1)return;const v=1-g,y=g*g,E=y*g,C=v*(v*(v*e+3*g*i)+3*y*n)+E*l,x=v*(v*(v*o+3*g*u)+3*y*d)+E*f;m[0]=Math.min(m[0],C),m[1]=Math.min(m[1],x),m[2]=Math.max(m[2],C),m[3]=Math.max(m[3],x)},vb=function(e,i,n,l,o,u,d,f,g,m,v,y){if(Math.abs(g)<1e-12){Math.abs(m)>=1e-12&&_(this,Jn,qf).call(this,e,i,n,l,o,u,d,f,-v/m,y);return}const E=m**2-4*v*g;if(E<0)return;const C=Math.sqrt(E),x=2*g;_(this,Jn,qf).call(this,e,i,n,l,o,u,d,f,(-m+C)/x,y),_(this,Jn,qf).call(this,e,i,n,l,o,u,d,f,(-m-C)/x,y)},T(ct,Jn);function nC(b){return decodeURIComponent(escape(b))}let lb=null,zS=null;function aC(b){return lb||(lb=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,zS=new Map([["ﬅ","ſt"]])),b.replaceAll(lb,(e,i,n)=>i?i.normalize("NFKC"):zS.get(n))}function lC(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const b=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(b);else for(let e=0;e<32;e++)b[e]=Math.floor(Math.random()*255);return h_(b)}const N0="pdfjs_internal_id_",_n={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function rC(b){return Uint8Array.prototype.toBase64?b.toBase64():btoa(h_(b))}const Tn="http://www.w3.org/2000/svg",kl=class kl{};gt(kl,"CSS",96),gt(kl,"PDF",72),gt(kl,"PDF_TO_CSS_UNITS",kl.CSS/kl.PDF);let sl=kl;async function jg(b,e="text"){if(ku(b,document.baseURI)){const i=await fetch(b);if(!i.ok)throw new Error(i.statusText);switch(e){case"arraybuffer":return i.arrayBuffer();case"blob":return i.blob();case"json":return i.json()}return i.text()}return new Promise((i,n)=>{const l=new XMLHttpRequest;l.open("GET",b,!0),l.responseType=e,l.onreadystatechange=()=>{if(l.readyState===XMLHttpRequest.DONE){if(l.status===200||l.status===0){switch(e){case"arraybuffer":case"blob":case"json":i(l.response);return}i(l.responseText);return}n(new Error(l.statusText))}},l.send(null)})}class bd{constructor({viewBox:e,scale:i,rotation:n,offsetX:l=0,offsetY:o=0,dontFlip:u=!1}){this.viewBox=e,this.scale=i,this.rotation=n,this.offsetX=l,this.offsetY=o;const d=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let g,m,v,y;switch(n%=360,n<0&&(n+=360),n){case 180:g=-1,m=0,v=0,y=1;break;case 90:g=0,m=1,v=1,y=0;break;case 270:g=0,m=-1,v=-1,y=0;break;case 0:g=1,m=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(v=-v,y=-y);let E,C,x,O;g===0?(E=Math.abs(f-e[1])*i+l,C=Math.abs(d-e[0])*i+o,x=(e[3]-e[1])*i,O=(e[2]-e[0])*i):(E=Math.abs(d-e[0])*i+l,C=Math.abs(f-e[1])*i+o,x=(e[2]-e[0])*i,O=(e[3]-e[1])*i),this.transform=[g*i,m*i,v*i,y*i,E-g*i*d-v*i*f,C-m*i*d-y*i*f],this.width=x,this.height=O}get rawDims(){const{viewBox:e}=this;return Ft(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:i=this.rotation,offsetX:n=this.offsetX,offsetY:l=this.offsetY,dontFlip:o=!1}={}){return new bd({viewBox:this.viewBox.slice(),scale:e,rotation:i,offsetX:n,offsetY:l,dontFlip:o})}convertToViewportPoint(e,i){return ct.applyTransform([e,i],this.transform)}convertToViewportRectangle(e){const i=ct.applyTransform([e[0],e[1]],this.transform),n=ct.applyTransform([e[2],e[3]],this.transform);return[i[0],i[1],n[0],n[1]]}convertToPdfPoint(e,i){return ct.applyInverseTransform([e,i],this.transform)}}class k0 extends rl{constructor(e,i=0){super(e,"RenderingCancelledException"),this.extraDelay=i}}function Xg(b){const e=b.length;let i=0;for(;i<e&&b[i].trim()==="";)i++;return b.substring(i,i+5).toLowerCase()==="data:"}function z0(b){return typeof b=="string"&&/\.pdf$/i.test(b)}function oC(b){return[b]=b.split(/[#?]/,1),b.substring(b.lastIndexOf("/")+1)}function cC(b,e="document.pdf"){if(typeof b!="string")return e;if(Xg(b))return Mt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,l=i.exec(b);let o=n.exec(l[1])||n.exec(l[2])||n.exec(l[3]);if(o&&(o=o[0],o.includes("%")))try{o=n.exec(decodeURIComponent(o))[0]}catch{}return o||e}class HS{constructor(){gt(this,"started",Object.create(null));gt(this,"times",[])}time(e){e in this.started&&Mt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Mt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let i=0;for(const{name:n}of this.times)i=Math.max(n.length,i);for(const{name:n,start:l,end:o}of this.times)e.push(`${n.padEnd(i)} ${o-l}ms
`);return e.join("")}}function ku(b,e){try{const{protocol:i}=e?new URL(b,e):new URL(b);return i==="http:"||i==="https:"}catch{return!1}}function hs(b){b.preventDefault()}function FS(b){console.log("Deprecated API usage: "+b)}var ih;class H0{static toDateObject(e){if(!e||typeof e!="string")return null;c(this,ih)||S(this,ih,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const i=c(this,ih).exec(e);if(!i)return null;const n=parseInt(i[1],10);let l=parseInt(i[2],10);l=l>=1&&l<=12?l-1:0;let o=parseInt(i[3],10);o=o>=1&&o<=31?o:1;let u=parseInt(i[4],10);u=u>=0&&u<=23?u:0;let d=parseInt(i[5],10);d=d>=0&&d<=59?d:0;let f=parseInt(i[6],10);f=f>=0&&f<=59?f:0;const g=i[7]||"Z";let m=parseInt(i[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(i[9],10)||0;return v=v>=0&&v<=59?v:0,g==="-"?(u+=m,d+=v):g==="+"&&(u-=m,d-=v),new Date(Date.UTC(n,l,o,u,d,f))}}ih=new WeakMap,T(H0,ih);function uC(b,{scale:e=1,rotation:i=0}){const{width:n,height:l}=b.attributes.style,o=[0,0,parseInt(n),parseInt(l)];return new bd({viewBox:o,scale:e,rotation:i})}function F0(b){if(b.startsWith("#")){const e=parseInt(b.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return b.startsWith("rgb(")?b.slice(4,-1).split(",").map(e=>parseInt(e)):b.startsWith("rgba(")?b.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Mt(`Not a valid color format: "${b}"`),[0,0,0])}function hC(b){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const i of b.keys()){e.style.color=i;const n=window.getComputedStyle(e).color;b.set(i,F0(n))}e.remove()}function ce(b){const{a:e,b:i,c:n,d:l,e:o,f:u}=b.getTransform();return[e,i,n,l,o,u]}function En(b){const{a:e,b:i,c:n,d:l,e:o,f:u}=b.getTransform().invertSelf();return[e,i,n,l,o,u]}function Lr(b,e,i=!1,n=!0){if(e instanceof bd){const{pageWidth:l,pageHeight:o}=e.rawDims,{style:u}=b,d=di.isCSSRoundSupported,f=`var(--scale-factor) * ${l}px`,g=`var(--scale-factor) * ${o}px`,m=d?`round(down, ${f}, var(--scale-round-x, 1px))`:`calc(${f})`,v=d?`round(down, ${g}, var(--scale-round-y, 1px))`:`calc(${g})`;!i||e.rotation%180===0?(u.width=m,u.height=v):(u.width=v,u.height=m)}n&&b.setAttribute("data-main-rotation",e.rotation)}class yb{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Da,Hl,vs,Fl,sh,nh,_g,d_,fi,f_,g_,Gf,p_,Sb;const wn=class wn{constructor(e){T(this,fi);T(this,Da,null);T(this,Hl,null);T(this,vs);T(this,Fl,null);T(this,sh,null);S(this,vs,e),c(wn,nh)||S(wn,nh,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=S(this,Da,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const i=c(this,vs)._uiManager._signal;e.addEventListener("contextmenu",hs,{signal:i}),e.addEventListener("pointerdown",_(wn,_g,d_),{signal:i});const n=S(this,Fl,document.createElement("div"));n.className="buttons",e.append(n);const l=c(this,vs).toolbarPosition;if(l){const{style:o}=e,u=c(this,vs)._uiManager.direction==="ltr"?1-l[0]:l[0];o.insetInlineEnd=`${100*u}%`,o.top=`calc(${100*l[1]}% + var(--editor-toolbar-vert-offset))`}return _(this,fi,p_).call(this),e}get div(){return c(this,Da)}hide(){var e;c(this,Da).classList.add("hidden"),(e=c(this,Hl))==null||e.hideDropdown()}show(){var e;c(this,Da).classList.remove("hidden"),(e=c(this,sh))==null||e.shown()}async addAltText(e){const i=await e.render();_(this,fi,Gf).call(this,i),c(this,Fl).prepend(i,c(this,fi,Sb)),S(this,sh,e)}addColorPicker(e){S(this,Hl,e);const i=e.renderButton();_(this,fi,Gf).call(this,i),c(this,Fl).prepend(i,c(this,fi,Sb))}remove(){var e;c(this,Da).remove(),(e=c(this,Hl))==null||e.destroy(),S(this,Hl,null)}};Da=new WeakMap,Hl=new WeakMap,vs=new WeakMap,Fl=new WeakMap,sh=new WeakMap,nh=new WeakMap,_g=new WeakSet,d_=function(e){e.stopPropagation()},fi=new WeakSet,f_=function(e){c(this,vs)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()},g_=function(e){c(this,vs)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()},Gf=function(e){const i=c(this,vs)._uiManager._signal;e.addEventListener("focusin",_(this,fi,f_).bind(this),{capture:!0,signal:i}),e.addEventListener("focusout",_(this,fi,g_).bind(this),{capture:!0,signal:i}),e.addEventListener("contextmenu",hs,{signal:i})},p_=function(){const{editorType:e,_uiManager:i}=c(this,vs),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",c(wn,nh)[e]),_(this,fi,Gf).call(this,n),n.addEventListener("click",l=>{i.delete()},{signal:i._signal}),c(this,Fl).append(n)},Sb=function(){const e=document.createElement("div");return e.className="divider",e},T(wn,_g),T(wn,nh,null);let Ab=wn;var ah,Ul,Bl,al,m_,b_,v_;class dC{constructor(e){T(this,al);T(this,ah,null);T(this,Ul,null);T(this,Bl);S(this,Bl,e)}show(e,i,n){const[l,o]=_(this,al,b_).call(this,i,n),{style:u}=c(this,Ul)||S(this,Ul,_(this,al,m_).call(this));e.append(c(this,Ul)),u.insetInlineEnd=`${100*l}%`,u.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){c(this,Ul).remove()}}ah=new WeakMap,Ul=new WeakMap,Bl=new WeakMap,al=new WeakSet,m_=function(){const e=S(this,Ul,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",hs,{signal:c(this,Bl)._signal});const i=S(this,ah,document.createElement("div"));return i.className="buttons",e.append(i),_(this,al,v_).call(this),e},b_=function(e,i){let n=0,l=0;for(const o of e){const u=o.y+o.height;if(u<n)continue;const d=o.x+(i?o.width:0);if(u>n){l=d,n=u;continue}i?d>l&&(l=d):d<l&&(l=d)}return[i?1-l:l,n]},v_=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const i=document.createElement("span");e.append(i),i.className="visuallyHidden",i.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=c(this,Bl)._signal;e.addEventListener("contextmenu",hs,{signal:n}),e.addEventListener("click",()=>{c(this,Bl).highlightSelection("floating_button")},{signal:n}),c(this,ah).append(e)};function bg(b,e,i){for(const n of i)e.addEventListener(n,b[n].bind(b))}function fC(b){return Math.round(Math.min(255,Math.max(1,255*b))).toString(16).padStart(2,"0")}var Eg;class gC{constructor(){T(this,Eg,0)}get id(){return`${Vw}${oi(this,Eg)._++}`}}Eg=new WeakMap;var ko,lh,ei,zo,jf;const Y0=class Y0{constructor(){T(this,zo);T(this,ko,lC());T(this,lh,0);T(this,ei,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),l=new Image;l.src=e;const o=l.decode().then(()=>(n.drawImage(l,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ft(this,"_isSVGFittingCanvas",o)}async getFromFile(e){const{lastModified:i,name:n,size:l,type:o}=e;return _(this,zo,jf).call(this,`${i}_${n}_${l}_${o}`,e)}async getFromUrl(e){return _(this,zo,jf).call(this,e,e)}async getFromBlob(e,i){const n=await i;return _(this,zo,jf).call(this,e,n)}async getFromId(e){c(this,ei)||S(this,ei,new Map);const i=c(this,ei).get(e);if(!i)return null;if(i.bitmap)return i.refCounter+=1,i;if(i.file)return this.getFromFile(i.file);if(i.blobPromise){const{blobPromise:n}=i;return delete i.blobPromise,this.getFromBlob(i.id,n)}return this.getFromUrl(i.url)}getFromCanvas(e,i){c(this,ei)||S(this,ei,new Map);let n=c(this,ei).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const l=new OffscreenCanvas(i.width,i.height);return l.getContext("2d").drawImage(i,0,0),n={bitmap:l.transferToImageBitmap(),id:`image_${c(this,ko)}_${oi(this,lh)._++}`,refCounter:1,isSvg:!1},c(this,ei).set(e,n),c(this,ei).set(n.id,n),n}getSvgUrl(e){const i=c(this,ei).get(e);return i!=null&&i.isSvg?i.svgUrl:null}deleteId(e){var l;c(this,ei)||S(this,ei,new Map);const i=c(this,ei).get(e);if(!i||(i.refCounter-=1,i.refCounter!==0))return;const{bitmap:n}=i;if(!i.url&&!i.file){const o=new OffscreenCanvas(n.width,n.height);o.getContext("bitmaprenderer").transferFromImageBitmap(n),i.blobPromise=o.convertToBlob()}(l=n.close)==null||l.call(n),i.bitmap=null}isValidId(e){return e.startsWith(`image_${c(this,ko)}_`)}};ko=new WeakMap,lh=new WeakMap,ei=new WeakMap,zo=new WeakSet,jf=async function(e,i){c(this,ei)||S(this,ei,new Map);let n=c(this,ei).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${c(this,ko)}_${oi(this,lh)._++}`,refCounter:0,isSvg:!1});let l;if(typeof i=="string"?(n.url=i,l=await jg(i,"blob")):i instanceof File?l=n.file=i:i instanceof Blob&&(l=i),l.type==="image/svg+xml"){const o=Y0._isSVGFittingCanvas,u=new FileReader,d=new Image,f=new Promise((g,m)=>{d.onload=()=>{n.bitmap=d,n.isSvg=!0,g()},u.onload=async()=>{const v=n.svgUrl=u.result;d.src=await o?`${v}#svgView(preserveAspectRatio(none))`:v},d.onerror=u.onerror=m});u.readAsDataURL(l),await f}else n.bitmap=await createImageBitmap(l);n.refCounter=1}catch(l){console.error(l),n=null}return c(this,ei).set(e,n),n&&c(this,ei).set(n.id,n),n};let _b=Y0;var Fe,Oa,rh,Ue;class pC{constructor(e=128){T(this,Fe,[]);T(this,Oa,!1);T(this,rh);T(this,Ue,-1);S(this,rh,e)}add({cmd:e,undo:i,post:n,mustExec:l,type:o=NaN,overwriteIfSameType:u=!1,keepUndo:d=!1}){if(l&&e(),c(this,Oa))return;const f={cmd:e,undo:i,post:n,type:o};if(c(this,Ue)===-1){c(this,Fe).length>0&&(c(this,Fe).length=0),S(this,Ue,0),c(this,Fe).push(f);return}if(u&&c(this,Fe)[c(this,Ue)].type===o){d&&(f.undo=c(this,Fe)[c(this,Ue)].undo),c(this,Fe)[c(this,Ue)]=f;return}const g=c(this,Ue)+1;g===c(this,rh)?c(this,Fe).splice(0,1):(S(this,Ue,g),g<c(this,Fe).length&&c(this,Fe).splice(g)),c(this,Fe).push(f)}undo(){if(c(this,Ue)===-1)return;S(this,Oa,!0);const{undo:e,post:i}=c(this,Fe)[c(this,Ue)];e(),i==null||i(),S(this,Oa,!1),S(this,Ue,c(this,Ue)-1)}redo(){if(c(this,Ue)<c(this,Fe).length-1){S(this,Ue,c(this,Ue)+1),S(this,Oa,!0);const{cmd:e,post:i}=c(this,Fe)[c(this,Ue)];e(),i==null||i(),S(this,Oa,!1)}}hasSomethingToUndo(){return c(this,Ue)!==-1}hasSomethingToRedo(){return c(this,Ue)<c(this,Fe).length-1}destroy(){S(this,Fe,null)}}Fe=new WeakMap,Oa=new WeakMap,rh=new WeakMap,Ue=new WeakMap;var Tg,y_;class vd{constructor(e){T(this,Tg);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:i}=di.platform;for(const[n,l,o={}]of e)for(const u of n){const d=u.startsWith("mac+");i&&d?(this.callbacks.set(u.slice(4),{callback:l,options:o}),this.allKeys.add(u.split("+").at(-1))):!i&&!d&&(this.callbacks.set(u,{callback:l,options:o}),this.allKeys.add(u.split("+").at(-1)))}}exec(e,i){if(!this.allKeys.has(i.key))return;const n=this.callbacks.get(_(this,Tg,y_).call(this,i));if(!n)return;const{callback:l,options:{bubbles:o=!1,args:u=[],checker:d=null}}=n;d&&!d(e,i)||(l.bind(e,...u,i)(),o||(i.stopPropagation(),i.preventDefault()))}}Tg=new WeakSet,y_=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const i=this.buffer.join("+");return this.buffer.length=0,i};const wg=class wg{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return hC(e),Ft(this,"_colors",e)}convert(e){const i=F0(e);if(!window.matchMedia("(forced-colors: active)").matches)return i;for(const[n,l]of this._colors)if(l.every((o,u)=>o===i[u]))return wg._colorsMapping.get(n);return i}getHexCode(e){const i=this._colors.get(e);return i?ct.makeHexColor(...i):e}};gt(wg,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let Eb=wg;var Ho,Ni,Me,Ye,Fo,xn,Uo,ys,La,Bo,Pl,Ps,As,Il,oh,ch,Po,uh,Is,Na,Io,ka,qs,Cg,za,hh,Ha,ql,dh,fh,Be,Gt,Mn,Gl,gh,ph,Fa,Gs,Rn,mh,ss,tt,Xf,Tb,A_,S_,Yf,__,E_,T_,wb,w_,Cb,xb,C_,ci,xa,x_,M_,Mb,R_,zu,Rb;const Oo=class Oo{constructor(e,i,n,l,o,u,d,f,g,m,v){T(this,tt);T(this,Ho,new AbortController);T(this,Ni,null);T(this,Me,new Map);T(this,Ye,new Map);T(this,Fo,null);T(this,xn,null);T(this,Uo,null);T(this,ys,new pC);T(this,La,null);T(this,Bo,0);T(this,Pl,new Set);T(this,Ps,null);T(this,As,null);T(this,Il,new Set);T(this,oh,!1);T(this,ch,!1);T(this,Po,!1);T(this,uh,null);T(this,Is,null);T(this,Na,null);T(this,Io,null);T(this,ka,!1);T(this,qs,null);T(this,Cg,new gC);T(this,za,!1);T(this,hh,!1);T(this,Ha,null);T(this,ql,null);T(this,dh,null);T(this,fh,null);T(this,Be,_t.NONE);T(this,Gt,new Set);T(this,Mn,null);T(this,Gl,null);T(this,gh,null);T(this,ph,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Fa,[0,0]);T(this,Gs,null);T(this,Rn,null);T(this,mh,null);T(this,ss,null);const y=this._signal=c(this,Ho).signal;S(this,Rn,e),S(this,mh,i),S(this,Fo,n),this._eventBus=l,l._on("editingaction",this.onEditingAction.bind(this),{signal:y}),l._on("pagechanging",this.onPageChanging.bind(this),{signal:y}),l._on("scalechanging",this.onScaleChanging.bind(this),{signal:y}),l._on("rotationchanging",this.onRotationChanging.bind(this),{signal:y}),l._on("setpreference",this.onSetPreference.bind(this),{signal:y}),l._on("switchannotationeditorparams",E=>this.updateParams(E.type,E.value),{signal:y}),_(this,tt,__).call(this),_(this,tt,C_).call(this),_(this,tt,wb).call(this),S(this,xn,o.annotationStorage),S(this,uh,o.filterFactory),S(this,Gl,u),S(this,Io,d||null),S(this,oh,f),S(this,ch,g),S(this,Po,m),S(this,fh,v||null),this.viewParameters={realScale:sl.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const e=Oo.prototype,i=u=>c(u,Rn).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&u.hasSomethingToControl(),n=(u,{target:d})=>{if(d instanceof HTMLInputElement){const{type:f}=d;return f!=="text"&&f!=="number"}return!0},l=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new vd([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,Rn).contains(d)&&!u.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(u,{target:d})=>!(d instanceof HTMLButtonElement)&&c(u,Rn).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:i}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:i}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:i}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:i}]]))}destroy(){var e,i,n,l;(e=c(this,ss))==null||e.resolve(),S(this,ss,null),(i=c(this,Ho))==null||i.abort(),S(this,Ho,null),this._signal=null;for(const o of c(this,Ye).values())o.destroy();c(this,Ye).clear(),c(this,Me).clear(),c(this,Il).clear(),S(this,Ni,null),c(this,Gt).clear(),c(this,ys).destroy(),(n=c(this,Fo))==null||n.destroy(),(l=c(this,qs))==null||l.hide(),S(this,qs,null),c(this,Is)&&(clearTimeout(c(this,Is)),S(this,Is,null)),c(this,Gs)&&(clearTimeout(c(this,Gs)),S(this,Gs,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return c(this,fh)}get useNewAltTextFlow(){return c(this,ch)}get useNewAltTextWhenAddingImage(){return c(this,Po)}get hcmFilter(){return Ft(this,"hcmFilter",c(this,Gl)?c(this,uh).addHCMFilter(c(this,Gl).foreground,c(this,Gl).background):"none")}get direction(){return Ft(this,"direction",getComputedStyle(c(this,Rn)).direction)}get highlightColors(){return Ft(this,"highlightColors",c(this,Io)?new Map(c(this,Io).split(",").map(e=>e.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return Ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setMainHighlightColorPicker(e){S(this,dh,e)}editAltText(e,i=!1){var n;(n=c(this,Fo))==null||n.editAltText(this,e,i)}switchToMode(e,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,i){this._eventBus.dispatch("setpreference",{source:this,name:e,value:i})}onSetPreference({name:e,value:i}){switch(e){case"enableNewAltTextWhenAddingImage":S(this,Po,i);break}}onPageChanging({pageNumber:e}){S(this,Bo,e-1)}focusMainContainer(){c(this,Rn).focus()}findParent(e,i){for(const n of c(this,Ye).values()){const{x:l,y:o,width:u,height:d}=n.div.getBoundingClientRect();if(e>=l&&e<=l+u&&i>=o&&i<=o+d)return n}return null}disableUserSelect(e=!1){c(this,mh).classList.toggle("noUserSelect",e)}addShouldRescale(e){c(this,Il).add(e)}removeShouldRescale(e){c(this,Il).delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*sl.PDF_TO_CSS_UNITS;for(const i of c(this,Il))i.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:n,anchorOffset:l,focusNode:o,focusOffset:u}=i,d=i.toString(),g=_(this,tt,Xf).call(this,i).closest(".textLayer"),m=this.getSelectionBoxes(g);if(!m)return;i.empty();const v=_(this,tt,Tb).call(this,g),y=c(this,Be)===_t.NONE,E=()=>{v==null||v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:m,anchorNode:n,anchorOffset:l,focusNode:o,focusOffset:u,text:d}),y&&this.showAllEditors("highlight",!0,!0)};if(y){this.switchToMode(_t.HIGHLIGHT,E);return}E()}addToAnnotationStorage(e){!e.isEmpty()&&c(this,xn)&&!c(this,xn).has(e.id)&&c(this,xn).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,c(this,ka)&&(S(this,ka,!1),_(this,tt,Yf).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const i of c(this,Gt))if(i.div.contains(e)){S(this,ql,[i,e]),i._focusEventsAllowed=!1;break}}focus(){if(!c(this,ql))return;const[e,i]=c(this,ql);S(this,ql,null),i.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}addEditListeners(){_(this,tt,wb).call(this),_(this,tt,Cb).call(this)}removeEditListeners(){_(this,tt,w_).call(this),_(this,tt,xb).call(this)}dragOver(e){for(const{type:i}of e.dataTransfer.items)for(const n of c(this,As))if(n.isHandlingMimeForPasting(i)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const i of e.dataTransfer.items)for(const n of c(this,As))if(n.isHandlingMimeForPasting(i.type)){n.paste(i,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=c(this,Ni))==null||n.commitOrRemove(),!this.hasSelection)return;const i=[];for(const l of c(this,Gt)){const o=l.serialize(!0);o&&i.push(o)}i.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:i}=e;for(const o of i.items)for(const u of c(this,As))if(u.isHandlingMimeForPasting(o.type)){u.paste(o,this.currentLayer);return}let n=i.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(o){Mt(`paste: "${o.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const l=this.currentLayer;try{const o=[];for(const f of n){const g=await l.deserialize(f);if(!g)return;o.push(g)}const u=()=>{for(const f of o)_(this,tt,Mb).call(this,f);_(this,tt,Rb).call(this,o)},d=()=>{for(const f of o)f.remove()};this.addCommands({cmd:u,undo:d,mustExec:!0})}catch(o){Mt(`paste: "${o.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),c(this,Be)!==_t.NONE&&!this.isEditorHandlingKeyboard&&Oo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,c(this,ka)&&(S(this,ka,!1),_(this,tt,Yf).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(_(this,tt,E_).call(this),_(this,tt,Cb).call(this),_(this,tt,ci).call(this,{isEditing:c(this,Be)!==_t.NONE,isEmpty:_(this,tt,zu).call(this),hasSomethingToUndo:c(this,ys).hasSomethingToUndo(),hasSomethingToRedo:c(this,ys).hasSomethingToRedo(),hasSelectedEditor:!1})):(_(this,tt,T_).call(this),_(this,tt,xb).call(this),_(this,tt,ci).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!c(this,As)){S(this,As,e);for(const i of c(this,As))_(this,tt,xa).call(this,i.defaultPropertiesToUpdate)}}getId(){return c(this,Cg).id}get currentLayer(){return c(this,Ye).get(c(this,Bo))}getLayer(e){return c(this,Ye).get(e)}get currentPageIndex(){return c(this,Bo)}addLayer(e){c(this,Ye).set(e.pageIndex,e),c(this,za)?e.enable():e.disable()}removeLayer(e){c(this,Ye).delete(e.pageIndex)}async updateMode(e,i=null,n=!1){if(c(this,Be)!==e&&!(c(this,ss)&&(await c(this,ss).promise,!c(this,ss)))){if(S(this,ss,Promise.withResolvers()),S(this,Be,e),e===_t.NONE){this.setEditingState(!1),_(this,tt,M_).call(this),c(this,ss).resolve();return}this.setEditingState(!0),await _(this,tt,x_).call(this),this.unselectAll();for(const l of c(this,Ye).values())l.updateMode(e);if(!i){n&&this.addNewEditorFromKeyboard(),c(this,ss).resolve();return}for(const l of c(this,Me).values())l.annotationElementId===i?(this.setSelected(l),l.enterInEditMode()):l.unselect();c(this,ss).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==c(this,Be)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,i){var n;if(c(this,As)){switch(e){case pt.CREATE:this.currentLayer.addNewEditor();return;case pt.HIGHLIGHT_DEFAULT_COLOR:(n=c(this,dh))==null||n.updateColor(i);break;case pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(c(this,gh)||S(this,gh,new Map)).set(e,i),this.showAllEditors("highlight",i);break}for(const l of c(this,Gt))l.updateParams(e,i);for(const l of c(this,As))l.updateDefaultParams(e,i)}}showAllEditors(e,i,n=!1){var o;for(const u of c(this,Me).values())u.editorType===e&&u.show(i);(((o=c(this,gh))==null?void 0:o.get(pt.HIGHLIGHT_SHOW_ALL))??!0)!==i&&_(this,tt,xa).call(this,[[pt.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(e=!1){if(c(this,hh)!==e){S(this,hh,e);for(const i of c(this,Ye).values())e?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",e)}}getEditors(e){const i=[];for(const n of c(this,Me).values())n.pageIndex===e&&i.push(n);return i}getEditor(e){return c(this,Me).get(e)}addEditor(e){c(this,Me).set(e.id,e)}removeEditor(e){var i;e.div.contains(document.activeElement)&&(c(this,Is)&&clearTimeout(c(this,Is)),S(this,Is,setTimeout(()=>{this.focusMainContainer(),S(this,Is,null)},0))),c(this,Me).delete(e.id),this.unselect(e),(!e.annotationElementId||!c(this,Pl).has(e.annotationElementId))&&((i=c(this,xn))==null||i.remove(e.id))}addDeletedAnnotationElement(e){c(this,Pl).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return c(this,Pl).has(e)}removeDeletedAnnotationElement(e){c(this,Pl).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){c(this,Ni)!==e&&(S(this,Ni,e),e&&_(this,tt,xa).call(this,e.propertiesToUpdate))}updateUI(e){c(this,tt,R_)===e&&_(this,tt,xa).call(this,e.propertiesToUpdate)}toggleSelected(e){if(c(this,Gt).has(e)){c(this,Gt).delete(e),e.unselect(),_(this,tt,ci).call(this,{hasSelectedEditor:this.hasSelection});return}c(this,Gt).add(e),e.select(),_(this,tt,xa).call(this,e.propertiesToUpdate),_(this,tt,ci).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const i of c(this,Gt))i!==e&&i.unselect();c(this,Gt).clear(),c(this,Gt).add(e),e.select(),_(this,tt,xa).call(this,e.propertiesToUpdate),_(this,tt,ci).call(this,{hasSelectedEditor:!0})}isSelected(e){return c(this,Gt).has(e)}get firstSelectedEditor(){return c(this,Gt).values().next().value}unselect(e){e.unselect(),c(this,Gt).delete(e),_(this,tt,ci).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return c(this,Gt).size!==0}get isEnterHandled(){return c(this,Gt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){c(this,ys).undo(),_(this,tt,ci).call(this,{hasSomethingToUndo:c(this,ys).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:_(this,tt,zu).call(this)})}redo(){c(this,ys).redo(),_(this,tt,ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:c(this,ys).hasSomethingToRedo(),isEmpty:_(this,tt,zu).call(this)})}addCommands(e){c(this,ys).add(e),_(this,tt,ci).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:_(this,tt,zu).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...c(this,Gt)],i=()=>{for(const l of e)l.remove()},n=()=>{for(const l of e)_(this,tt,Mb).call(this,l)};this.addCommands({cmd:i,undo:n,mustExec:!0})}commitOrRemove(){var e;(e=c(this,Ni))==null||e.commitOrRemove()}hasSomethingToControl(){return c(this,Ni)||this.hasSelection}selectAll(){for(const e of c(this,Gt))e.commit();_(this,tt,Rb).call(this,c(this,Me).values())}unselectAll(){if(!(c(this,Ni)&&(c(this,Ni).commitOrRemove(),c(this,Be)!==_t.NONE))&&this.hasSelection){for(const e of c(this,Gt))e.unselect();c(this,Gt).clear(),_(this,tt,ci).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,i,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;c(this,Fa)[0]+=e,c(this,Fa)[1]+=i;const[l,o]=c(this,Fa),u=[...c(this,Gt)],d=1e3;c(this,Gs)&&clearTimeout(c(this,Gs)),S(this,Gs,setTimeout(()=>{S(this,Gs,null),c(this,Fa)[0]=c(this,Fa)[1]=0,this.addCommands({cmd:()=>{for(const f of u)c(this,Me).has(f.id)&&f.translateInPage(l,o)},undo:()=>{for(const f of u)c(this,Me).has(f.id)&&f.translateInPage(-l,-o)},mustExec:!1})},d));for(const f of u)f.translateInPage(e,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),S(this,Ps,new Map);for(const e of c(this,Gt))c(this,Ps).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!c(this,Ps))return!1;this.disableUserSelect(!1);const e=c(this,Ps);S(this,Ps,null);let i=!1;for(const[{x:l,y:o,pageIndex:u},d]of e)d.newX=l,d.newY=o,d.newPageIndex=u,i||(i=l!==d.savedX||o!==d.savedY||u!==d.savedPageIndex);if(!i)return!1;const n=(l,o,u,d)=>{if(c(this,Me).has(l.id)){const f=c(this,Ye).get(d);f?l._setParentAndPosition(f,o,u):(l.pageIndex=d,l.x=o,l.y=u)}};return this.addCommands({cmd:()=>{for(const[l,{newX:o,newY:u,newPageIndex:d}]of e)n(l,o,u,d)},undo:()=>{for(const[l,{savedX:o,savedY:u,savedPageIndex:d}]of e)n(l,o,u,d)},mustExec:!0}),!0}dragSelectedEditors(e,i){if(c(this,Ps))for(const n of c(this,Ps).keys())n.drag(e,i)}rebuild(e){if(e.parent===null){const i=this.getLayer(e.pageIndex);i?(i.changeParent(e),i.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||c(this,Gt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return c(this,Ni)===e}getActive(){return c(this,Ni)}getMode(){return c(this,Be)}get imageManager(){return Ft(this,"imageManager",new _b)}getSelectionBoxes(e){if(!e)return null;const i=document.getSelection();for(let g=0,m=i.rangeCount;g<m;g++)if(!e.contains(i.getRangeAt(g).commonAncestorContainer))return null;const{x:n,y:l,width:o,height:u}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(g,m,v,y)=>({x:(m-l)/u,y:1-(g+v-n)/o,width:y/u,height:v/o});break;case"180":d=(g,m,v,y)=>({x:1-(g+v-n)/o,y:1-(m+y-l)/u,width:v/o,height:y/u});break;case"270":d=(g,m,v,y)=>({x:1-(m+y-l)/u,y:(g-n)/o,width:y/u,height:v/o});break;default:d=(g,m,v,y)=>({x:(g-n)/o,y:(m-l)/u,width:v/o,height:y/u});break}const f=[];for(let g=0,m=i.rangeCount;g<m;g++){const v=i.getRangeAt(g);if(!v.collapsed)for(const{x:y,y:E,width:C,height:x}of v.getClientRects())C===0||x===0||f.push(d(y,E,C,x))}return f.length===0?null:f}addChangedExistingAnnotation({annotationElementId:e,id:i}){(c(this,Uo)||S(this,Uo,new Map)).set(e,i)}removeChangedExistingAnnotation({annotationElementId:e}){var i;(i=c(this,Uo))==null||i.delete(e)}renderAnnotationElement(e){var l;const i=(l=c(this,Uo))==null?void 0:l.get(e.data.id);if(!i)return;const n=c(this,xn).getRawValue(i);n&&(c(this,Be)===_t.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Ho=new WeakMap,Ni=new WeakMap,Me=new WeakMap,Ye=new WeakMap,Fo=new WeakMap,xn=new WeakMap,Uo=new WeakMap,ys=new WeakMap,La=new WeakMap,Bo=new WeakMap,Pl=new WeakMap,Ps=new WeakMap,As=new WeakMap,Il=new WeakMap,oh=new WeakMap,ch=new WeakMap,Po=new WeakMap,uh=new WeakMap,Is=new WeakMap,Na=new WeakMap,Io=new WeakMap,ka=new WeakMap,qs=new WeakMap,Cg=new WeakMap,za=new WeakMap,hh=new WeakMap,Ha=new WeakMap,ql=new WeakMap,dh=new WeakMap,fh=new WeakMap,Be=new WeakMap,Gt=new WeakMap,Mn=new WeakMap,Gl=new WeakMap,gh=new WeakMap,ph=new WeakMap,Fa=new WeakMap,Gs=new WeakMap,Rn=new WeakMap,mh=new WeakMap,ss=new WeakMap,tt=new WeakSet,Xf=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Tb=function(e){const{currentLayer:i}=this;if(i.hasTextLayer(e))return i;for(const n of c(this,Ye).values())if(n.hasTextLayer(e))return n;return null},A_=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=_(this,tt,Xf).call(this,e).closest(".textLayer"),l=this.getSelectionBoxes(n);l&&(c(this,qs)||S(this,qs,new dC(this)),c(this,qs).show(n,l,this.direction==="ltr"))},S_=function(){var o,u,d;const e=document.getSelection();if(!e||e.isCollapsed){c(this,Mn)&&((o=c(this,qs))==null||o.hide(),S(this,Mn,null),_(this,tt,ci).call(this,{hasSelectedText:!1}));return}const{anchorNode:i}=e;if(i===c(this,Mn))return;const l=_(this,tt,Xf).call(this,e).closest(".textLayer");if(!l){c(this,Mn)&&((u=c(this,qs))==null||u.hide(),S(this,Mn,null),_(this,tt,ci).call(this,{hasSelectedText:!1}));return}if((d=c(this,qs))==null||d.hide(),S(this,Mn,i),_(this,tt,ci).call(this,{hasSelectedText:!0}),!(c(this,Be)!==_t.HIGHLIGHT&&c(this,Be)!==_t.NONE)&&(c(this,Be)===_t.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),S(this,ka,this.isShiftKeyDown),!this.isShiftKeyDown)){const f=c(this,Be)===_t.HIGHLIGHT?_(this,tt,Tb).call(this,l):null;f==null||f.toggleDrawing();const g=new AbortController,m=this.combinedSignal(g),v=y=>{y.type==="pointerup"&&y.button!==0||(g.abort(),f==null||f.toggleDrawing(!0),y.type==="pointerup"&&_(this,tt,Yf).call(this,"main_toolbar"))};window.addEventListener("pointerup",v,{signal:m}),window.addEventListener("blur",v,{signal:m})}},Yf=function(e=""){c(this,Be)===_t.HIGHLIGHT?this.highlightSelection(e):c(this,oh)&&_(this,tt,A_).call(this)},__=function(){document.addEventListener("selectionchange",_(this,tt,S_).bind(this),{signal:this._signal})},E_=function(){if(c(this,Na))return;S(this,Na,new AbortController);const e=this.combinedSignal(c(this,Na));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},T_=function(){var e;(e=c(this,Na))==null||e.abort(),S(this,Na,null)},wb=function(){if(c(this,Ha))return;S(this,Ha,new AbortController);const e=this.combinedSignal(c(this,Ha));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},w_=function(){var e;(e=c(this,Ha))==null||e.abort(),S(this,Ha,null)},Cb=function(){if(c(this,La))return;S(this,La,new AbortController);const e=this.combinedSignal(c(this,La));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},xb=function(){var e;(e=c(this,La))==null||e.abort(),S(this,La,null)},C_=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},ci=function(e){Object.entries(e).some(([n,l])=>c(this,ph)[n]!==l)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(c(this,ph),e)}),c(this,Be)===_t.HIGHLIGHT&&e.hasSelectedEditor===!1&&_(this,tt,xa).call(this,[[pt.HIGHLIGHT_FREE,!0]]))},xa=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},x_=async function(){if(!c(this,za)){S(this,za,!0);const e=[];for(const i of c(this,Ye).values())e.push(i.enable());await Promise.all(e);for(const i of c(this,Me).values())i.enable()}},M_=function(){if(this.unselectAll(),c(this,za)){S(this,za,!1);for(const e of c(this,Ye).values())e.disable();for(const e of c(this,Me).values())e.disable()}},Mb=function(e){const i=c(this,Ye).get(e.pageIndex);i?i.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},R_=function(){let e=null;for(e of c(this,Gt));return e},zu=function(){if(c(this,Me).size===0)return!0;if(c(this,Me).size===1)for(const e of c(this,Me).values())return e.isEmpty();return!1},Rb=function(e){for(const i of c(this,Gt))i.unselect();c(this,Gt).clear();for(const i of e)i.isEmpty()||(c(this,Gt).add(i),i.select());_(this,tt,ci).call(this,{hasSelectedEditor:this.hasSelection})},gt(Oo,"TRANSLATE_SMALL",1),gt(Oo,"TRANSLATE_BIG",10);let Nr=Oo;var Pe,js,Ss,qo,Xs,ki,Go,Ys,Ai,Dn,jl,Vs,Ua,Os,Hu,Vf;const ui=class ui{constructor(e){T(this,Os);T(this,Pe,null);T(this,js,!1);T(this,Ss,null);T(this,qo,null);T(this,Xs,null);T(this,ki,null);T(this,Go,!1);T(this,Ys,null);T(this,Ai,null);T(this,Dn,null);T(this,jl,null);T(this,Vs,!1);S(this,Ai,e),S(this,Vs,e._uiManager.useNewAltTextFlow),c(ui,Ua)||S(ui,Ua,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ui._l10n??(ui._l10n=e)}async render(){const e=S(this,Ss,document.createElement("button"));e.className="altText",e.tabIndex="0";const i=S(this,qo,document.createElement("span"));e.append(i),c(this,Vs)?(e.classList.add("new"),e.setAttribute("data-l10n-id",c(ui,Ua).missing),i.setAttribute("data-l10n-id",c(ui,Ua)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=c(this,Ai)._uiManager._signal;e.addEventListener("contextmenu",hs,{signal:n}),e.addEventListener("pointerdown",o=>o.stopPropagation(),{signal:n});const l=o=>{o.preventDefault(),c(this,Ai)._uiManager.editAltText(c(this,Ai)),c(this,Vs)&&c(this,Ai)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:c(this,Os,Hu)}})};return e.addEventListener("click",l,{capture:!0,signal:n}),e.addEventListener("keydown",o=>{o.target===e&&o.key==="Enter"&&(S(this,Go,!0),l(o))},{signal:n}),await _(this,Os,Vf).call(this),e}finish(){c(this,Ss)&&(c(this,Ss).focus({focusVisible:c(this,Go)}),S(this,Go,!1))}isEmpty(){return c(this,Vs)?c(this,Pe)===null:!c(this,Pe)&&!c(this,js)}hasData(){return c(this,Vs)?c(this,Pe)!==null||!!c(this,Dn):this.isEmpty()}get guessedText(){return c(this,Dn)}async setGuessedText(e){c(this,Pe)===null&&(S(this,Dn,e),S(this,jl,await ui._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),_(this,Os,Vf).call(this))}toggleAltTextBadge(e=!1){var i;if(!c(this,Vs)||c(this,Pe)){(i=c(this,Ys))==null||i.remove(),S(this,Ys,null);return}if(!c(this,Ys)){const n=S(this,Ys,document.createElement("div"));n.className="noAltTextBadge",c(this,Ai).div.append(n)}c(this,Ys).classList.toggle("hidden",!e)}serialize(e){let i=c(this,Pe);return!e&&c(this,Dn)===i&&(i=c(this,jl)),{altText:i,decorative:c(this,js),guessedText:c(this,Dn),textWithDisclaimer:c(this,jl)}}get data(){return{altText:c(this,Pe),decorative:c(this,js)}}set data({altText:e,decorative:i,guessedText:n,textWithDisclaimer:l,cancel:o=!1}){n&&(S(this,Dn,n),S(this,jl,l)),!(c(this,Pe)===e&&c(this,js)===i)&&(o||(S(this,Pe,e),S(this,js,i)),_(this,Os,Vf).call(this))}toggle(e=!1){c(this,Ss)&&(!e&&c(this,ki)&&(clearTimeout(c(this,ki)),S(this,ki,null)),c(this,Ss).disabled=!e)}shown(){c(this,Ai)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:c(this,Os,Hu)}})}destroy(){var e,i;(e=c(this,Ss))==null||e.remove(),S(this,Ss,null),S(this,qo,null),S(this,Xs,null),(i=c(this,Ys))==null||i.remove(),S(this,Ys,null)}};Pe=new WeakMap,js=new WeakMap,Ss=new WeakMap,qo=new WeakMap,Xs=new WeakMap,ki=new WeakMap,Go=new WeakMap,Ys=new WeakMap,Ai=new WeakMap,Dn=new WeakMap,jl=new WeakMap,Vs=new WeakMap,Ua=new WeakMap,Os=new WeakSet,Hu=function(){return c(this,Pe)&&"added"||c(this,Pe)===null&&this.guessedText&&"review"||"missing"},Vf=async function(){var l,o,u;const e=c(this,Ss);if(!e)return;if(c(this,Vs)){if(e.classList.toggle("done",!!c(this,Pe)),e.setAttribute("data-l10n-id",c(ui,Ua)[c(this,Os,Hu)]),(l=c(this,qo))==null||l.setAttribute("data-l10n-id",c(ui,Ua)[`${c(this,Os,Hu)}-label`]),!c(this,Pe)){(o=c(this,Xs))==null||o.remove();return}}else{if(!c(this,Pe)&&!c(this,js)){e.classList.remove("done"),(u=c(this,Xs))==null||u.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=c(this,Xs);if(!i){S(this,Xs,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${c(this,Ai).id}`;const d=100,f=c(this,Ai)._uiManager._signal;f.addEventListener("abort",()=>{clearTimeout(c(this,ki)),S(this,ki,null)},{once:!0}),e.addEventListener("mouseenter",()=>{S(this,ki,setTimeout(()=>{S(this,ki,null),c(this,Xs).classList.add("show"),c(this,Ai)._reportTelemetry({action:"alt_text_tooltip"})},d))},{signal:f}),e.addEventListener("mouseleave",()=>{var g;c(this,ki)&&(clearTimeout(c(this,ki)),S(this,ki,null)),(g=c(this,Xs))==null||g.classList.remove("show")},{signal:f})}c(this,js)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=c(this,Pe)),i.parentNode||e.append(i);const n=c(this,Ai).getImageForAltText();n==null||n.setAttribute("aria-describedby",i.id)},T(ui,Ua,null),gt(ui,"_l10n",null);let vg=ui;var Xl,_s,re,jo,Yl,Ve,Vl,Ba,bh,Kl,Pa,vh,Ql,On,Ks,Xo,Yo,ns,yh,xg,wt,Db,Ah,Ob,Lb,D_,O_,Nb,kb,zb,L_,Hb,N_,k_,z_,Fb,Fu;const qt=class qt{constructor(e){T(this,wt);T(this,Xl,null);T(this,_s,null);T(this,re,null);T(this,jo,!1);T(this,Yl,!1);T(this,Ve,null);T(this,Vl,null);T(this,Ba,null);T(this,bh,"");T(this,Kl,!1);T(this,Pa,null);T(this,vh,!1);T(this,Ql,!1);T(this,On,!1);T(this,Ks,null);T(this,Xo,0);T(this,Yo,0);T(this,ns,null);gt(this,"_editToolbar",null);gt(this,"_initialOptions",Object.create(null));gt(this,"_initialData",null);gt(this,"_isVisible",!0);gt(this,"_uiManager",null);gt(this,"_focusEventsAllowed",!0);T(this,yh,!1);T(this,xg,qt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:i,rawDims:{pageWidth:n,pageHeight:l,pageX:o,pageY:u}}=this.parent.viewport;this.rotation=i,this.pageRotation=(360+i-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,l],this.pageTranslation=[o,u];const[d,f]=this.parentDimensions;this.x=e.x/d,this.y=e.y/f,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=qt.prototype._resizeWithKeyboard,i=Nr.TRANSLATE_SMALL,n=Nr.TRANSLATE_BIG;return Ft(this,"_resizerKeyboardManager",new vd([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-i,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[i,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-i]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,i]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],qt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const i=new mC({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});i.annotationElementId=e.annotationElementId,i.deleted=!0,i._uiManager.addToAnnotationStorage(i)}static initialize(e,i){if(qt._l10n??(qt._l10n=e),qt._l10nResizer||(qt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),qt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);qt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,i){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,i){ee("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return c(this,yh)}set _isDraggable(e){var i;S(this,yh,e),(i=this.div)==null||i.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,i]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*i/(e*2),this.y+=this.width*e/(i*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*i/(e*2),this.y-=this.width*e/(i*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=c(this,xg)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):_(this,wt,Fu).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(c(this,Kl)?S(this,Kl,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const i=e.relatedTarget;i!=null&&i.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,i,n,l){const[o,u]=this.parentDimensions;[n,l]=this.screenToPageTranslation(n,l),this.x=(e+n)/o,this.y=(i+l)/u,this.fixAndSetPosition()}translate(e,i){_(this,wt,Db).call(this,this.parentDimensions,e,i)}translateInPage(e,i){c(this,Pa)||S(this,Pa,[this.x,this.y]),_(this,wt,Db).call(this,this.pageDimensions,e,i),this.div.scrollIntoView({block:"nearest"})}drag(e,i){c(this,Pa)||S(this,Pa,[this.x,this.y]);const[n,l]=this.parentDimensions;if(this.x+=e/n,this.y+=i/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:g,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,g,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:u}=this;const[d,f]=this.getBaseTranslation();o+=d,u+=f,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*u).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!c(this,Pa)&&(c(this,Pa)[0]!==this.x||c(this,Pa)[1]!==this.y)}getBaseTranslation(){const[e,i]=this.parentDimensions,{_borderLineWidth:n}=qt,l=n/e,o=n/i;switch(this.rotation){case 90:return[-l,o];case 180:return[l,o];case 270:return[l,-o];default:return[-l,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const[i,n]=this.pageDimensions;let{x:l,y:o,width:u,height:d}=this;if(u*=i,d*=n,l*=i,o*=n,this._mustFixPosition)switch(e){case 0:l=Math.max(0,Math.min(i-u,l)),o=Math.max(0,Math.min(n-d,o));break;case 90:l=Math.max(0,Math.min(i-d,l)),o=Math.min(n,Math.max(u,o));break;case 180:l=Math.min(i,Math.max(u,l)),o=Math.min(n,Math.max(d,o));break;case 270:l=Math.min(i,Math.max(d,l)),o=Math.max(0,Math.min(n-u,o));break}this.x=l/=i,this.y=o/=n;const[f,g]=this.getBaseTranslation();l+=f,o+=g;const{style:m}=this.div;m.left=`${(100*l).toFixed(2)}%`,m.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,i){var n;return _(n=qt,Ah,Ob).call(n,e,i,this.parentRotation)}pageTranslationToScreen(e,i){var n;return _(n=qt,Ah,Ob).call(n,e,i,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[i,n]}=this;return[i*e,n*e]}setDims(e,i){const[n,l]=this.parentDimensions;this.div.style.width=`${(100*e/n).toFixed(2)}%`,c(this,Yl)||(this.div.style.height=`${(100*i/l).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:i,width:n}=e,l=n.endsWith("%"),o=!c(this,Yl)&&i.endsWith("%");if(l&&o)return;const[u,d]=this.parentDimensions;l||(e.width=`${(100*parseFloat(n)/u).toFixed(2)}%`),!c(this,Yl)&&!o&&(e.height=`${(100*parseFloat(i)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var e;(e=c(this,re))==null||e.finish()}async addEditToolbar(){return this._editToolbar||c(this,Ql)?this._editToolbar:(this._editToolbar=new Ab(this),this.div.append(this._editToolbar.render()),c(this,re)&&await this._editToolbar.addAltText(c(this,re)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=c(this,re))==null||e.destroy())}addContainer(e){var n;const i=(n=this._editToolbar)==null?void 0:n.div;i?i.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){c(this,re)||(vg.initialize(qt._l10n),S(this,re,new vg(this)),c(this,Xl)&&(c(this,re).data=c(this,Xl),S(this,Xl,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=c(this,re))==null?void 0:e.data}set altTextData(e){c(this,re)&&(c(this,re).data=e)}get guessedAltText(){var e;return(e=c(this,re))==null?void 0:e.guessedText}async setGuessedAltText(e){var i;await((i=c(this,re))==null?void 0:i.setGuessedText(e))}serializeAltText(e){var i;return(i=c(this,re))==null?void 0:i.serialize(e)}hasAltText(){return!!c(this,re)&&!c(this,re).isEmpty()}hasAltTextData(){var e;return((e=c(this,re))==null?void 0:e.hasData())??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=c(this,jo)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),_(this,wt,Hb).call(this);const[e,i]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*i/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/i).toFixed(2)}%`);const[n,l]=this.getInitialTranslation();return this.translate(n,l),bg(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:i}=di.platform;if(e.button!==0||e.ctrlKey&&i){e.preventDefault();return}if(S(this,Kl,!0),this._isDraggable){_(this,wt,L_).call(this,e);return}_(this,wt,zb).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){c(this,Ks)&&clearTimeout(c(this,Ks)),S(this,Ks,setTimeout(()=>{var e;S(this,Ks,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,i,n){e.changeParent(this),this.x=i,this.y=n,this.fixAndSetPosition()}getRect(e,i,n=this.rotation){const l=this.parentScale,[o,u]=this.pageDimensions,[d,f]=this.pageTranslation,g=e/l,m=i/l,v=this.x*o,y=this.y*u,E=this.width*o,C=this.height*u;switch(n){case 0:return[v+g+d,u-y-m-C+f,v+g+E+d,u-y-m+f];case 90:return[v+m+d,u-y+g+f,v+m+C+d,u-y+g+E+f];case 180:return[v-g-E+d,u-y+m+f,v-g+d,u-y+m+C+f];case 270:return[v-m-C+d,u-y-g-E+f,v-m+d,u-y-g+f];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,i){const[n,l,o,u]=e,d=o-n,f=u-l;switch(this.rotation){case 0:return[n,i-u,d,f];case 90:return[n,i-l,f,d];case 180:return[o,i-l,d,f];case 270:return[o,i-u,f,d];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){S(this,Ql,!0)}disableEditMode(){S(this,Ql,!1)}isInEditMode(){return c(this,Ql)}shouldGetKeyboardEvents(){return c(this,On)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){_(this,wt,Hb).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,i=null){ee("An editor must be serializable")}static async deserialize(e,i,n){const l=new this.prototype.constructor({parent:i,id:i.getNextId(),uiManager:n});l.rotation=e.rotation,S(l,Xl,e.accessibilityData);const[o,u]=l.pageDimensions,[d,f,g,m]=l.getRectInCurrentCoords(e.rect,u);return l.x=d/o,l.y=f/u,l.width=g/o,l.height=m/u,l}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e;if((e=c(this,Ba))==null||e.abort(),S(this,Ba,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),c(this,Ks)&&(clearTimeout(c(this,Ks)),S(this,Ks,null)),_(this,wt,Fu).call(this),this.removeEditToolbar(),c(this,ns)){for(const i of c(this,ns).values())clearTimeout(i);S(this,ns,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(_(this,wt,D_).call(this),c(this,Ve).classList.remove("hidden"),bg(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),S(this,Vl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const i=c(this,Ve).children;if(!c(this,_s)){S(this,_s,Array.from(i));const u=_(this,wt,N_).bind(this),d=_(this,wt,k_).bind(this),f=this._uiManager._signal;for(const g of c(this,_s)){const m=g.getAttribute("data-resizer-name");g.setAttribute("role","spinbutton"),g.addEventListener("keydown",u,{signal:f}),g.addEventListener("blur",d,{signal:f}),g.addEventListener("focus",_(this,wt,z_).bind(this,m),{signal:f}),g.setAttribute("data-l10n-id",qt._l10nResizer[m])}}const n=c(this,_s)[0];let l=0;for(const u of i){if(u===n)break;l++}const o=(360-this.rotation+this.parentRotation)%360/90*(c(this,_s).length/4);if(o!==l){if(o<l)for(let d=0;d<l-o;d++)c(this,Ve).append(c(this,Ve).firstChild);else if(o>l)for(let d=0;d<o-l;d++)c(this,Ve).firstChild.before(c(this,Ve).lastChild);let u=0;for(const d of i){const g=c(this,_s)[u++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",qt._l10nResizer[g])}}_(this,wt,Fb).call(this,0),S(this,On,!0),c(this,Ve).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,i){c(this,On)&&_(this,wt,kb).call(this,c(this,bh),{movementX:e,movementY:i})}_stopResizingWithKeyboard(){_(this,wt,Fu).call(this),this.div.focus()}select(){var e,i,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var l,o;(l=this.div)!=null&&l.classList.contains("selectedEditor")&&((o=this._editToolbar)==null||o.show())});return}(i=this._editToolbar)==null||i.show(),(n=c(this,re))==null||n.toggleAltTextBadge(!1)}unselect(){var e,i,n,l,o;(e=c(this,Ve))==null||e.classList.add("hidden"),(i=this.div)==null||i.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(l=this._editToolbar)==null||l.hide(),(o=c(this,re))==null||o.toggleAltTextBadge(!0)}updateParams(e,i){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return c(this,vh)}set isEditing(e){S(this,vh,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,i){S(this,Yl,!0);const n=e/i,{style:l}=this.div;l.aspectRatio=n,l.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,i=!1){if(i){c(this,ns)||S(this,ns,new Map);const{action:n}=e;let l=c(this,ns).get(n);l&&clearTimeout(l),l=setTimeout(()=>{this._reportTelemetry(e),c(this,ns).delete(n),c(this,ns).size===0&&S(this,ns,null)},qt._telemetryTimeout),c(this,ns).set(n,l);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),S(this,jo,!1)}disable(){this.div&&(this.div.tabIndex=-1),S(this,jo,!0)}renderAnnotationElement(e){let i=e.container.querySelector(".annotationContent");if(!i)i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),e.container.prepend(i);else if(i.nodeName==="CANVAS"){const n=i;i=document.createElement("div"),i.classList.add("annotationContent",this.editorType),n.before(i)}return i}resetAnnotationElement(e){const{firstChild:i}=e.container;(i==null?void 0:i.nodeName)==="DIV"&&i.classList.contains("annotationContent")&&i.remove()}};Xl=new WeakMap,_s=new WeakMap,re=new WeakMap,jo=new WeakMap,Yl=new WeakMap,Ve=new WeakMap,Vl=new WeakMap,Ba=new WeakMap,bh=new WeakMap,Kl=new WeakMap,Pa=new WeakMap,vh=new WeakMap,Ql=new WeakMap,On=new WeakMap,Ks=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,ns=new WeakMap,yh=new WeakMap,xg=new WeakMap,wt=new WeakSet,Db=function([e,i],n,l){[n,l]=this.screenToPageTranslation(n,l),this.x+=n/e,this.y+=l/i,this.fixAndSetPosition()},Ah=new WeakSet,Ob=function(e,i,n){switch(n){case 90:return[i,-e];case 180:return[-e,-i];case 270:return[-i,e];default:return[e,i]}},Lb=function(e){switch(e){case 90:{const[i,n]=this.pageDimensions;return[0,-i/n,n/i,0]}case 180:return[-1,0,0,-1];case 270:{const[i,n]=this.pageDimensions;return[0,i/n,-n/i,0]}default:return[1,0,0,1]}},D_=function(){if(c(this,Ve))return;S(this,Ve,document.createElement("div")),c(this,Ve).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],i=this._uiManager._signal;for(const n of e){const l=document.createElement("div");c(this,Ve).append(l),l.classList.add("resizer",n),l.setAttribute("data-resizer-name",n),l.addEventListener("pointerdown",_(this,wt,O_).bind(this,n),{signal:i}),l.addEventListener("contextmenu",hs,{signal:i}),l.tabIndex=-1}this.div.prepend(c(this,Ve))},O_=function(e,i){var C;i.preventDefault();const{isMac:n}=di.platform;if(i.button!==0||i.ctrlKey&&n)return;(C=c(this,re))==null||C.toggle(!1);const l=this._isDraggable;this._isDraggable=!1;const o=new AbortController,u=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",_(this,wt,kb).bind(this,e),{passive:!0,capture:!0,signal:u}),window.addEventListener("contextmenu",hs,{signal:u});const d=this.x,f=this.y,g=this.width,m=this.height,v=this.parent.div.style.cursor,y=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(i.target).cursor;const E=()=>{var x;o.abort(),this.parent.togglePointerEvents(!0),(x=c(this,re))==null||x.toggle(!0),this._isDraggable=l,this.parent.div.style.cursor=v,this.div.style.cursor=y,_(this,wt,Nb).call(this,d,f,g,m)};window.addEventListener("pointerup",E,{signal:u}),window.addEventListener("blur",E,{signal:u})},Nb=function(e,i,n,l){const o=this.x,u=this.y,d=this.width,f=this.height;o===e&&u===i&&d===n&&f===l||this.addCommands({cmd:()=>{this.width=d,this.height=f,this.x=o,this.y=u;const[g,m]=this.parentDimensions;this.setDims(g*d,m*f),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=l,this.x=e,this.y=i;const[g,m]=this.parentDimensions;this.setDims(g*n,m*l),this.fixAndSetPosition()},mustExec:!0})},kb=function(e,i){const[n,l]=this.parentDimensions,o=this.x,u=this.y,d=this.width,f=this.height,g=qt.MIN_SIZE/n,m=qt.MIN_SIZE/l,v=Z=>Math.round(Z*1e4)/1e4,y=_(this,wt,Lb).call(this,this.rotation),E=(Z,W)=>[y[0]*Z+y[2]*W,y[1]*Z+y[3]*W],C=_(this,wt,Lb).call(this,360-this.rotation),x=(Z,W)=>[C[0]*Z+C[2]*W,C[1]*Z+C[3]*W];let O,R,z=!1,F=!1;switch(e){case"topLeft":z=!0,O=(Z,W)=>[0,0],R=(Z,W)=>[Z,W];break;case"topMiddle":O=(Z,W)=>[Z/2,0],R=(Z,W)=>[Z/2,W];break;case"topRight":z=!0,O=(Z,W)=>[Z,0],R=(Z,W)=>[0,W];break;case"middleRight":F=!0,O=(Z,W)=>[Z,W/2],R=(Z,W)=>[0,W/2];break;case"bottomRight":z=!0,O=(Z,W)=>[Z,W],R=(Z,W)=>[0,0];break;case"bottomMiddle":O=(Z,W)=>[Z/2,W],R=(Z,W)=>[Z/2,0];break;case"bottomLeft":z=!0,O=(Z,W)=>[0,W],R=(Z,W)=>[Z,0];break;case"middleLeft":F=!0,O=(Z,W)=>[0,W/2],R=(Z,W)=>[Z,W/2];break}const B=O(d,f),P=R(d,f);let I=E(...P);const Q=v(o+I[0]),J=v(u+I[1]);let V=1,st=1,[rt,Rt]=this.screenToPageTranslation(i.movementX,i.movementY);if([rt,Rt]=x(rt/n,Rt/l),z){const Z=Math.hypot(d,f);V=st=Math.max(Math.min(Math.hypot(P[0]-B[0]-rt,P[1]-B[1]-Rt)/Z,1/d,1/f),g/d,m/f)}else F?V=Math.max(g,Math.min(1,Math.abs(P[0]-B[0]-rt)))/d:st=Math.max(m,Math.min(1,Math.abs(P[1]-B[1]-Rt)))/f;const yt=v(d*V),Ct=v(f*st);I=E(...R(yt,Ct));const vt=Q-I[0],K=J-I[1];this.width=yt,this.height=Ct,this.x=vt,this.y=K,this.setDims(n*yt,l*Ct),this.fixAndSetPosition()},zb=function(e){const{isMac:i}=di.platform;e.ctrlKey&&!i||e.shiftKey||e.metaKey&&i?this.parent.toggleSelected(this):this.parent.setSelected(this)},L_=function(e){const{isSelected:i}=this;this._uiManager.setUpDragSession();const n=new AbortController,l=this._uiManager.combinedSignal(n);if(i){this.div.classList.add("moving"),S(this,Xo,e.clientX),S(this,Yo,e.clientY);const u=d=>{const{clientX:f,clientY:g}=d,[m,v]=this.screenToPageTranslation(f-c(this,Xo),g-c(this,Yo));S(this,Xo,f),S(this,Yo,g),this._uiManager.dragSelectedEditors(m,v)};window.addEventListener("pointermove",u,{passive:!0,capture:!0,signal:l})}const o=()=>{n.abort(),i&&this.div.classList.remove("moving"),S(this,Kl,!1),this._uiManager.endDragSession()||_(this,wt,zb).call(this,e)};window.addEventListener("pointerup",o,{signal:l}),window.addEventListener("blur",o,{signal:l})},Hb=function(){if(c(this,Ba)||!this.div)return;S(this,Ba,new AbortController);const e=this._uiManager.combinedSignal(c(this,Ba));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},N_=function(e){qt._resizerKeyboardManager.exec(this,e)},k_=function(e){var i;c(this,On)&&((i=e.relatedTarget)==null?void 0:i.parentNode)!==c(this,Ve)&&_(this,wt,Fu).call(this)},z_=function(e){S(this,bh,c(this,On)?e:"")},Fb=function(e){if(c(this,_s))for(const i of c(this,_s))i.tabIndex=e},Fu=function(){if(S(this,On,!1),_(this,wt,Fb).call(this,-1),c(this,Vl)){const{savedX:e,savedY:i,savedWidth:n,savedHeight:l}=c(this,Vl);_(this,wt,Nb).call(this,e,i,n,l),S(this,Vl,null)}},T(qt,Ah),gt(qt,"_l10n",null),gt(qt,"_l10nResizer",null),gt(qt,"_borderLineWidth",-1),gt(qt,"_colorManager",new Eb),gt(qt,"_zIndex",1),gt(qt,"_telemetryTimeout",1e3);let Xt=qt;class mC extends Xt{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const US=3285377520,is=4294901760,Bs=65535;class H_{constructor(e){this.h1=e?e&4294967295:US,this.h2=e?e&4294967295:US}update(e){let i,n;if(typeof e=="string"){i=new Uint8Array(e.length*2),n=0;for(let x=0,O=e.length;x<O;x++){const R=e.charCodeAt(x);R<=255?i[n++]=R:(i[n++]=R>>>8,i[n++]=R&255)}}else if(ArrayBuffer.isView(e))i=e.slice(),n=i.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const l=n>>2,o=n-l*4,u=new Uint32Array(i.buffer,0,l);let d=0,f=0,g=this.h1,m=this.h2;const v=3432918353,y=461845907,E=v&Bs,C=y&Bs;for(let x=0;x<l;x++)x&1?(d=u[x],d=d*v&is|d*E&Bs,d=d<<15|d>>>17,d=d*y&is|d*C&Bs,g^=d,g=g<<13|g>>>19,g=g*5+3864292196):(f=u[x],f=f*v&is|f*E&Bs,f=f<<15|f>>>17,f=f*y&is|f*C&Bs,m^=f,m=m<<13|m>>>19,m=m*5+3864292196);switch(d=0,o){case 3:d^=i[l*4+2]<<16;case 2:d^=i[l*4+1]<<8;case 1:d^=i[l*4],d=d*v&is|d*E&Bs,d=d<<15|d>>>17,d=d*y&is|d*C&Bs,l&1?g^=d:m^=d}this.h1=g,this.h2=m}hexdigest(){let e=this.h1,i=this.h2;return e^=i>>>1,e=e*3981806797&is|e*36045&Bs,i=i*4283543511&is|((i<<16|e>>>16)*2950163797&is)>>>16,e^=i>>>1,e=e*444984403&is|e*60499&Bs,i=i*3301882366&is|((i<<16|e>>>16)*3120437893&is)>>>16,e^=i>>>1,(e>>>0).toString(16).padStart(8,"0")+(i>>>0).toString(16).padStart(8,"0")}}const Ub=Object.freeze({map:null,hash:"",transfer:void 0});var Wl,Zl,Ie,Mg,F_;class U0{constructor(){T(this,Mg);T(this,Wl,!1);T(this,Zl,null);T(this,Ie,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,i){const n=c(this,Ie).get(e);return n===void 0?i:Object.assign(i,n)}getRawValue(e){return c(this,Ie).get(e)}remove(e){if(c(this,Ie).delete(e),c(this,Ie).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const i of c(this,Ie).values())if(i instanceof Xt)return;this.onAnnotationEditor(null)}}setValue(e,i){const n=c(this,Ie).get(e);let l=!1;if(n!==void 0)for(const[o,u]of Object.entries(i))n[o]!==u&&(l=!0,n[o]=u);else l=!0,c(this,Ie).set(e,i);l&&_(this,Mg,F_).call(this),i instanceof Xt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(i.constructor._type)}has(e){return c(this,Ie).has(e)}getAll(){return c(this,Ie).size>0?L0(c(this,Ie)):null}setAll(e){for(const[i,n]of Object.entries(e))this.setValue(i,n)}get size(){return c(this,Ie).size}resetModified(){c(this,Wl)&&(S(this,Wl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new U_(this)}get serializable(){if(c(this,Ie).size===0)return Ub;const e=new Map,i=new H_,n=[],l=Object.create(null);let o=!1;for(const[u,d]of c(this,Ie)){const f=d instanceof Xt?d.serialize(!1,l):d;f&&(e.set(u,f),i.update(`${u}:${JSON.stringify(f)}`),o||(o=!!f.bitmap))}if(o)for(const u of e.values())u.bitmap&&n.push(u.bitmap);return e.size>0?{map:e,hash:i.hexdigest(),transfer:n}:Ub}get editorStats(){let e=null;const i=new Map;for(const n of c(this,Ie).values()){if(!(n instanceof Xt))continue;const l=n.telemetryFinalData;if(!l)continue;const{type:o}=l;i.has(o)||i.set(o,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const u=e[o]||(e[o]=new Map);for(const[d,f]of Object.entries(l)){if(d==="type")continue;let g=u.get(d);g||(g=new Map,u.set(d,g));const m=g.get(f)??0;g.set(f,m+1)}}for(const[n,l]of i)e[n]=l.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){S(this,Zl,null)}get modifiedIds(){if(c(this,Zl))return c(this,Zl);const e=[];for(const i of c(this,Ie).values())!(i instanceof Xt)||!i.annotationElementId||!i.serialize()||e.push(i.annotationElementId);return S(this,Zl,{ids:new Set(e),hash:e.join(",")})}}Wl=new WeakMap,Zl=new WeakMap,Ie=new WeakMap,Mg=new WeakSet,F_=function(){c(this,Wl)||(S(this,Wl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sh;class U_ extends U0{constructor(i){super();T(this,Sh);const{map:n,hash:l,transfer:o}=i.serializable,u=structuredClone(n,o?{transfer:o}:null);S(this,Sh,{map:u,hash:l,transfer:o})}get print(){ee("Should not call PrintAnnotationStorage.print")}get serializable(){return c(this,Sh)}get modifiedIds(){return Ft(this,"modifiedIds",{ids:new Set,hash:""})}}Sh=new WeakMap;var Vo;class bC{constructor({ownerDocument:e=globalThis.document,styleElement:i=null}){T(this,Vo,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const i=this.styleElement.sheet;i.insertRule(e,i.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),c(this,Vo).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:i}){if(!(!e||c(this,Vo).has(e.loadedName))){if(Oe(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:l,style:o}=e,u=new FontFace(n,l,o);this.addNativeFontFace(u);try{await u.load(),c(this,Vo).add(n),i==null||i(e)}catch{Mt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(u)}return}ee("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(l){throw Mt(`Failed to load font '${n.family}': '${l}'.`),e.disableFontFace=!0,l}}return}const i=e.createFontFaceRule();if(i){if(this.insertRule(i),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const l=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,l)})}}get isFontLoadingAPISupported(){var i;const e=!!((i=this._document)!=null&&i.fonts);return Ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ai||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ft(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function i(){for(Oe(!l.done,"completeRequest() cannot be called twice."),l.done=!0;n.length>0&&n[0].done;){const o=n.shift();setTimeout(o.callback,0)}}const{loadingRequests:n}=this,l={done:!1,complete:i,callback:e};return n.push(l),l}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,i){function n(B,P){return B.charCodeAt(P)<<24|B.charCodeAt(P+1)<<16|B.charCodeAt(P+2)<<8|B.charCodeAt(P+3)&255}function l(B,P,I,Q){const J=B.substring(0,P),V=B.substring(P+I);return J+Q+V}let o,u;const d=this._document.createElement("canvas");d.width=1,d.height=1;const f=d.getContext("2d");let g=0;function m(B,P){if(++g>30){Mt("Load test font never loaded."),P();return}if(f.font="30px "+B,f.fillText(".",0,20),f.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(m.bind(null,B,P))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=l(y,976,v.length,v);const C=16,x=1482184792;let O=n(y,C);for(o=0,u=v.length-3;o<u;o+=4)O=O-x+n(v,o)|0;o<v.length&&(O=O-x+n(v+"XXX",o)|0),y=l(y,C,4,eC(O));const R=`url(data:font/opentype;base64,${btoa(y)});`,z=`@font-face {font-family:"${v}";src:${R}}`;this.insertRule(z);const F=this._document.createElement("div");F.style.visibility="hidden",F.style.width=F.style.height="10px",F.style.position="absolute",F.style.top=F.style.left="0px";for(const B of[e.loadedName,v]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=B,F.append(P)}this._document.body.append(F),m(v,()=>{F.remove(),i.complete()})}}Vo=new WeakMap;class vC{constructor(e,{disableFontFace:i=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const l in e)this[l]=e[l];this.disableFontFace=i===!0,this._inspectFont=n}createNativeFontFace(){var i;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(i=this._inspectFont)==null||i.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${rC(this.data)});`;let i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let l=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(l+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${l}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),i}getPathGenerator(e,i){if(this.compiledGlyphs[i]!==void 0)return this.compiledGlyphs[i];let n;try{n=e.get(this.loadedName+"_path_"+i)}catch(o){Mt(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[i]=function(o,u){};const l=[];for(let o=0,u=n.length;o<u;)switch(n[o++]){case _n.BEZIER_CURVE_TO:{const[d,f,g,m,v,y]=n.slice(o,o+6);l.push(E=>E.bezierCurveTo(d,f,g,m,v,y)),o+=6}break;case _n.MOVE_TO:{const[d,f]=n.slice(o,o+2);l.push(g=>g.moveTo(d,f)),o+=2}break;case _n.LINE_TO:{const[d,f]=n.slice(o,o+2);l.push(g=>g.lineTo(d,f)),o+=2}break;case _n.QUADRATIC_CURVE_TO:{const[d,f,g,m]=n.slice(o,o+4);l.push(v=>v.quadraticCurveTo(d,f,g,m)),o+=4}break;case _n.RESTORE:l.push(d=>d.restore());break;case _n.SAVE:l.push(d=>d.save());break;case _n.SCALE:Oe(l.length===2,"Scale command is only valid at the third position.");break;case _n.TRANSFORM:{const[d,f,g,m,v,y]=n.slice(o,o+6);l.push(E=>E.transform(d,f,g,m,v,y)),o+=6}break;case _n.TRANSLATE:{const[d,f]=n.slice(o,o+2);l.push(g=>g.translate(d,f)),o+=2}break}return this.compiledGlyphs[i]=function(u,d){l[0](u),l[1](u),u.scale(d,-d);for(let f=2,g=l.length;f<g;f++)l[f](u)}}}var _h;class B_{constructor({enableHWA:e=!1}){T(this,_h,!1);S(this,_h,e)}create(e,i){if(e<=0||i<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,i);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!c(this,_h)})}}reset(e,i,n){if(!e.canvas)throw new Error("Canvas is not specified");if(i<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=i,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,i){ee("Abstract method `_createCanvas` called.")}}_h=new WeakMap;class yC extends B_{constructor({ownerDocument:e=globalThis.document,enableHWA:i=!1}){super({enableHWA:i}),this._document=e}_createCanvas(e,i){const n=this._document.createElement("canvas");return n.width=e,n.height=i,n}}class P_{constructor({baseUrl:e=null,isCompressed:i=!0}){this.baseUrl=e,this.isCompressed=i}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})}async _fetch(e){ee("Abstract method `_fetch` called.")}}class I_ extends P_{async _fetch(e){const i=await jg(e,this.isCompressed?"arraybuffer":"text");return i instanceof ArrayBuffer?new Uint8Array(i):Gg(i)}}class q_{addFilter(e){return"none"}addHCMFilter(e,i){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,i,n,l,o){return"none"}destroy(e=!1){}}var $l,Jl,Qs,Ln,ii,Rg,tr,nt,ti,Eo,To,Kf,wo,G_,Bb,Co,Uu,Bu,Pb,Pu;class AC extends q_{constructor({docId:i,ownerDocument:n=globalThis.document}){super();T(this,nt);T(this,$l);T(this,Jl);T(this,Qs);T(this,Ln);T(this,ii);T(this,Rg);T(this,tr,0);S(this,Ln,i),S(this,ii,n)}addFilter(i){if(!i)return"none";let n=c(this,nt,ti).get(i);if(n)return n;const[l,o,u]=_(this,nt,Kf).call(this,i),d=i.length===1?l:`${l}${o}${u}`;if(n=c(this,nt,ti).get(d),n)return c(this,nt,ti).set(i,n),n;const f=`g_${c(this,Ln)}_transfer_map_${oi(this,tr)._++}`,g=_(this,nt,wo).call(this,f);c(this,nt,ti).set(i,g),c(this,nt,ti).set(d,g);const m=_(this,nt,Co).call(this,f);return _(this,nt,Bu).call(this,l,o,u,m),g}addHCMFilter(i,n){var C;const l=`${i}-${n}`,o="base";let u=c(this,nt,Eo).get(o);if((u==null?void 0:u.key)===l||(u?((C=u.filter)==null||C.remove(),u.key=l,u.url="none",u.filter=null):(u={key:l,url:"none",filter:null},c(this,nt,Eo).set(o,u)),!i||!n))return u.url;const d=_(this,nt,Pu).call(this,i);i=ct.makeHexColor(...d);const f=_(this,nt,Pu).call(this,n);if(n=ct.makeHexColor(...f),c(this,nt,To).style.color="",i==="#000000"&&n==="#ffffff"||i===n)return u.url;const g=new Array(256);for(let x=0;x<=255;x++){const O=x/255;g[x]=O<=.03928?O/12.92:((O+.055)/1.055)**2.4}const m=g.join(","),v=`g_${c(this,Ln)}_hcm_filter`,y=u.filter=_(this,nt,Co).call(this,v);_(this,nt,Bu).call(this,m,m,m,y),_(this,nt,Bb).call(this,y);const E=(x,O)=>{const R=d[x]/255,z=f[x]/255,F=new Array(O+1);for(let B=0;B<=O;B++)F[B]=R+B/O*(z-R);return F.join(",")};return _(this,nt,Bu).call(this,E(0,5),E(1,5),E(2,5),y),u.url=_(this,nt,wo).call(this,v),u.url}addAlphaFilter(i){let n=c(this,nt,ti).get(i);if(n)return n;const[l]=_(this,nt,Kf).call(this,[i]),o=`alpha_${l}`;if(n=c(this,nt,ti).get(o),n)return c(this,nt,ti).set(i,n),n;const u=`g_${c(this,Ln)}_alpha_map_${oi(this,tr)._++}`,d=_(this,nt,wo).call(this,u);c(this,nt,ti).set(i,d),c(this,nt,ti).set(o,d);const f=_(this,nt,Co).call(this,u);return _(this,nt,Pb).call(this,l,f),d}addLuminosityFilter(i){let n=c(this,nt,ti).get(i||"luminosity");if(n)return n;let l,o;if(i?([l]=_(this,nt,Kf).call(this,[i]),o=`luminosity_${l}`):o="luminosity",n=c(this,nt,ti).get(o),n)return c(this,nt,ti).set(i,n),n;const u=`g_${c(this,Ln)}_luminosity_map_${oi(this,tr)._++}`,d=_(this,nt,wo).call(this,u);c(this,nt,ti).set(i,d),c(this,nt,ti).set(o,d);const f=_(this,nt,Co).call(this,u);return _(this,nt,G_).call(this,f),i&&_(this,nt,Pb).call(this,l,f),d}addHighlightHCMFilter(i,n,l,o,u){var z;const d=`${n}-${l}-${o}-${u}`;let f=c(this,nt,Eo).get(i);if((f==null?void 0:f.key)===d||(f?((z=f.filter)==null||z.remove(),f.key=d,f.url="none",f.filter=null):(f={key:d,url:"none",filter:null},c(this,nt,Eo).set(i,f)),!n||!l))return f.url;const[g,m]=[n,l].map(_(this,nt,Pu).bind(this));let v=Math.round(.2126*g[0]+.7152*g[1]+.0722*g[2]),y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[E,C]=[o,u].map(_(this,nt,Pu).bind(this));y<v&&([v,y,E,C]=[y,v,C,E]),c(this,nt,To).style.color="";const x=(F,B,P)=>{const I=new Array(256),Q=(y-v)/P,J=F/255,V=(B-F)/(255*P);let st=0;for(let rt=0;rt<=P;rt++){const Rt=Math.round(v+rt*Q),yt=J+rt*V;for(let Ct=st;Ct<=Rt;Ct++)I[Ct]=yt;st=Rt+1}for(let rt=st;rt<256;rt++)I[rt]=I[st-1];return I.join(",")},O=`g_${c(this,Ln)}_hcm_${i}_filter`,R=f.filter=_(this,nt,Co).call(this,O);return _(this,nt,Bb).call(this,R),_(this,nt,Bu).call(this,x(E[0],C[0],5),x(E[1],C[1],5),x(E[2],C[2],5),R),f.url=_(this,nt,wo).call(this,O),f.url}destroy(i=!1){i&&c(this,nt,Eo).size!==0||(c(this,Qs)&&(c(this,Qs).parentNode.parentNode.remove(),S(this,Qs,null)),c(this,Jl)&&(c(this,Jl).clear(),S(this,Jl,null)),S(this,tr,0))}}$l=new WeakMap,Jl=new WeakMap,Qs=new WeakMap,Ln=new WeakMap,ii=new WeakMap,Rg=new WeakMap,tr=new WeakMap,nt=new WeakSet,ti=function(){return c(this,Jl)||S(this,Jl,new Map)},Eo=function(){return c(this,Rg)||S(this,Rg,new Map)},To=function(){if(!c(this,Qs)){const i=c(this,ii).createElement("div"),{style:n}=i;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const l=c(this,ii).createElementNS(Tn,"svg");l.setAttribute("width",0),l.setAttribute("height",0),S(this,Qs,c(this,ii).createElementNS(Tn,"defs")),i.append(l),l.append(c(this,Qs)),c(this,ii).body.append(i)}return c(this,Qs)},Kf=function(i){if(i.length===1){const g=i[0],m=new Array(256);for(let y=0;y<256;y++)m[y]=g[y]/255;const v=m.join(",");return[v,v,v]}const[n,l,o]=i,u=new Array(256),d=new Array(256),f=new Array(256);for(let g=0;g<256;g++)u[g]=n[g]/255,d[g]=l[g]/255,f[g]=o[g]/255;return[u.join(","),d.join(","),f.join(",")]},wo=function(i){if(c(this,$l)===void 0){S(this,$l,"");const n=c(this,ii).URL;n!==c(this,ii).baseURI&&(Xg(n)?Mt('#createUrl: ignore "data:"-URL for performance reasons.'):S(this,$l,n.split("#",1)[0]))}return`url(${c(this,$l)}#${i})`},G_=function(i){const n=c(this,ii).createElementNS(Tn,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),i.append(n)},Bb=function(i){const n=c(this,ii).createElementNS(Tn,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),i.append(n)},Co=function(i){const n=c(this,ii).createElementNS(Tn,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",i),c(this,nt,To).append(n),n},Uu=function(i,n,l){const o=c(this,ii).createElementNS(Tn,n);o.setAttribute("type","discrete"),o.setAttribute("tableValues",l),i.append(o)},Bu=function(i,n,l,o){const u=c(this,ii).createElementNS(Tn,"feComponentTransfer");o.append(u),_(this,nt,Uu).call(this,u,"feFuncR",i),_(this,nt,Uu).call(this,u,"feFuncG",n),_(this,nt,Uu).call(this,u,"feFuncB",l)},Pb=function(i,n){const l=c(this,ii).createElementNS(Tn,"feComponentTransfer");n.append(l),_(this,nt,Uu).call(this,l,"feFuncA",i)},Pu=function(i){return c(this,nt,To).style.color=i,F0(getComputedStyle(c(this,nt,To)).getPropertyValue("color"))};class j_{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const i=`${this.baseUrl}${e}`;return this._fetch(i).catch(n=>{throw new Error(`Unable to load font data at: ${i}`)})}async _fetch(e){ee("Abstract method `_fetch` called.")}}class X_ extends j_{async _fetch(e){const i=await jg(e,"arraybuffer");return new Uint8Array(i)}}if(ai){var Ib=Promise.withResolvers(),$u=null;(async()=>{const e=await zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),i=await zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),l=await zf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let o,u;return new Map(Object.entries({fs:e,http:i,https:n,url:l,canvas:o,path2d:u}))})().then(e=>{$u=e,Ib.resolve()},e=>{Mt(`loadPackages: ${e}`),$u=new Map,Ib.resolve()})}class nl{static get promise(){return Ib.promise}static get(e){return $u==null?void 0:$u.get(e)}}async function Y_(b){const i=await nl.get("fs").promises.readFile(b);return new Uint8Array(i)}class SC extends q_{}class _C extends B_{_createCanvas(e,i){return nl.get("canvas").createCanvas(e,i)}}class EC extends P_{async _fetch(e){return Y_(e)}}class TC extends j_{async _fetch(e){return Y_(e)}}const hi={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function qb(b,e){if(!e)return;const i=e[2]-e[0],n=e[3]-e[1],l=new Path2D;l.rect(e[0],e[1],i,n),b.clip(l)}class B0{getPattern(){ee("Abstract method `getPattern` called.")}}class wC extends B0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let i;this._type==="axial"?i=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(i=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)i.addColorStop(n[0],n[1]);return i}getPattern(e,i,n,l){let o;if(l===hi.STROKE||l===hi.FILL){const u=i.current.getClippedPathBoundingBox(l,ce(e))||[0,0,0,0],d=Math.ceil(u[2]-u[0])||1,f=Math.ceil(u[3]-u[1])||1,g=i.cachedCanvases.getCanvas("pattern",d,f),m=g.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-u[0],-u[1]),n=ct.transform(n,[1,0,0,1,u[0],u[1]]),m.transform(...i.baseTransform),this.matrix&&m.transform(...this.matrix),qb(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),o=e.createPattern(g.canvas,"no-repeat");const v=new DOMMatrix(n);o.setTransform(v)}else qb(e,this._bbox),o=this._createGradient(e);return o}}function rb(b,e,i,n,l,o,u,d){const f=e.coords,g=e.colors,m=b.data,v=b.width*4;let y;f[i+1]>f[n+1]&&(y=i,i=n,n=y,y=o,o=u,u=y),f[n+1]>f[l+1]&&(y=n,n=l,l=y,y=u,u=d,d=y),f[i+1]>f[n+1]&&(y=i,i=n,n=y,y=o,o=u,u=y);const E=(f[i]+e.offsetX)*e.scaleX,C=(f[i+1]+e.offsetY)*e.scaleY,x=(f[n]+e.offsetX)*e.scaleX,O=(f[n+1]+e.offsetY)*e.scaleY,R=(f[l]+e.offsetX)*e.scaleX,z=(f[l+1]+e.offsetY)*e.scaleY;if(C>=z)return;const F=g[o],B=g[o+1],P=g[o+2],I=g[u],Q=g[u+1],J=g[u+2],V=g[d],st=g[d+1],rt=g[d+2],Rt=Math.round(C),yt=Math.round(z);let Ct,vt,K,Z,W,zt,D,X;for(let at=Rt;at<=yt;at++){if(at<O){const Tt=at<C?0:(C-at)/(C-O);Ct=E-(E-x)*Tt,vt=F-(F-I)*Tt,K=B-(B-Q)*Tt,Z=P-(P-J)*Tt}else{let Tt;at>z?Tt=1:O===z?Tt=0:Tt=(O-at)/(O-z),Ct=x-(x-R)*Tt,vt=I-(I-V)*Tt,K=Q-(Q-st)*Tt,Z=J-(J-rt)*Tt}let it;at<C?it=0:at>z?it=1:it=(C-at)/(C-z),W=E-(E-R)*it,zt=F-(F-V)*it,D=B-(B-st)*it,X=P-(P-rt)*it;const et=Math.round(Math.min(Ct,W)),Et=Math.round(Math.max(Ct,W));let ht=v*at+et*4;for(let Tt=et;Tt<=Et;Tt++)it=(Ct-Tt)/(Ct-W),it<0?it=0:it>1&&(it=1),m[ht++]=vt-(vt-zt)*it|0,m[ht++]=K-(K-D)*it|0,m[ht++]=Z-(Z-X)*it|0,m[ht++]=255}}function CC(b,e,i){const n=e.coords,l=e.colors;let o,u;switch(e.type){case"lattice":const d=e.verticesPerRow,f=Math.floor(n.length/d)-1,g=d-1;for(o=0;o<f;o++){let m=o*d;for(let v=0;v<g;v++,m++)rb(b,i,n[m],n[m+1],n[m+d],l[m],l[m+1],l[m+d]),rb(b,i,n[m+d+1],n[m+1],n[m+d],l[m+d+1],l[m+1],l[m+d])}break;case"triangles":for(o=0,u=n.length;o<u;o+=3)rb(b,i,n[o],n[o+1],n[o+2],l[o],l[o+1],l[o+2]);break;default:throw new Error("illegal figure")}}class xC extends B0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,i,n){const d=Math.floor(this._bounds[0]),f=Math.floor(this._bounds[1]),g=Math.ceil(this._bounds[2])-d,m=Math.ceil(this._bounds[3])-f,v=Math.min(Math.ceil(Math.abs(g*e[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(m*e[1]*1.1)),3e3),E=g/v,C=m/y,x={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-f,scaleX:1/E,scaleY:1/C},O=v+2*2,R=y+2*2,z=n.getCanvas("mesh",O,R),F=z.context,B=F.createImageData(v,y);if(i){const I=B.data;for(let Q=0,J=I.length;Q<J;Q+=4)I[Q]=i[0],I[Q+1]=i[1],I[Q+2]=i[2],I[Q+3]=255}for(const I of this._figures)CC(B,I,x);return F.putImageData(B,2,2),{canvas:z.canvas,offsetX:d-2*E,offsetY:f-2*C,scaleX:E,scaleY:C}}getPattern(e,i,n,l){qb(e,this._bbox);let o;if(l===hi.SHADING)o=ct.singularValueDecompose2dScale(ce(e));else if(o=ct.singularValueDecompose2dScale(i.baseTransform),this.matrix){const d=ct.singularValueDecompose2dScale(this.matrix);o=[o[0]*d[0],o[1]*d[1]]}const u=this._createMeshCanvas(o,l===hi.SHADING?null:this._background,i.cachedCanvases);return l!==hi.SHADING&&(e.setTransform(...i.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(u.offsetX,u.offsetY),e.scale(u.scaleX,u.scaleY),e.createPattern(u.canvas,"no-repeat")}}class MC extends B0{getPattern(){return"hotpink"}}function RC(b){switch(b[0]){case"RadialAxial":return new wC(b);case"Mesh":return new xC(b);case"Dummy":return new MC}throw new Error(`Unknown IR type: ${b[0]}`)}const BS={COLORED:1,UNCOLORED:2},Dg=class Dg{constructor(e,i,n,l,o){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=i,this.ctx=n,this.canvasGraphicsFactory=l,this.baseTransform=o}createPatternCanvas(e){const{bbox:i,operatorList:n,paintType:l,tilingType:o,color:u,canvasGraphicsFactory:d}=this;let{xstep:f,ystep:g}=this;f=Math.abs(f),g=Math.abs(g),Ig("TilingType: "+o);const m=i[0],v=i[1],y=i[2],E=i[3],C=y-m,x=E-v,O=ct.singularValueDecompose2dScale(this.matrix),R=ct.singularValueDecompose2dScale(this.baseTransform),z=O[0]*R[0],F=O[1]*R[1];let B=C,P=x,I=!1,Q=!1;const J=Math.ceil(f*z),V=Math.ceil(g*F),st=Math.ceil(C*z),rt=Math.ceil(x*F);J>=st?B=f:I=!0,V>=rt?P=g:Q=!0;const Rt=this.getSizeAndScale(B,this.ctx.canvas.width,z),yt=this.getSizeAndScale(P,this.ctx.canvas.height,F),Ct=e.cachedCanvases.getCanvas("pattern",Rt.size,yt.size),vt=Ct.context,K=d.createCanvasGraphics(vt);if(K.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(K,l,u),vt.translate(-Rt.scale*m,-yt.scale*v),K.transform(Rt.scale,0,0,yt.scale,0,0),vt.save(),this.clipBbox(K,m,v,y,E),K.baseTransform=ce(K.ctx),K.executeOperatorList(n),K.endDrawing(),vt.restore(),I||Q){const Z=Ct.canvas;I&&(B=f),Q&&(P=g);const W=this.getSizeAndScale(B,this.ctx.canvas.width,z),zt=this.getSizeAndScale(P,this.ctx.canvas.height,F),D=W.size,X=zt.size,at=e.cachedCanvases.getCanvas("pattern-workaround",D,X),it=at.context,et=I?Math.floor(C/f):0,Et=Q?Math.floor(x/g):0;for(let ht=0;ht<=et;ht++)for(let Tt=0;Tt<=Et;Tt++)it.drawImage(Z,D*ht,X*Tt,D,X,0,0,D,X);return{canvas:at.canvas,scaleX:W.scale,scaleY:zt.scale,offsetX:m,offsetY:v}}return{canvas:Ct.canvas,scaleX:Rt.scale,scaleY:yt.scale,offsetX:m,offsetY:v}}getSizeAndScale(e,i,n){const l=Math.max(Dg.MAX_PATTERN_SIZE,i);let o=Math.ceil(e*n);return o>=l?o=l:n=o/e,{scale:n,size:o}}clipBbox(e,i,n,l,o){const u=l-i,d=o-n;e.ctx.rect(i,n,u,d),e.current.updateRectMinMax(ce(e.ctx),[i,n,l,o]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,i,n){const l=e.ctx,o=e.current;switch(i){case BS.COLORED:const u=this.ctx;l.fillStyle=u.fillStyle,l.strokeStyle=u.strokeStyle,o.fillColor=u.fillStyle,o.strokeColor=u.strokeStyle;break;case BS.UNCOLORED:const d=ct.makeHexColor(n[0],n[1],n[2]);l.fillStyle=d,l.strokeStyle=d,o.fillColor=d,o.strokeColor=d;break;default:throw new tC(`Unsupported paint type: ${i}`)}}getPattern(e,i,n,l){let o=n;l!==hi.SHADING&&(o=ct.transform(o,i.baseTransform),this.matrix&&(o=ct.transform(o,this.matrix)));const u=this.createPatternCanvas(i);let d=new DOMMatrix(o);d=d.translate(u.offsetX,u.offsetY),d=d.scale(1/u.scaleX,1/u.scaleY);const f=e.createPattern(u.canvas,"repeat");return f.setTransform(d),f}};gt(Dg,"MAX_PATTERN_SIZE",3e3);let Gb=Dg;function DC({src:b,srcPos:e=0,dest:i,width:n,height:l,nonBlackColor:o=4294967295,inverseDecode:u=!1}){const d=di.isLittleEndian?4278190080:255,[f,g]=u?[o,d]:[d,o],m=n>>3,v=n&7,y=b.length;i=new Uint32Array(i.buffer);let E=0;for(let C=0;C<l;C++){for(const O=e+m;e<O;e++){const R=e<y?b[e]:255;i[E++]=R&128?g:f,i[E++]=R&64?g:f,i[E++]=R&32?g:f,i[E++]=R&16?g:f,i[E++]=R&8?g:f,i[E++]=R&4?g:f,i[E++]=R&2?g:f,i[E++]=R&1?g:f}if(v===0)continue;const x=e<y?b[e++]:255;for(let O=0;O<v;O++)i[E++]=x&1<<7-O?g:f}return{srcPos:e,destPos:E}}const PS=16,IS=100,OC=15,qS=10,GS=1e3,Ei=16;function LC(b,e){if(b._removeMirroring)throw new Error("Context is already forwarding operations.");b.__originalSave=b.save,b.__originalRestore=b.restore,b.__originalRotate=b.rotate,b.__originalScale=b.scale,b.__originalTranslate=b.translate,b.__originalTransform=b.transform,b.__originalSetTransform=b.setTransform,b.__originalResetTransform=b.resetTransform,b.__originalClip=b.clip,b.__originalMoveTo=b.moveTo,b.__originalLineTo=b.lineTo,b.__originalBezierCurveTo=b.bezierCurveTo,b.__originalRect=b.rect,b.__originalClosePath=b.closePath,b.__originalBeginPath=b.beginPath,b._removeMirroring=()=>{b.save=b.__originalSave,b.restore=b.__originalRestore,b.rotate=b.__originalRotate,b.scale=b.__originalScale,b.translate=b.__originalTranslate,b.transform=b.__originalTransform,b.setTransform=b.__originalSetTransform,b.resetTransform=b.__originalResetTransform,b.clip=b.__originalClip,b.moveTo=b.__originalMoveTo,b.lineTo=b.__originalLineTo,b.bezierCurveTo=b.__originalBezierCurveTo,b.rect=b.__originalRect,b.closePath=b.__originalClosePath,b.beginPath=b.__originalBeginPath,delete b._removeMirroring},b.save=function(){e.save(),this.__originalSave()},b.restore=function(){e.restore(),this.__originalRestore()},b.translate=function(n,l){e.translate(n,l),this.__originalTranslate(n,l)},b.scale=function(n,l){e.scale(n,l),this.__originalScale(n,l)},b.transform=function(n,l,o,u,d,f){e.transform(n,l,o,u,d,f),this.__originalTransform(n,l,o,u,d,f)},b.setTransform=function(n,l,o,u,d,f){e.setTransform(n,l,o,u,d,f),this.__originalSetTransform(n,l,o,u,d,f)},b.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},b.rotate=function(n){e.rotate(n),this.__originalRotate(n)},b.clip=function(n){e.clip(n),this.__originalClip(n)},b.moveTo=function(i,n){e.moveTo(i,n),this.__originalMoveTo(i,n)},b.lineTo=function(i,n){e.lineTo(i,n),this.__originalLineTo(i,n)},b.bezierCurveTo=function(i,n,l,o,u,d){e.bezierCurveTo(i,n,l,o,u,d),this.__originalBezierCurveTo(i,n,l,o,u,d)},b.rect=function(i,n,l,o){e.rect(i,n,l,o),this.__originalRect(i,n,l,o)},b.closePath=function(){e.closePath(),this.__originalClosePath()},b.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class NC{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,i,n){let l;return this.cache[e]!==void 0?(l=this.cache[e],this.canvasFactory.reset(l,i,n)):(l=this.canvasFactory.create(i,n),this.cache[e]=l),l}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const i=this.cache[e];this.canvasFactory.destroy(i),delete this.cache[e]}}}function Hf(b,e,i,n,l,o,u,d,f,g){const[m,v,y,E,C,x]=ce(b);if(v===0&&y===0){const z=u*m+C,F=Math.round(z),B=d*E+x,P=Math.round(B),I=(u+f)*m+C,Q=Math.abs(Math.round(I)-F)||1,J=(d+g)*E+x,V=Math.abs(Math.round(J)-P)||1;return b.setTransform(Math.sign(m),0,0,Math.sign(E),F,P),b.drawImage(e,i,n,l,o,0,0,Q,V),b.setTransform(m,v,y,E,C,x),[Q,V]}if(m===0&&E===0){const z=d*y+C,F=Math.round(z),B=u*v+x,P=Math.round(B),I=(d+g)*y+C,Q=Math.abs(Math.round(I)-F)||1,J=(u+f)*v+x,V=Math.abs(Math.round(J)-P)||1;return b.setTransform(0,Math.sign(v),Math.sign(y),0,F,P),b.drawImage(e,i,n,l,o,0,0,V,Q),b.setTransform(m,v,y,E,C,x),[V,Q]}b.drawImage(e,i,n,l,o,u,d,f,g);const O=Math.hypot(m,v),R=Math.hypot(y,E);return[O*f,R*g]}function kC(b){const{width:e,height:i}=b;if(e>GS||i>GS)return null;const n=1e3,l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1;let u=new Uint8Array(o*(i+1)),d,f,g;const m=e+7&-8;let v=new Uint8Array(m*i),y=0;for(const R of b.data){let z=128;for(;z>0;)v[y++]=R&z?0:255,z>>=1}let E=0;for(y=0,v[y]!==0&&(u[0]=1,++E),f=1;f<e;f++)v[y]!==v[y+1]&&(u[f]=v[y]?2:1,++E),y++;for(v[y]!==0&&(u[f]=2,++E),d=1;d<i;d++){y=d*m,g=d*o,v[y-m]!==v[y]&&(u[g]=v[y]?1:8,++E);let R=(v[y]?4:0)+(v[y-m]?8:0);for(f=1;f<e;f++)R=(R>>2)+(v[y+1]?4:0)+(v[y-m+1]?8:0),l[R]&&(u[g+f]=l[R],++E),y++;if(v[y-m]!==v[y]&&(u[g+f]=v[y]?2:4,++E),E>n)return null}for(y=m*(i-1),g=d*o,v[y]!==0&&(u[g]=8,++E),f=1;f<e;f++)v[y]!==v[y+1]&&(u[g+f]=v[y]?4:8,++E),y++;if(v[y]!==0&&(u[g+f]=4,++E),E>n)return null;const C=new Int32Array([0,o,-1,0,-o,0,0,0,1]),x=new Path2D;for(d=0;E&&d<=i;d++){let R=d*o;const z=R+e;for(;R<z&&!u[R];)R++;if(R===z)continue;x.moveTo(R%o,d);const F=R;let B=u[R];do{const P=C[B];do R+=P;while(!u[R]);const I=u[R];I!==5&&I!==10?(B=I,u[R]=0):(B=I&51*B>>4,u[R]&=B>>2|B<<2),x.lineTo(R%o,R/o|0),u[R]||--E}while(F!==R);--d}return v=null,u=null,function(R){R.save(),R.scale(1/e,-1/i),R.translate(0,-i),R.fill(x),R.beginPath(),R.restore()}}class jS{constructor(e,i){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=c_,this.textMatrixScale=1,this.fontMatrix=pb,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Je.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,i])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,i){this.x=e,this.y=i}updatePathMinMax(e,i,n){[i,n]=ct.applyTransform([i,n],e),this.minX=Math.min(this.minX,i),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,i),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,i){const n=ct.applyTransform(i,e),l=ct.applyTransform(i.slice(2),e),o=ct.applyTransform([i[0],i[3]],e),u=ct.applyTransform([i[2],i[1]],e);this.minX=Math.min(this.minX,n[0],l[0],o[0],u[0]),this.minY=Math.min(this.minY,n[1],l[1],o[1],u[1]),this.maxX=Math.max(this.maxX,n[0],l[0],o[0],u[0]),this.maxY=Math.max(this.maxY,n[1],l[1],o[1],u[1])}updateScalingPathMinMax(e,i){ct.scaleMinMax(e,i),this.minX=Math.min(this.minX,i[0]),this.minY=Math.min(this.minY,i[1]),this.maxX=Math.max(this.maxX,i[2]),this.maxY=Math.max(this.maxY,i[3])}updateCurvePathMinMax(e,i,n,l,o,u,d,f,g,m){const v=ct.bezierBoundingBox(i,n,l,o,u,d,f,g,m);m||this.updateRectMinMax(e,v)}getPathBoundingBox(e=hi.FILL,i=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===hi.STROKE){i||ee("Stroke bounding box must include transform.");const l=ct.singularValueDecompose2dScale(i),o=l[0]*this.lineWidth/2,u=l[1]*this.lineWidth/2;n[0]-=o,n[1]-=u,n[2]+=o,n[3]+=u}return n}updateClipFromPath(){const e=ct.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=hi.FILL,i=null){return ct.intersect(this.clipBox,this.getPathBoundingBox(e,i))}}function XS(b,e){if(typeof ImageData<"u"&&e instanceof ImageData){b.putImageData(e,0,0);return}const i=e.height,n=e.width,l=i%Ei,o=(i-l)/Ei,u=l===0?o:o+1,d=b.createImageData(n,Ei);let f=0,g;const m=e.data,v=d.data;let y,E,C,x;if(e.kind===If.GRAYSCALE_1BPP){const O=m.byteLength,R=new Uint32Array(v.buffer,0,v.byteLength>>2),z=R.length,F=n+7>>3,B=4294967295,P=di.isLittleEndian?4278190080:255;for(y=0;y<u;y++){for(C=y<o?Ei:l,g=0,E=0;E<C;E++){const I=O-f;let Q=0;const J=I>F?n:I*8-7,V=J&-8;let st=0,rt=0;for(;Q<V;Q+=8)rt=m[f++],R[g++]=rt&128?B:P,R[g++]=rt&64?B:P,R[g++]=rt&32?B:P,R[g++]=rt&16?B:P,R[g++]=rt&8?B:P,R[g++]=rt&4?B:P,R[g++]=rt&2?B:P,R[g++]=rt&1?B:P;for(;Q<J;Q++)st===0&&(rt=m[f++],st=128),R[g++]=rt&st?B:P,st>>=1}for(;g<z;)R[g++]=0;b.putImageData(d,0,y*Ei)}}else if(e.kind===If.RGBA_32BPP){for(E=0,x=n*Ei*4,y=0;y<o;y++)v.set(m.subarray(f,f+x)),f+=x,b.putImageData(d,0,E),E+=Ei;y<u&&(x=n*l*4,v.set(m.subarray(f,f+x)),b.putImageData(d,0,E))}else if(e.kind===If.RGB_24BPP)for(C=Ei,x=n*C,y=0;y<u;y++){for(y>=o&&(C=l,x=n*C),g=0,E=x;E--;)v[g++]=m[f++],v[g++]=m[f++],v[g++]=m[f++],v[g++]=255;b.putImageData(d,0,y*Ei)}else throw new Error(`bad image kind: ${e.kind}`)}function YS(b,e){if(e.bitmap){b.drawImage(e.bitmap,0,0);return}const i=e.height,n=e.width,l=i%Ei,o=(i-l)/Ei,u=l===0?o:o+1,d=b.createImageData(n,Ei);let f=0;const g=e.data,m=d.data;for(let v=0;v<u;v++){const y=v<o?Ei:l;({srcPos:f}=DC({src:g,srcPos:f,dest:m,width:n,height:y,nonBlackColor:0})),b.putImageData(d,0,v*Ei)}}function Ou(b,e){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of i)b[n]!==void 0&&(e[n]=b[n]);b.setLineDash!==void 0&&(e.setLineDash(b.getLineDash()),e.lineDashOffset=b.lineDashOffset)}function Ff(b){if(b.strokeStyle=b.fillStyle="#000000",b.fillRule="nonzero",b.globalAlpha=1,b.lineWidth=1,b.lineCap="butt",b.lineJoin="miter",b.miterLimit=10,b.globalCompositeOperation="source-over",b.font="10px sans-serif",b.setLineDash!==void 0&&(b.setLineDash([]),b.lineDashOffset=0),!ai){const{filter:e}=b;e!=="none"&&e!==""&&(b.filter="none")}}function VS(b,e){if(e)return!0;const i=ct.singularValueDecompose2dScale(b);i[0]=Math.fround(i[0]),i[1]=Math.fround(i[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*sl.PDF_TO_CSS_UNITS);return i[0]<=n&&i[1]<=n}const zC=["butt","round","square"],HC=["miter","round","bevel"],FC={},KS={};var ll,jb,Xb;const V0=class V0{constructor(e,i,n,l,o,{optionalContentConfig:u,markedContentStack:d=null},f,g){T(this,ll);this.ctx=e,this.current=new jS(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=n,this.canvasFactory=l,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=u,this.cachedCanvases=new NC(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=f,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=g,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,i=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):i}beginDrawing({transform:e,viewport:i,transparency:n=!1,background:l=null}){const o=this.ctx.canvas.width,u=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=l||"#ffffff",this.ctx.fillRect(0,0,o,u),this.ctx.fillStyle=d,n){const f=this.cachedCanvases.getCanvas("transparent",o,u);this.compositeCtx=this.ctx,this.transparentCanvas=f.canvas,this.ctx=f.context,this.ctx.save(),this.ctx.transform(...ce(this.compositeCtx))}this.ctx.save(),Ff(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...i.transform),this.viewportScale=i.scale,this.baseTransform=ce(this.ctx)}executeOperatorList(e,i,n,l){const o=e.argsArray,u=e.fnArray;let d=i||0;const f=o.length;if(f===d)return d;const g=f-d>qS&&typeof n=="function",m=g?Date.now()+OC:0;let v=0;const y=this.commonObjs,E=this.objs;let C;for(;;){if(l!==void 0&&d===l.nextBreakPoint)return l.breakIt(d,n),d;if(C=u[d],C!==bs.dependency)this[C].apply(this,o[d]);else for(const x of o[d]){const O=x.startsWith("g_")?y:E;if(!O.has(x))return O.get(x,n),d}if(d++,d===f)return d;if(g&&++v>qS){if(Date.now()>m)return n(),d;v=0}}}endDrawing(){_(this,ll,jb).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const i of e.values())typeof HTMLCanvasElement<"u"&&i instanceof HTMLCanvasElement&&(i.width=i.height=0);e.clear()}this._cachedBitmapsMap.clear(),_(this,ll,Xb).call(this)}_scaleImage(e,i){const n=e.width??e.displayWidth,l=e.height??e.displayHeight;let o=Math.max(Math.hypot(i[0],i[1]),1),u=Math.max(Math.hypot(i[2],i[3]),1),d=n,f=l,g="prescale1",m,v;for(;o>2&&d>1||u>2&&f>1;){let y=d,E=f;o>2&&d>1&&(y=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),o/=d/y),u>2&&f>1&&(E=f>=16384?Math.floor(f/2)-1||1:Math.ceil(f)/2,u/=f/E),m=this.cachedCanvases.getCanvas(g,y,E),v=m.context,v.clearRect(0,0,y,E),v.drawImage(e,0,0,d,f,0,0,y,E),e=m.canvas,d=y,f=E,g=g==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:f}}_createMaskCanvas(e){const i=this.ctx,{width:n,height:l}=e,o=this.current.fillColor,u=this.current.patternFill,d=ce(i);let f,g,m,v;if((e.bitmap||e.data)&&e.count>1){const J=e.bitmap||e.data.buffer;g=JSON.stringify(u?d:[d.slice(0,4),o]),f=this._cachedBitmapsMap.get(J),f||(f=new Map,this._cachedBitmapsMap.set(J,f));const V=f.get(g);if(V&&!u){const st=Math.round(Math.min(d[0],d[2])+d[4]),rt=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:V,offsetX:st,offsetY:rt}}m=V}m||(v=this.cachedCanvases.getCanvas("maskCanvas",n,l),YS(v.context,e));let y=ct.transform(d,[1/n,0,0,-1/l,0,0]);y=ct.transform(y,[1,0,0,1,0,-l]);const[E,C,x,O]=ct.getAxialAlignedBoundingBox([0,0,n,l],y),R=Math.round(x-E)||1,z=Math.round(O-C)||1,F=this.cachedCanvases.getCanvas("fillCanvas",R,z),B=F.context,P=E,I=C;B.translate(-P,-I),B.transform(...y),m||(m=this._scaleImage(v.canvas,En(B)),m=m.img,f&&u&&f.set(g,m)),B.imageSmoothingEnabled=VS(ce(B),e.interpolate),Hf(B,m,0,0,m.width,m.height,0,0,n,l),B.globalCompositeOperation="source-in";const Q=ct.transform(En(B),[1,0,0,1,-P,-I]);return B.fillStyle=u?o.getPattern(i,this,Q,hi.FILL):o,B.fillRect(0,0,n,l),f&&!u&&(this.cachedCanvases.delete("fillCanvas"),f.set(g,F.canvas)),{canvas:F.canvas,offsetX:Math.round(P),offsetY:Math.round(I)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=zC[e]}setLineJoin(e){this.ctx.lineJoin=HC[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,i){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=i)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[i,n]of e)switch(i){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,i=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,l=this.cachedCanvases.getCanvas(n,e,i);this.suspendedCtx=this.ctx,this.ctx=l.context;const o=this.ctx;o.setTransform(...ce(this.suspendedCtx)),Ou(this.suspendedCtx,o),LC(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ou(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const i=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,i,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,i,n,l){const o=l[0],u=l[1],d=l[2]-o,f=l[3]-u;d===0||f===0||(this.genericComposeSMask(i.context,n,d,f,i.subtype,i.backdrop,i.transferMap,o,u,i.offsetX,i.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,i,n,l,o,u,d,f,g,m,v){let y=e.canvas,E=f-m,C=g-v;if(u){const O=ct.makeHexColor(...u);if(E<0||C<0||E+n>y.width||C+l>y.height){const R=this.cachedCanvases.getCanvas("maskExtension",n,l),z=R.context;z.drawImage(y,-E,-C),z.globalCompositeOperation="destination-atop",z.fillStyle=O,z.fillRect(0,0,n,l),z.globalCompositeOperation="source-over",y=R.canvas,E=C=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const R=new Path2D;R.rect(E,C,n,l),e.clip(R),e.globalCompositeOperation="destination-atop",e.fillStyle=O,e.fillRect(E,C,n,l),e.restore()}}i.save(),i.globalAlpha=1,i.setTransform(1,0,0,1,0,0),o==="Alpha"&&d?i.filter=this.filterFactory.addAlphaFilter(d):o==="Luminosity"&&(i.filter=this.filterFactory.addLuminosityFilter(d));const x=new Path2D;x.rect(f,g,n,l),i.clip(x),i.globalCompositeOperation="destination-in",i.drawImage(y,E,C,n,l,f,g,n,l),i.restore()}save(){this.inSMaskMode?(Ou(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Ou(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,i,n,l,o,u){this.ctx.transform(e,i,n,l,o,u),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,i,n){const l=this.ctx,o=this.current;let u=o.x,d=o.y,f,g;const m=ce(l),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,y=v?n.slice(0):null;for(let E=0,C=0,x=e.length;E<x;E++)switch(e[E]|0){case bs.rectangle:u=i[C++],d=i[C++];const O=i[C++],R=i[C++],z=u+O,F=d+R;l.moveTo(u,d),O===0||R===0?l.lineTo(z,F):(l.lineTo(z,d),l.lineTo(z,F),l.lineTo(u,F)),v||o.updateRectMinMax(m,[u,d,z,F]),l.closePath();break;case bs.moveTo:u=i[C++],d=i[C++],l.moveTo(u,d),v||o.updatePathMinMax(m,u,d);break;case bs.lineTo:u=i[C++],d=i[C++],l.lineTo(u,d),v||o.updatePathMinMax(m,u,d);break;case bs.curveTo:f=u,g=d,u=i[C+4],d=i[C+5],l.bezierCurveTo(i[C],i[C+1],i[C+2],i[C+3],u,d),o.updateCurvePathMinMax(m,f,g,i[C],i[C+1],i[C+2],i[C+3],u,d,y),C+=6;break;case bs.curveTo2:f=u,g=d,l.bezierCurveTo(u,d,i[C],i[C+1],i[C+2],i[C+3]),o.updateCurvePathMinMax(m,f,g,u,d,i[C],i[C+1],i[C+2],i[C+3],y),u=i[C+2],d=i[C+3],C+=4;break;case bs.curveTo3:f=u,g=d,u=i[C+2],d=i[C+3],l.bezierCurveTo(i[C],i[C+1],u,d,u,d),o.updateCurvePathMinMax(m,f,g,i[C],i[C+1],u,d,u,d,y),C+=4;break;case bs.closePath:l.closePath();break}v&&o.updateScalingPathMinMax(m,y),o.setCurrentPoint(u,d)}closePath(){this.ctx.closePath()}stroke(e=!0){const i=this.ctx,n=this.current.strokeColor;i.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(i.save(),i.strokeStyle=n.getPattern(i,this,En(i),hi.STROKE),this.rescaleAndStroke(!1),i.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const i=this.ctx,n=this.current.fillColor,l=this.current.patternFill;let o=!1;l&&(i.save(),i.fillStyle=n.getPattern(i,this,En(i),hi.FILL),o=!0);const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),o&&i.restore(),e&&this.consumePath(u)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=FC}eoClip(){this.pendingClip=KS}beginText(){this.current.textMatrix=c_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,i=this.ctx;if(e===void 0){i.beginPath();return}i.save(),i.beginPath();for(const n of e)i.setTransform(...n.transform),i.translate(n.x,n.y),n.addToPath(i,n.fontSize);i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,i){var m;const n=this.commonObjs.get(e),l=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(l.fontMatrix=n.fontMatrix||pb,(l.fontMatrix[0]===0||l.fontMatrix[3]===0)&&Mt("Invalid font matrix for font "+e),i<0?(i=-i,l.fontDirection=-1):l.fontDirection=1,this.current.font=n,this.current.fontSize=i,n.isType3Font)return;const o=n.loadedName||"sans-serif",u=((m=n.systemFontInfo)==null?void 0:m.css)||`"${o}", ${n.fallbackName}`;let d="normal";n.black?d="900":n.bold&&(d="bold");const f=n.italic?"italic":"normal";let g=i;i<PS?g=PS:i>IS&&(g=IS),this.current.fontSizeScale=i/g,this.ctx.font=`${f} ${d} ${g}px ${u}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,i){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,i){this.setLeading(-i),this.moveText(e,i)}setTextMatrix(e,i,n,l,o,u){this.current.textMatrix=[e,i,n,l,o,u],this.current.textMatrixScale=Math.hypot(e,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,i,n,l){const o=this.ctx,u=this.current,d=u.font,f=u.textRenderingMode,g=u.fontSize/u.fontSizeScale,m=f&Je.FILL_STROKE_MASK,v=!!(f&Je.ADD_TO_PATH_FLAG),y=u.patternFill&&!d.missingFile;let E;(d.disableFontFace||v||y)&&(E=d.getPathGenerator(this.commonObjs,e)),d.disableFontFace||y?(o.save(),o.translate(i,n),o.beginPath(),E(o,g),l&&o.setTransform(...l),(m===Je.FILL||m===Je.FILL_STROKE)&&o.fill(),(m===Je.STROKE||m===Je.FILL_STROKE)&&o.stroke(),o.restore()):((m===Je.FILL||m===Je.FILL_STROKE)&&o.fillText(e,i,n),(m===Je.STROKE||m===Je.FILL_STROKE)&&o.strokeText(e,i,n)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ce(o),x:i,y:n,fontSize:g,addToPath:E})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const i=e.getImageData(0,0,10,10).data;let n=!1;for(let l=3;l<i.length;l+=4)if(i[l]>0&&i[l]<255){n=!0;break}return Ft(this,"isFontSubpixelAAEnabled",n)}showText(e){const i=this.current,n=i.font;if(n.isType3Font)return this.showType3Text(e);const l=i.fontSize;if(l===0)return;const o=this.ctx,u=i.fontSizeScale,d=i.charSpacing,f=i.wordSpacing,g=i.fontDirection,m=i.textHScale*g,v=e.length,y=n.vertical,E=y?1:-1,C=n.defaultVMetrics,x=l*i.fontMatrix[0],O=i.textRenderingMode===Je.FILL&&!n.disableFontFace&&!i.patternFill;o.save(),o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),g>0?o.scale(m,-1):o.scale(m,1);let R;if(i.patternFill){o.save();const I=i.fillColor.getPattern(o,this,En(o),hi.FILL);R=ce(o),o.restore(),o.fillStyle=I}let z=i.lineWidth;const F=i.textMatrixScale;if(F===0||z===0){const I=i.textRenderingMode&Je.FILL_STROKE_MASK;(I===Je.STROKE||I===Je.FILL_STROKE)&&(z=this.getSinglePixelWidth())}else z/=F;if(u!==1&&(o.scale(u,u),z/=u),o.lineWidth=z,n.isInvalidPDFjsFont){const I=[];let Q=0;for(const J of e)I.push(J.unicode),Q+=J.width;o.fillText(I.join(""),0,0),i.x+=Q*x*m,o.restore(),this.compose();return}let B=0,P;for(P=0;P<v;++P){const I=e[P];if(typeof I=="number"){B+=E*I*l/1e3;continue}let Q=!1;const J=(I.isSpace?f:0)+d,V=I.fontChar,st=I.accent;let rt,Rt,yt=I.width;if(y){const vt=I.vmetric||C,K=-(I.vmetric?vt[1]:yt*.5)*x,Z=vt[2]*x;yt=vt?-vt[0]:yt,rt=K/u,Rt=(B+Z)/u}else rt=B/u,Rt=0;if(n.remeasure&&yt>0){const vt=o.measureText(V).width*1e3/l*u;if(yt<vt&&this.isFontSubpixelAAEnabled){const K=yt/vt;Q=!0,o.save(),o.scale(K,1),rt/=K}else yt!==vt&&(rt+=(yt-vt)/2e3*l/u)}if(this.contentVisible&&(I.isInFont||n.missingFile)){if(O&&!st)o.fillText(V,rt,Rt);else if(this.paintChar(V,rt,Rt,R),st){const vt=rt+l*st.offset.x/u,K=Rt-l*st.offset.y/u;this.paintChar(st.fontChar,vt,K,R)}}const Ct=y?yt*x-J*g:yt*x+J*g;B+=Ct,Q&&o.restore()}y?i.y-=B:i.x+=B*m,o.restore(),this.compose()}showType3Text(e){const i=this.ctx,n=this.current,l=n.font,o=n.fontSize,u=n.fontDirection,d=l.vertical?1:-1,f=n.charSpacing,g=n.wordSpacing,m=n.textHScale*u,v=n.fontMatrix||pb,y=e.length,E=n.textRenderingMode===Je.INVISIBLE;let C,x,O,R;if(!(E||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),i.transform(...n.textMatrix),i.translate(n.x,n.y),i.scale(m,u),C=0;C<y;++C){if(x=e[C],typeof x=="number"){R=d*x*o/1e3,this.ctx.translate(R,0),n.x+=R*m;continue}const z=(x.isSpace?g:0)+f,F=l.charProcOperatorList[x.operatorListId];if(!F){Mt(`Type3 character "${x.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=x,this.save(),i.scale(o,o),i.transform(...v),this.executeOperatorList(F),this.restore()),O=ct.applyTransform([x.width,0],v)[0]*o+z,i.translate(O,0),n.x+=O*m}i.restore(),this.processingType3=null}}setCharWidth(e,i){}setCharWidthAndBounds(e,i,n,l,o,u){this.ctx.rect(n,l,o-n,u-l),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let i;if(e[0]==="TilingPattern"){const n=e[1],l=this.baseTransform||ce(this.ctx),o={createCanvasGraphics:u=>new V0(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};i=new Gb(e,n,this.ctx,o,l)}else i=this._getPattern(e[1],e[2]);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,i,n){this.ctx.strokeStyle=this.current.strokeColor=ct.makeHexColor(e,i,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,i,n){this.ctx.fillStyle=this.current.fillColor=ct.makeHexColor(e,i,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,i=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=RC(this.getObject(e)),this.cachedPatterns.set(e,n)),i&&(n.matrix=i),n}shadingFill(e){if(!this.contentVisible)return;const i=this.ctx;this.save();const n=this._getPattern(e);i.fillStyle=n.getPattern(i,this,En(i),hi.SHADING);const l=En(i);if(l){const{width:o,height:u}=i.canvas,[d,f,g,m]=ct.getAxialAlignedBoundingBox([0,0,o,u],l);this.ctx.fillRect(d,f,g-d,m-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ee("Should not call beginInlineImage")}beginImageData(){ee("Should not call beginImageData")}paintFormXObjectBegin(e,i){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ce(this.ctx),i)){const n=i[2]-i[0],l=i[3]-i[1];this.ctx.rect(i[0],i[1],n,l),this.current.updateRectMinMax(ce(this.ctx),i),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;e.isolated||Ig("TODO: Support non-isolated groups."),e.knockout&&Mt("Knockout groups not supported.");const n=ce(i);if(e.matrix&&i.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let l=ct.getAxialAlignedBoundingBox(e.bbox,ce(i));const o=[0,0,i.canvas.width,i.canvas.height];l=ct.intersect(l,o)||[0,0,0,0];const u=Math.floor(l[0]),d=Math.floor(l[1]),f=Math.max(Math.ceil(l[2])-u,1),g=Math.max(Math.ceil(l[3])-d,1);this.current.startNewPathAndClipBox([0,0,f,g]);let m="groupAt"+this.groupLevel;e.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,f,g),y=v.context;y.translate(-u,-d),y.transform(...n),e.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:u,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(u,d),i.save()),Ou(i,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const l=ce(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...l);const o=ct.getAxialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],l);this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,i,n,l,o){if(_(this,ll,jb).call(this),Ff(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const u=i[2]-i[0],d=i[3]-i[1];if(o&&this.annotationCanvasMap){n=n.slice(),n[4]-=i[0],n[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=u,i[3]=d;const[f,g]=ct.singularValueDecompose2dScale(ce(this.ctx)),{viewportScale:m}=this,v=Math.ceil(u*this.outputScaleX*m),y=Math.ceil(d*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,y);const{canvas:E,context:C}=this.annotationCanvas;this.annotationCanvasMap.set(e,E),this.annotationCanvas.savedCtx=this.ctx,this.ctx=C,this.ctx.save(),this.ctx.setTransform(f,0,0,-g,0,d*g),Ff(this.ctx)}else Ff(this.ctx),this.endPath(),this.ctx.rect(i[0],i[1],u,d),this.ctx.clip(),this.ctx.beginPath()}this.current=new jS(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...l)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),_(this,ll,Xb).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const i=e.count;e=this.getObject(e.data,e),e.count=i;const n=this.ctx,l=this.processingType3;if(l&&(l.compiled===void 0&&(l.compiled=kC(e)),l.compiled)){l.compiled(n);return}const o=this._createMaskCanvas(e),u=o.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(u,o.offsetX,o.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,i,n=0,l=0,o,u){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const f=ce(d);d.transform(i,n,l,o,0,0);const g=this._createMaskCanvas(e);d.setTransform(1,0,0,1,g.offsetX-f[4],g.offsetY-f[5]);for(let m=0,v=u.length;m<v;m+=2){const y=ct.transform(f,[i,n,l,o,u[m],u[m+1]]),[E,C]=ct.applyTransform([0,0],y);d.drawImage(g.canvas,E,C)}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const i=this.ctx,n=this.current.fillColor,l=this.current.patternFill;for(const o of e){const{data:u,width:d,height:f,transform:g}=o,m=this.cachedCanvases.getCanvas("maskCanvas",d,f),v=m.context;v.save();const y=this.getObject(u,o);YS(v,y),v.globalCompositeOperation="source-in",v.fillStyle=l?n.getPattern(v,this,En(i),hi.FILL):n,v.fillRect(0,0,d,f),v.restore(),i.save(),i.transform(...g),i.scale(1,-1),Hf(i,m.canvas,0,0,d,f,0,-1,1,1),i.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const i=this.getObject(e);if(!i){Mt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(i)}paintImageXObjectRepeat(e,i,n,l){if(!this.contentVisible)return;const o=this.getObject(e);if(!o){Mt("Dependent image isn't ready yet");return}const u=o.width,d=o.height,f=[];for(let g=0,m=l.length;g<m;g+=2)f.push({transform:[i,0,0,n,l[g],l[g+1]],x:0,y:0,w:u,h:d});this.paintInlineImageXObjectGroup(o,f)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:i,width:n,height:l}=e,o=this.cachedCanvases.getCanvas("inlineImage",n,l),u=o.context;return u.filter=this.current.transferMaps,u.drawImage(i,0,0),u.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const i=e.width,n=e.height,l=this.ctx;if(this.save(),!ai){const{filter:d}=l;d!=="none"&&d!==""&&(l.filter="none")}l.scale(1/i,-1/n);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,n).context;XS(f,e),o=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(o,En(l));l.imageSmoothingEnabled=VS(ce(l),e.interpolate),Hf(l,u.img,0,0,u.paintWidth,u.paintHeight,0,-n,i,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,i){if(!this.contentVisible)return;const n=this.ctx;let l;if(e.bitmap)l=e.bitmap;else{const o=e.width,u=e.height,f=this.cachedCanvases.getCanvas("inlineImage",o,u).context;XS(f,e),l=this.applyTransferMapsToCanvas(f)}for(const o of i)n.save(),n.transform(...o.transform),n.scale(1,-1),Hf(n,l,o.x,o.y,o.w,o.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,i){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,i){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(i||(this.pendingClip===KS?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ce(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const i=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),l=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,l)/i}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:i,b:n,c:l,d:o}=this.ctx.getTransform();let u,d;if(n===0&&l===0){const f=Math.abs(i),g=Math.abs(o);if(f===g)if(e===0)u=d=1/f;else{const m=f*e;u=d=m<1?1/m:1}else if(e===0)u=1/f,d=1/g;else{const m=f*e,v=g*e;u=m<1?1/m:1,d=v<1?1/v:1}}else{const f=Math.abs(i*o-n*l),g=Math.hypot(i,n),m=Math.hypot(l,o);if(e===0)u=m/f,d=g/f;else{const v=e*f;u=m>v?m/v:1,d=g>v?g/v:1}}this._cachedScaleForStroking[0]=u,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:i}=this,{lineWidth:n}=this.current,[l,o]=this.getScaleForStroking();if(i.lineWidth=n||1,l===1&&o===1){i.stroke();return}const u=i.getLineDash();if(e&&i.save(),i.scale(l,o),u.length>0){const d=Math.max(l,o);i.setLineDash(u.map(f=>f/d)),i.lineDashOffset/=d}i.stroke(),e&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};ll=new WeakSet,jb=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xb=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const i=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=i}}};let Lo=V0;for(const b in bs)Lo.prototype[b]!==void 0&&(Lo.prototype[bs[b]]=Lo.prototype[b]);var Eh,Th;class Zn{static get workerPort(){return c(this,Eh)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");S(this,Eh,e)}static get workerSrc(){return c(this,Th)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");S(this,Th,e)}}Eh=new WeakMap,Th=new WeakMap,T(Zn,Eh,null),T(Zn,Th,"");const Uf={DATA:1,ERROR:2},Se={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Li(b){switch(b instanceof Error||typeof b=="object"&&b!==null||ee('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),b.name){case"AbortException":return new Ur(b.message);case"MissingPDFException":return new Fr(b.message);case"PasswordException":return new mb(b.message,b.code);case"UnexpectedResponseException":return new qg(b.message,b.status);case"UnknownErrorException":return new bb(b.message,b.details);default:return new bb(b.message,b.toString())}}var Ko,us,V_,K_,Q_,Qf;class Iu{constructor(e,i,n){T(this,us);T(this,Ko,new AbortController);this.sourceName=e,this.targetName=i,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",_(this,us,V_).bind(this),{signal:c(this,Ko).signal})}on(e,i){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=i}send(e,i,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:i},n)}sendWithPromise(e,i,n){const l=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[l]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:l,data:i},n)}catch(u){o.reject(u)}return o.promise}sendWithStream(e,i,n,l){const o=this.streamId++,u=this.sourceName,d=this.targetName,f=this.comObj;return new ReadableStream({start:g=>{const m=Promise.withResolvers();return this.streamControllers[o]={controller:g,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},f.postMessage({sourceName:u,targetName:d,action:e,streamId:o,data:i,desiredSize:g.desiredSize},l),m.promise},pull:g=>{const m=Promise.withResolvers();return this.streamControllers[o].pullCall=m,f.postMessage({sourceName:u,targetName:d,stream:Se.PULL,streamId:o,desiredSize:g.desiredSize}),m.promise},cancel:g=>{Oe(g instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[o].cancelCall=m,this.streamControllers[o].isClosed=!0,f.postMessage({sourceName:u,targetName:d,stream:Se.CANCEL,streamId:o,reason:Li(g)}),m.promise}},n)}destroy(){var e;(e=c(this,Ko))==null||e.abort(),S(this,Ko,null)}}Ko=new WeakMap,us=new WeakSet,V_=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){_(this,us,Q_).call(this,e);return}if(e.callback){const n=e.callbackId,l=this.callbackCapabilities[n];if(!l)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===Uf.DATA)l.resolve(e.data);else if(e.callback===Uf.ERROR)l.reject(Li(e.reason));else throw new Error("Unexpected callback case");return}const i=this.actionHandler[e.action];if(!i)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,l=e.sourceName,o=this.comObj;new Promise(function(u){u(i(e.data))}).then(function(u){o.postMessage({sourceName:n,targetName:l,callback:Uf.DATA,callbackId:e.callbackId,data:u})},function(u){o.postMessage({sourceName:n,targetName:l,callback:Uf.ERROR,callbackId:e.callbackId,reason:Li(u)})});return}if(e.streamId){_(this,us,K_).call(this,e);return}i(e.data)},K_=function(e){const i=e.streamId,n=this.sourceName,l=e.sourceName,o=this.comObj,u=this,d=this.actionHandler[e.action],f={enqueue(g,m=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=m,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:l,stream:Se.ENQUEUE,streamId:i,chunk:g},v)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:l,stream:Se.CLOSE,streamId:i}),delete u.streamSinks[i])},error(g){Oe(g instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:l,stream:Se.ERROR,streamId:i,reason:Li(g)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};f.sinkCapability.resolve(),f.ready=f.sinkCapability.promise,this.streamSinks[i]=f,new Promise(function(g){g(d(e.data,f))}).then(function(){o.postMessage({sourceName:n,targetName:l,stream:Se.START_COMPLETE,streamId:i,success:!0})},function(g){o.postMessage({sourceName:n,targetName:l,stream:Se.START_COMPLETE,streamId:i,reason:Li(g)})})},Q_=function(e){const i=e.streamId,n=this.sourceName,l=e.sourceName,o=this.comObj,u=this.streamControllers[i],d=this.streamSinks[i];switch(e.stream){case Se.START_COMPLETE:e.success?u.startCall.resolve():u.startCall.reject(Li(e.reason));break;case Se.PULL_COMPLETE:e.success?u.pullCall.resolve():u.pullCall.reject(Li(e.reason));break;case Se.PULL:if(!d){o.postMessage({sourceName:n,targetName:l,stream:Se.PULL_COMPLETE,streamId:i,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,new Promise(function(f){var g;f((g=d.onPull)==null?void 0:g.call(d))}).then(function(){o.postMessage({sourceName:n,targetName:l,stream:Se.PULL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:n,targetName:l,stream:Se.PULL_COMPLETE,streamId:i,reason:Li(f)})});break;case Se.ENQUEUE:if(Oe(u,"enqueue should have stream controller"),u.isClosed)break;u.controller.enqueue(e.chunk);break;case Se.CLOSE:if(Oe(u,"close should have stream controller"),u.isClosed)break;u.isClosed=!0,u.controller.close(),_(this,us,Qf).call(this,u,i);break;case Se.ERROR:Oe(u,"error should have stream controller"),u.controller.error(Li(e.reason)),_(this,us,Qf).call(this,u,i);break;case Se.CANCEL_COMPLETE:e.success?u.cancelCall.resolve():u.cancelCall.reject(Li(e.reason)),_(this,us,Qf).call(this,u,i);break;case Se.CANCEL:if(!d)break;new Promise(function(f){var g;f((g=d.onCancel)==null?void 0:g.call(d,Li(e.reason)))}).then(function(){o.postMessage({sourceName:n,targetName:l,stream:Se.CANCEL_COMPLETE,streamId:i,success:!0})},function(f){o.postMessage({sourceName:n,targetName:l,stream:Se.CANCEL_COMPLETE,streamId:i,reason:Li(f)})}),d.sinkCapability.reject(Li(e.reason)),d.isCancelled=!0,delete this.streamSinks[i];break;default:throw new Error("Unexpected stream case")}},Qf=async function(e,i){var n,l,o;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(l=e.pullCall)==null?void 0:l.promise,(o=e.cancelCall)==null?void 0:o.promise]),delete this.streamControllers[i]};var er,wh;class UC{constructor({parsedData:e,rawData:i}){T(this,er);T(this,wh);S(this,er,e),S(this,wh,i)}getRaw(){return c(this,wh)}get(e){return c(this,er).get(e)??null}getAll(){return L0(c(this,er))}has(e){return c(this,er).has(e)}}er=new WeakMap,wh=new WeakMap;const xo=Symbol("INTERNAL");var Ch,xh,Mh,Qo;class BC{constructor(e,{name:i,intent:n,usage:l,rbGroups:o}){T(this,Ch,!1);T(this,xh,!1);T(this,Mh,!1);T(this,Qo,!0);S(this,Ch,!!(e&Ii.DISPLAY)),S(this,xh,!!(e&Ii.PRINT)),this.name=i,this.intent=n,this.usage=l,this.rbGroups=o}get visible(){if(c(this,Mh))return c(this,Qo);if(!c(this,Qo))return!1;const{print:e,view:i}=this.usage;return c(this,Ch)?(i==null?void 0:i.viewState)!=="OFF":c(this,xh)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,i,n=!1){e!==xo&&ee("Internal method `_setVisible` called."),S(this,Mh,n),S(this,Qo,i)}}Ch=new WeakMap,xh=new WeakMap,Mh=new WeakMap,Qo=new WeakMap;var Ia,jt,Wo,Zo,Rh,Yb;class PC{constructor(e,i=Ii.DISPLAY){T(this,Rh);T(this,Ia,null);T(this,jt,new Map);T(this,Wo,null);T(this,Zo,null);if(this.renderingIntent=i,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,S(this,Zo,e.order);for(const n of e.groups)c(this,jt).set(n.id,new BC(i,n));if(e.baseState==="OFF")for(const n of c(this,jt).values())n._setVisible(xo,!1);for(const n of e.on)c(this,jt).get(n)._setVisible(xo,!0);for(const n of e.off)c(this,jt).get(n)._setVisible(xo,!1);S(this,Wo,this.getHash())}}isVisible(e){if(c(this,jt).size===0)return!0;if(!e)return Ig("Optional content group not defined."),!0;if(e.type==="OCG")return c(this,jt).has(e.id)?c(this,jt).get(e.id).visible:(Mt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return _(this,Rh,Yb).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const i of e.ids){if(!c(this,jt).has(i))return Mt(`Optional content group not found: ${i}`),!0;if(c(this,jt).get(i).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const i of e.ids){if(!c(this,jt).has(i))return Mt(`Optional content group not found: ${i}`),!0;if(!c(this,jt).get(i).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const i of e.ids){if(!c(this,jt).has(i))return Mt(`Optional content group not found: ${i}`),!0;if(!c(this,jt).get(i).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const i of e.ids){if(!c(this,jt).has(i))return Mt(`Optional content group not found: ${i}`),!0;if(c(this,jt).get(i).visible)return!1}return!0}return Mt(`Unknown optional content policy ${e.policy}.`),!0}return Mt(`Unknown group type ${e.type}.`),!0}setVisibility(e,i=!0,n=!0){var o;const l=c(this,jt).get(e);if(!l){Mt(`Optional content group not found: ${e}`);return}if(n&&i&&l.rbGroups.length)for(const u of l.rbGroups)for(const d of u)d!==e&&((o=c(this,jt).get(d))==null||o._setVisible(xo,!1,!0));l._setVisible(xo,!!i,!0),S(this,Ia,null)}setOCGState({state:e,preserveRB:i}){let n;for(const l of e){switch(l){case"ON":case"OFF":case"Toggle":n=l;continue}const o=c(this,jt).get(l);if(o)switch(n){case"ON":this.setVisibility(l,!0,i);break;case"OFF":this.setVisibility(l,!1,i);break;case"Toggle":this.setVisibility(l,!o.visible,i);break}}S(this,Ia,null)}get hasInitialVisibility(){return c(this,Wo)===null||this.getHash()===c(this,Wo)}getOrder(){return c(this,jt).size?c(this,Zo)?c(this,Zo).slice():[...c(this,jt).keys()]:null}getGroups(){return c(this,jt).size>0?L0(c(this,jt)):null}getGroup(e){return c(this,jt).get(e)||null}getHash(){if(c(this,Ia)!==null)return c(this,Ia);const e=new H_;for(const[i,n]of c(this,jt))e.update(`${i}:${n.visible}`);return S(this,Ia,e.hexdigest())}}Ia=new WeakMap,jt=new WeakMap,Wo=new WeakMap,Zo=new WeakMap,Rh=new WeakSet,Yb=function(e){const i=e.length;if(i<2)return!0;const n=e[0];for(let l=1;l<i;l++){const o=e[l];let u;if(Array.isArray(o))u=_(this,Rh,Yb).call(this,o);else if(c(this,jt).has(o))u=c(this,jt).get(o).visible;else return Mt(`Optional content group not found: ${o}`),!0;switch(n){case"And":if(!u)return!1;break;case"Or":if(u)return!0;break;case"Not":return!u;default:return!0}}return n==="And"};class IC{constructor(e,{disableRange:i=!1,disableStream:n=!1}){Oe(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:l,initialData:o,progressiveDone:u,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=u,this._contentDispositionFilename=d,(o==null?void 0:o.length)>0){const f=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!i,this._contentLength=l,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((f,g)=>{this._onReceiveData({begin:f,chunk:g})}),e.addProgressListener((f,g)=>{this._onProgress({loaded:f,total:g})}),e.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:i}){const n=i instanceof Uint8Array&&i.byteLength===i.buffer.byteLength?i.buffer:new Uint8Array(i).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const l=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(n),!0)});Oe(l,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var i,n,l,o;e.total===void 0?(n=(i=this._rangeReaders[0])==null?void 0:i.onProgress)==null||n.call(i,{loaded:e.loaded}):(o=(l=this._fullRequestReader)==null?void 0:l.onProgress)==null||o.call(l,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const i=this._rangeReaders.indexOf(e);i>=0&&this._rangeReaders.splice(i,1)}getFullReader(){Oe(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new qC(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const n=new GC(this,e,i);return this._pdfDataRangeTransport.requestDataRange(e,i),this._rangeReaders.push(n),n}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class qC{constructor(e,i,n=!1,l=null){this._stream=e,this._done=n||!1,this._filename=z0(l)?l:null,this._queuedChunks=i||[],this._loaded=0;for(const o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class GC{constructor(e,i,n){this._stream=e,this._begin=i,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function jC(b){let e=!0,i=n("filename\\*","i").exec(b);if(i){i=i[1];let m=d(i);return m=unescape(m),m=f(m),m=g(m),o(m)}if(i=u(b),i){const m=g(i);return o(m)}if(i=n("filename","i").exec(b),i){i=i[1];let m=d(i);return m=g(m),o(m)}function n(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function l(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(m,{fatal:!0}),E=Gg(v);v=y.decode(E),e=!1}catch{}}return v}function o(m){return e&&/[\x80-\xff]/.test(m)&&(m=l("utf-8",m),e&&(m=l("iso-8859-1",m))),m}function u(m){const v=[];let y;const E=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=E.exec(m))!==null;){let[,x,O,R]=y;if(x=parseInt(x,10),x in v){if(x===0)break;continue}v[x]=[O,R]}const C=[];for(let x=0;x<v.length&&x in v;++x){let[O,R]=v[x];R=d(R),O&&(R=unescape(R),x===0&&(R=f(R))),C.push(R)}return C.join("")}function d(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let y=0;y<v.length;++y){const E=v[y].indexOf('"');E!==-1&&(v[y]=v[y].slice(0,E),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function f(m){const v=m.indexOf("'");if(v===-1)return m;const y=m.slice(0,v),C=m.slice(v+1).replace(/^[^']*'/,"");return l(y,C)}function g(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,E,C){if(E==="q"||E==="Q")return C=C.replaceAll("_"," "),C=C.replaceAll(/=([0-9a-fA-F]{2})/g,function(x,O){return String.fromCharCode(parseInt(O,16))}),l(y,C);try{C=atob(C)}catch{}return l(y,C)})}return""}function P0(b,e){const i=new Headers;if(!b||!e||typeof e!="object")return i;for(const n in e){const l=e[n];l!==void 0&&i.append(n,l)}return i}function I0({responseHeaders:b,isHttp:e,rangeChunkSize:i,disableRange:n}){const l={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(b.get("Content-Length"),10);return!Number.isInteger(o)||(l.suggestedLength=o,o<=2*i)||n||!e||b.get("Accept-Ranges")!=="bytes"||(b.get("Content-Encoding")||"identity")!=="identity"||(l.allowRangeRequests=!0),l}function q0(b){const e=b.get("Content-Disposition");if(e){let i=jC(e);if(i.includes("%"))try{i=decodeURIComponent(i)}catch{}if(z0(i))return i}return null}function Yg(b,e){return b===404||b===0&&e.startsWith("file:")?new Fr('Missing PDF "'+e+'".'):new qg(`Unexpected server response (${b}) while retrieving PDF "${e}".`,b)}function W_(b){return b===200||b===206}function Z_(b,e,i){return{method:"GET",headers:b,signal:i.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function $_(b){return b instanceof Uint8Array?b.buffer:b instanceof ArrayBuffer?b:(Mt(`getArrayBuffer - unexpected data format: ${b}`),new Uint8Array(b).buffer)}class QS{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=P0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XC(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const n=new YC(this,e,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class XC{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const i=e.source;this._withCredentials=i.withCredentials||!1,this._contentLength=i.length,this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange;const n=new Headers(e.headers),l=i.url;fetch(l,Z_(n,this._withCredentials,this._abortController)).then(o=>{if(!W_(o.status))throw Yg(o.status,l);this._reader=o.body.getReader(),this._headersCapability.resolve();const u=o.headers,{allowRangeRequests:d,suggestedLength:f}=I0({responseHeaders:u,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=f||this._contentLength,this._filename=q0(u),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ur("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:$_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}class YC{constructor(e,i,n){this._stream=e,this._reader=null,this._loaded=0;const l=e.source;this._withCredentials=l.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!l.disableStream,this._abortController=new AbortController;const o=new Headers(e.headers);o.append("Range",`bytes=${i}-${n-1}`);const u=l.url;fetch(u,Z_(o,this._withCredentials,this._abortController)).then(d=>{if(!W_(d.status))throw Yg(d.status,u);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:i}=await this._reader.read();return i?{value:e,done:i}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:$_(e),done:!1})}cancel(e){var i;(i=this._reader)==null||i.cancel(e),this._abortController.abort()}}const ob=200,cb=206;function VC(b){const e=b.response;return typeof e!="string"?e:Gg(e).buffer}class KC{constructor({url:e,httpHeaders:i,withCredentials:n}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=P0(this.isHttp,i),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,i,n){const l={begin:e,end:i};for(const o in n)l[o]=n[o];return this.request(l)}requestFull(e){return this.request(e)}request(e){const i=new XMLHttpRequest,n=this.currXhrId++,l=this.pendingRequests[n]={xhr:i};i.open("GET",this.url),i.withCredentials=this.withCredentials;for(const[o,u]of this.headers)i.setRequestHeader(o,u);return this.isHttp&&"begin"in e&&"end"in e?(i.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),l.expectedStatus=cb):l.expectedStatus=ob,i.responseType="arraybuffer",e.onError&&(i.onerror=function(o){e.onError(i.status)}),i.onreadystatechange=this.onStateChange.bind(this,n),i.onprogress=this.onProgress.bind(this,n),l.onHeadersReceived=e.onHeadersReceived,l.onDone=e.onDone,l.onError=e.onError,l.onProgress=e.onProgress,i.send(null),n}onProgress(e,i){var l;const n=this.pendingRequests[e];n&&((l=n.onProgress)==null||l.call(n,i))}onStateChange(e,i){var f,g,m;const n=this.pendingRequests[e];if(!n)return;const l=n.xhr;if(l.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),l.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],l.status===0&&this.isHttp){(f=n.onError)==null||f.call(n,l.status);return}const o=l.status||ob;if(!(o===ob&&n.expectedStatus===cb)&&o!==n.expectedStatus){(g=n.onError)==null||g.call(n,l.status);return}const d=VC(l);if(o===cb){const v=l.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);n.onDone({begin:parseInt(y[1],10),chunk:d})}else d?n.onDone({begin:0,chunk:d}):(m=n.onError)==null||m.call(n,l.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const i=this.pendingRequests[e].xhr;delete this.pendingRequests[e],i.abort()}}class QC{constructor(e){this._source=e,this._manager=new KC(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const i=this._rangeRequestReaders.indexOf(e);i>=0&&this._rangeRequestReaders.splice(i,1)}getFullReader(){return Oe(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new WC(this._manager,this._source),this._fullRequestReader}getRangeReader(e,i){const n=new ZC(this._manager,e,i);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class WC{constructor(e,i){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=i.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=i.disableRange||!1,this._contentLength=i.length,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,i=this._manager.getRequestXhr(e),n=new Headers(i.getAllResponseHeaders().trim().split(/[\r\n]+/).map(u=>{const[d,...f]=u.split(": ");return[d,f.join(": ")]})),{allowRangeRequests:l,suggestedLength:o}=I0({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=q0(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Yg(e,this._url),this._headersCapability.reject(this._storedError);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var i;(i=this.onProgress)==null||i.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ZC{constructor(e,i,n){this._manager=e;const l={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(i,n,l),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const i=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:i,done:!1}):this._queuedChunk=i,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=Yg(e,this._url);for(const i of this._requests)i.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var i;this.isStreamingSupported||(i=this.onProgress)==null||i.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const i=this._queuedChunk;return this._queuedChunk=null,{value:i,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const $C=/^[a-z][a-z0-9\-+.]+:/i;function JC(b){if($C.test(b))return new URL(b);const e=nl.get("url");return new URL(e.pathToFileURL(b))}function J_(b,e,i){return b.protocol==="http:"?nl.get("http").request(b,{headers:e},i):nl.get("https").request(b,{headers:e},i)}class tx{constructor(e){this.source=e,this.url=JC(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=P0(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Oe(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new sx(this):new ex(this),this._fullRequestReader}getRangeReader(e,i){if(i<=this._progressiveDataLength)return null;const n=this.isFsUrl?new nx(this,e,i):new ix(this,e,i);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var i;(i=this._fullRequestReader)==null||i.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class tE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const i=e.source;this._contentLength=i.length,this._loaded=0,this._filename=null,this._disableRange=i.disableRange||!1,this._rangeChunkSize=i.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!i.disableStream,this._isRangeSupported=!i.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ur("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class eE{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",i=>{this._error(i)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class ex extends tE{constructor(e){super(e);const i=Object.fromEntries(e.headers),n=l=>{if(l.statusCode===404){const f=new Fr(`Missing PDF "${this._url}".`);this._storedError=f,this._headersCapability.reject(f);return}this._headersCapability.resolve(),this._setReadableStream(l);const o=new Headers(this._readableStream.headers),{allowRangeRequests:u,suggestedLength:d}=I0({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=u,this._contentLength=d||this._contentLength,this._filename=q0(o)};this._request=J_(this._url,i,n),this._request.on("error",l=>{this._storedError=l,this._headersCapability.reject(l)}),this._request.end()}}class ix extends eE{constructor(e,i,n){super(e);const l=Object.fromEntries(e.headers);l.Range=`bytes=${i}-${n-1}`;const o=u=>{if(u.statusCode===404){const d=new Fr(`Missing PDF "${this._url}".`);this._storedError=d;return}this._setReadableStream(u)};this._request=J_(this._url,l,o),this._request.on("error",u=>{this._storedError=u}),this._request.end()}}class sx extends tE{constructor(e){super(e);const i=nl.get("fs");i.promises.lstat(this._url).then(n=>{this._contentLength=n.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},n=>{n.code==="ENOENT"&&(n=new Fr(`Missing PDF "${this._url}".`)),this._storedError=n,this._headersCapability.reject(n)})}}class nx extends eE{constructor(e,i,n){super(e);const l=nl.get("fs");this._setReadableStream(l.createReadStream(this._url,{start:i,end:n-1}))}}const ax=1e5,vi=30,lx=.8;var o_,qa,Si,Dh,Oh,ir,Nn,Lh,Nh,sr,$o,Jo,Ga,tc,kh,ec,nr,zh,Hh,ar,lr,Fh,ja,ic,ea,iE,sE,Vb,Gi,Wf,Kb,nE,aE;const xe=class xe{constructor({textContentSource:e,container:i,viewport:n}){T(this,ea);T(this,qa,Promise.withResolvers());T(this,Si,null);T(this,Dh,!1);T(this,Oh,!!((o_=globalThis.FontInspector)!=null&&o_.enabled));T(this,ir,null);T(this,Nn,null);T(this,Lh,0);T(this,Nh,0);T(this,sr,null);T(this,$o,null);T(this,Jo,0);T(this,Ga,0);T(this,tc,Object.create(null));T(this,kh,[]);T(this,ec,null);T(this,nr,[]);T(this,zh,new WeakMap);T(this,Hh,null);var f;if(e instanceof ReadableStream)S(this,ec,e);else if(typeof e=="object")S(this,ec,new ReadableStream({start(g){g.enqueue(e),g.close()}}));else throw new Error('No "textContentSource" parameter specified.');S(this,Si,S(this,$o,i)),S(this,Ga,n.scale*(globalThis.devicePixelRatio||1)),S(this,Jo,n.rotation),S(this,Nn,{div:null,properties:null,ctx:null});const{pageWidth:l,pageHeight:o,pageX:u,pageY:d}=n.rawDims;S(this,Hh,[1,0,0,-1,-u,d+o]),S(this,Nh,l),S(this,Lh,o),_(f=xe,Gi,nE).call(f),Lr(i,n),c(this,qa).promise.finally(()=>{c(xe,ic).delete(this),S(this,Nn,null),S(this,tc,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:i}=di.platform;return Ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&i?"Calibri, ":""}sans-serif`],["monospace",`${e&&i?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{c(this,sr).read().then(({value:i,done:n})=>{if(n){c(this,qa).resolve();return}c(this,ir)??S(this,ir,i.lang),Object.assign(c(this,tc),i.styles),_(this,ea,iE).call(this,i.items),e()},c(this,qa).reject)};return S(this,sr,c(this,ec).getReader()),c(xe,ic).add(this),e(),c(this,qa).promise}update({viewport:e,onBefore:i=null}){var o;const n=e.scale*(globalThis.devicePixelRatio||1),l=e.rotation;if(l!==c(this,Jo)&&(i==null||i(),S(this,Jo,l),Lr(c(this,$o),{rotation:l})),n!==c(this,Ga)){i==null||i(),S(this,Ga,n);const u={div:null,properties:null,ctx:_(o=xe,Gi,Wf).call(o,c(this,ir))};for(const d of c(this,nr))u.properties=c(this,zh).get(d),u.div=d,_(this,ea,Vb).call(this,u)}}cancel(){var i;const e=new Ur("TextLayer task cancelled.");(i=c(this,sr))==null||i.cancel(e).catch(()=>{}),S(this,sr,null),c(this,qa).reject(e)}get textDivs(){return c(this,nr)}get textContentItemsStr(){return c(this,kh)}static cleanup(){if(!(c(this,ic).size>0)){c(this,ar).clear();for(const{canvas:e}of c(this,lr).values())e.remove();c(this,lr).clear()}}};qa=new WeakMap,Si=new WeakMap,Dh=new WeakMap,Oh=new WeakMap,ir=new WeakMap,Nn=new WeakMap,Lh=new WeakMap,Nh=new WeakMap,sr=new WeakMap,$o=new WeakMap,Jo=new WeakMap,Ga=new WeakMap,tc=new WeakMap,kh=new WeakMap,ec=new WeakMap,nr=new WeakMap,zh=new WeakMap,Hh=new WeakMap,ar=new WeakMap,lr=new WeakMap,Fh=new WeakMap,ja=new WeakMap,ic=new WeakMap,ea=new WeakSet,iE=function(e){var l,o;if(c(this,Dh))return;(o=c(this,Nn)).ctx??(o.ctx=_(l=xe,Gi,Wf).call(l,c(this,ir)));const i=c(this,nr),n=c(this,kh);for(const u of e){if(i.length>ax){Mt("Ignoring additional textDivs for performance reasons."),S(this,Dh,!0);return}if(u.str===void 0){if(u.type==="beginMarkedContentProps"||u.type==="beginMarkedContent"){const d=c(this,Si);S(this,Si,document.createElement("span")),c(this,Si).classList.add("markedContent"),u.id!==null&&c(this,Si).setAttribute("id",`${u.id}`),d.append(c(this,Si))}else u.type==="endMarkedContent"&&S(this,Si,c(this,Si).parentNode);continue}n.push(u.str),_(this,ea,sE).call(this,u)}},sE=function(e){var x;const i=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};c(this,nr).push(i);const l=ct.transform(c(this,Hh),e.transform);let o=Math.atan2(l[1],l[0]);const u=c(this,tc)[e.fontName];u.vertical&&(o+=Math.PI/2);let d=c(this,Oh)&&u.fontSubstitution||u.fontFamily;d=xe.fontFamilyMap.get(d)||d;const f=Math.hypot(l[2],l[3]),g=f*_(x=xe,Gi,aE).call(x,d,c(this,ir));let m,v;o===0?(m=l[4],v=l[5]-g):(m=l[4]+g*Math.sin(o),v=l[5]-g*Math.cos(o));const y="calc(var(--scale-factor)*",E=i.style;c(this,Si)===c(this,$o)?(E.left=`${(100*m/c(this,Nh)).toFixed(2)}%`,E.top=`${(100*v/c(this,Lh)).toFixed(2)}%`):(E.left=`${y}${m.toFixed(2)}px)`,E.top=`${y}${v.toFixed(2)}px)`),E.fontSize=`${y}${(c(xe,ja)*f).toFixed(2)}px)`,E.fontFamily=d,n.fontSize=f,i.setAttribute("role","presentation"),i.textContent=e.str,i.dir=e.dir,c(this,Oh)&&(i.dataset.fontName=u.fontSubstitutionLoadedName||e.fontName),o!==0&&(n.angle=o*(180/Math.PI));let C=!1;if(e.str.length>1)C=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const O=Math.abs(e.transform[0]),R=Math.abs(e.transform[3]);O!==R&&Math.max(O,R)/Math.min(O,R)>1.5&&(C=!0)}if(C&&(n.canvasWidth=u.vertical?e.height:e.width),c(this,zh).set(i,n),c(this,Nn).div=i,c(this,Nn).properties=n,_(this,ea,Vb).call(this,c(this,Nn)),n.hasText&&c(this,Si).append(i),n.hasEOL){const O=document.createElement("br");O.setAttribute("role","presentation"),c(this,Si).append(O)}},Vb=function(e){var d;const{div:i,properties:n,ctx:l}=e,{style:o}=i;let u="";if(c(xe,ja)>1&&(u=`scale(${1/c(xe,ja)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:f}=o,{canvasWidth:g,fontSize:m}=n;_(d=xe,Gi,Kb).call(d,l,m*c(this,Ga),f);const{width:v}=l.measureText(i.textContent);v>0&&(u=`scaleX(${g*c(this,Ga)/v}) ${u}`)}n.angle!==0&&(u=`rotate(${n.angle}deg) ${u}`),u.length>0&&(o.transform=u)},Gi=new WeakSet,Wf=function(e=null){let i=c(this,lr).get(e||(e=""));if(!i){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),i=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),c(this,lr).set(e,i),c(this,Fh).set(i,{size:0,family:""})}return i},Kb=function(e,i,n){const l=c(this,Fh).get(e);i===l.size&&n===l.family||(e.font=`${i}px ${n}`,l.size=i,l.family=n)},nE=function(){if(c(this,ja)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),S(this,ja,e.getBoundingClientRect().height),e.remove()},aE=function(e,i){const n=c(this,ar).get(e);if(n)return n;const l=_(this,Gi,Wf).call(this,i);l.canvas.width=l.canvas.height=vi,_(this,Gi,Kb).call(this,l,vi,e);const o=l.measureText("");let u=o.fontBoundingBoxAscent,d=Math.abs(o.fontBoundingBoxDescent);if(u){const m=u/(u+d);return c(this,ar).set(e,m),l.canvas.width=l.canvas.height=0,m}l.strokeStyle="red",l.clearRect(0,0,vi,vi),l.strokeText("g",0,0);let f=l.getImageData(0,0,vi,vi).data;d=0;for(let m=f.length-1-3;m>=0;m-=4)if(f[m]>0){d=Math.ceil(m/4/vi);break}l.clearRect(0,0,vi,vi),l.strokeText("A",0,vi),f=l.getImageData(0,0,vi,vi).data,u=0;for(let m=0,v=f.length;m<v;m+=4)if(f[m]>0){u=vi-Math.floor(m/4/vi);break}l.canvas.width=l.canvas.height=0;const g=u?u/(u+d):lx;return c(this,ar).set(e,g),g},T(xe,Gi),T(xe,ar,new Map),T(xe,lr,new Map),T(xe,Fh,new WeakMap),T(xe,ja,null),T(xe,ic,new Set);let th=xe;class eh{static textContent(e){const i=[],n={items:i,styles:Object.create(null)};function l(o){var f;if(!o)return;let u=null;const d=o.name;if(d==="#text")u=o.value;else if(eh.shouldBuildText(d))(f=o==null?void 0:o.attributes)!=null&&f.textContent?u=o.attributes.textContent:o.value&&(u=o.value);else return;if(u!==null&&i.push({str:u}),!!o.children)for(const g of o.children)l(g)}return l(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const rx=65536,ox=100,cx=5e3,ux=ai?_C:yC,hx=ai?EC:I_,dx=ai?SC:AC,fx=ai?TC:X_;function gx(b={}){typeof b=="string"||b instanceof URL?b={url:b}:(b instanceof ArrayBuffer||ArrayBuffer.isView(b))&&(b={data:b});const e=new Qb,{docId:i}=e,n=b.url?px(b.url):null,l=b.data?mx(b.data):null,o=b.httpHeaders||null,u=b.withCredentials===!0,d=b.password??null,f=b.range instanceof lE?b.range:null,g=Number.isInteger(b.rangeChunkSize)&&b.rangeChunkSize>0?b.rangeChunkSize:rx;let m=b.worker instanceof No?b.worker:null;const v=b.verbosity,y=typeof b.docBaseUrl=="string"&&!Xg(b.docBaseUrl)?b.docBaseUrl:null,E=typeof b.cMapUrl=="string"?b.cMapUrl:null,C=b.cMapPacked!==!1,x=b.CMapReaderFactory||hx,O=typeof b.standardFontDataUrl=="string"?b.standardFontDataUrl:null,R=b.StandardFontDataFactory||fx,z=b.stopAtErrors!==!0,F=Number.isInteger(b.maxImageSize)&&b.maxImageSize>-1?b.maxImageSize:-1,B=b.isEvalSupported!==!1,P=typeof b.isOffscreenCanvasSupported=="boolean"?b.isOffscreenCanvasSupported:!ai,I=typeof b.isChrome=="boolean"?b.isChrome:!di.platform.isFirefox&&typeof window<"u"&&!!(window!=null&&window.chrome),Q=Number.isInteger(b.canvasMaxAreaInBytes)?b.canvasMaxAreaInBytes:-1,J=typeof b.disableFontFace=="boolean"?b.disableFontFace:ai,V=b.fontExtraProperties===!0,st=b.enableXfa===!0,rt=b.ownerDocument||globalThis.document,Rt=b.disableRange===!0,yt=b.disableStream===!0,Ct=b.disableAutoFetch===!0,vt=b.pdfBug===!0,K=b.CanvasFactory||ux,Z=b.FilterFactory||dx,W=b.enableHWA===!0,zt=f?f.length:b.length??NaN,D=typeof b.useSystemFonts=="boolean"?b.useSystemFonts:!ai&&!J,X=typeof b.useWorkerFetch=="boolean"?b.useWorkerFetch:x===I_&&R===X_&&E&&O&&ku(E,document.baseURI)&&ku(O,document.baseURI);b.canvasFactory&&FS("`canvasFactory`-instance option, please use `CanvasFactory` instead."),b.filterFactory&&FS("`filterFactory`-instance option, please use `FilterFactory` instead.");const at=null;Ww(v);const it={canvasFactory:new K({ownerDocument:rt,enableHWA:W}),filterFactory:new Z({docId:i,ownerDocument:rt}),cMapReaderFactory:X?null:new x({baseUrl:E,isCompressed:C}),standardFontDataFactory:X?null:new R({baseUrl:O})};if(!m){const ht={verbosity:v,port:Zn.workerPort};m=ht.port?No.fromPort(ht):new No(ht),e._worker=m}const et={docId:i,apiVersion:"4.8.69",data:l,password:d,disableAutoFetch:Ct,rangeChunkSize:g,length:zt,docBaseUrl:y,enableXfa:st,evaluatorOptions:{maxImageSize:F,disableFontFace:J,ignoreErrors:z,isEvalSupported:B,isOffscreenCanvasSupported:P,isChrome:I,canvasMaxAreaInBytes:Q,fontExtraProperties:V,useSystemFonts:D,cMapUrl:X?E:null,standardFontDataUrl:X?O:null}},Et={disableFontFace:J,fontExtraProperties:V,ownerDocument:rt,pdfBug:vt,styleElement:at,loadingParams:{disableAutoFetch:Ct,enableXfa:st}};return m.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ht=m.messageHandler.sendWithPromise("GetDocRequest",et,l?[l.buffer]:null);let Tt;if(f)Tt=new IC(f,{disableRange:Rt,disableStream:yt});else if(!l){if(!n)throw new Error("getDocument - no `url` parameter provided.");let Nt;ai?Nt=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&ku(n)?QS:tx:Nt=ku(n)?QS:QC,Tt=new Nt({url:n,length:zt,httpHeaders:o,withCredentials:u,rangeChunkSize:g,disableRange:Rt,disableStream:yt})}return ht.then(Nt=>{if(e.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const ie=new Iu(i,Nt,m.port),Zt=new Ax(ie,e,Tt,Et,it);e._transport=Zt,ie.send("Ready",null)})}).catch(e._capability.reject),e}function px(b){if(b instanceof URL)return b.href;try{return new URL(b,window.location).href}catch{if(ai&&typeof b=="string")return b}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function mx(b){if(ai&&typeof Buffer<"u"&&b instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(b instanceof Uint8Array&&b.byteLength===b.buffer.byteLength)return b;if(typeof b=="string")return Gg(b);if(b instanceof ArrayBuffer||ArrayBuffer.isView(b)||typeof b=="object"&&!isNaN(b==null?void 0:b.length))return new Uint8Array(b);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function WS(b){return typeof b=="object"&&Number.isInteger(b==null?void 0:b.num)&&b.num>=0&&Number.isInteger(b==null?void 0:b.gen)&&b.gen>=0}var Og;const Lg=class Lg{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${oi(Lg,Og)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,i,n;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((i=this._transport)==null?void 0:i.destroy())}catch(l){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,l}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};Og=new WeakMap,T(Lg,Og,0);let Qb=Lg;class lE{constructor(e,i,n=!1,l=null){this.length=e,this.initialData=i,this.progressiveDone=n,this.contentDispositionFilename=l,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,i){for(const n of this._rangeListeners)n(e,i)}onDataProgress(e,i){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,i)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const i of this._progressiveReadListeners)i(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,i){ee("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class bx{constructor(e,i){this._pdfInfo=e,this._transport=i}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(i)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Xa,kn,os,Mo,Zf;class vx{constructor(e,i,n,l=!1){T(this,os);T(this,Xa,null);T(this,kn,!1);this._pageIndex=e,this._pageInfo=i,this._transport=n,this._stats=l?new HS:null,this._pdfBug=l,this.commonObjs=n.commonObjs,this.objs=new rE,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:i=this.rotate,offsetX:n=0,offsetY:l=0,dontFlip:o=!1}={}){return new bd({viewBox:this.view,scale:e,rotation:i,offsetX:n,offsetY:l,dontFlip:o})}getAnnotations({intent:e="display"}={}){const{renderingIntent:i}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,i)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:i,intent:n="display",annotationMode:l=Ra.ENABLE,transform:o=null,background:u=null,optionalContentConfigPromise:d=null,annotationCanvasMap:f=null,pageColors:g=null,printAnnotationStorage:m=null,isEditing:v=!1}){var B,P;(B=this._stats)==null||B.time("Overall");const y=this._transport.getRenderingIntent(n,l,m,v),{renderingIntent:E,cacheKey:C}=y;S(this,kn,!1),_(this,os,Zf).call(this),d||(d=this._transport.getOptionalContentConfig(E));let x=this._intentStates.get(C);x||(x=Object.create(null),this._intentStates.set(C,x)),x.streamReaderCancelTimeout&&(clearTimeout(x.streamReaderCancelTimeout),x.streamReaderCancelTimeout=null);const O=!!(E&Ii.PRINT);x.displayReadyCapability||(x.displayReadyCapability=Promise.withResolvers(),x.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(y));const R=I=>{var Q;x.renderTasks.delete(z),(this._maybeCleanupAfterRender||O)&&S(this,kn,!0),_(this,os,Mo).call(this,!O),I?(z.capability.reject(I),this._abortOperatorList({intentState:x,reason:I instanceof Error?I:new Error(I)})):z.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Q=globalThis.Stats)!=null&&Q.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},z=new Zb({callback:R,params:{canvasContext:e,viewport:i,transform:o,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!O,pdfBug:this._pdfBug,pageColors:g});(x.renderTasks||(x.renderTasks=new Set)).add(z);const F=z.task;return Promise.all([x.displayReadyCapability.promise,d]).then(([I,Q])=>{var J;if(this.destroyed){R();return}if((J=this._stats)==null||J.time("Rendering"),!(Q.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");z.initializeGraphics({transparency:I,optionalContentConfig:Q}),z.operatorListChanged()}).catch(R),F}getOperatorList({intent:e="display",annotationMode:i=Ra.ENABLE,printAnnotationStorage:n=null,isEditing:l=!1}={}){var g;function o(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(f))}const u=this._transport.getRenderingIntent(e,i,n,l,!0);let d=this._intentStates.get(u.cacheKey);d||(d=Object.create(null),this._intentStates.set(u.cacheKey,d));let f;return d.opListReadCapability||(f=Object.create(null),f.operatorListChanged=o,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||(d.renderTasks=new Set)).add(f),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(g=this._stats)==null||g.time("Page Request"),this._pumpOperatorList(u)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:i=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:i===!0},{highWaterMark:100,size(l){return l.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>eh.textContent(n));const i=this.streamTextContent(e);return new Promise(function(n,l){function o(){u.read().then(function({value:f,done:g}){if(g){n(d);return}d.lang??(d.lang=f.lang),Object.assign(d.styles,f.styles),d.items.push(...f.items),o()},l)}const u=i.getReader(),d={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const i of this._intentStates.values())if(this._abortOperatorList({intentState:i,reason:new Error("Page was destroyed."),force:!0}),!i.opListReadCapability)for(const n of i.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),S(this,kn,!1),_(this,os,Zf).call(this),Promise.all(e)}cleanup(e=!1){S(this,kn,!0);const i=_(this,os,Mo).call(this,!1);return e&&i&&this._stats&&(this._stats=new HS),i}_startRenderPage(e,i){var l,o;const n=this._intentStates.get(i);n&&((l=this._stats)==null||l.timeEnd("Page Request"),(o=n.displayReadyCapability)==null||o.resolve(e))}_renderPageChunk(e,i){for(let n=0,l=e.length;n<l;n++)i.operatorList.fnArray.push(e.fnArray[n]),i.operatorList.argsArray.push(e.argsArray[n]);i.operatorList.lastChunk=e.lastChunk,i.operatorList.separateAnnots=e.separateAnnots;for(const n of i.renderTasks)n.operatorListChanged();e.lastChunk&&_(this,os,Mo).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:i,annotationStorageSerializable:n,modifiedIds:l}){const{map:o,transfer:u}=n,f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:i,annotationStorage:o,modifiedIds:l},u).getReader(),g=this._intentStates.get(i);g.streamReader=f;const m=()=>{f.read().then(({value:v,done:y})=>{if(y){g.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(v,g),m())},v=>{if(g.streamReader=null,!this._transport.destroyed){if(g.operatorList){g.operatorList.lastChunk=!0;for(const y of g.renderTasks)y.operatorListChanged();_(this,os,Mo).call(this,!0)}if(g.displayReadyCapability)g.displayReadyCapability.reject(v);else if(g.opListReadCapability)g.opListReadCapability.reject(v);else throw v}})};m()}_abortOperatorList({intentState:e,reason:i,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(i instanceof k0){let l=ox;i.extraDelay>0&&i.extraDelay<1e3&&(l+=i.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:i,force:!0})},l);return}}if(e.streamReader.cancel(new Ur(i.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[l,o]of this._intentStates)if(o===e){this._intentStates.delete(l);break}this.cleanup()}}}get stats(){return this._stats}}Xa=new WeakMap,kn=new WeakMap,os=new WeakSet,Mo=function(e=!1){if(_(this,os,Zf).call(this),!c(this,kn)||this.destroyed)return!1;if(e)return S(this,Xa,setTimeout(()=>{S(this,Xa,null),_(this,os,Mo).call(this,!1)},cx)),!1;for(const{renderTasks:i,operatorList:n}of this._intentStates.values())if(i.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),S(this,kn,!1),!0},Zf=function(){c(this,Xa)&&(clearTimeout(c(this,Xa)),S(this,Xa,null))};var zn,Ng;class yx{constructor(){T(this,zn,new Map);T(this,Ng,Promise.resolve())}postMessage(e,i){const n={data:structuredClone(e,i?{transfer:i}:null)};c(this,Ng).then(()=>{for(const[l]of c(this,zn))l.call(this,n)})}addEventListener(e,i,n=null){let l=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:o}=n;if(o.aborted){Mt("LoopbackPort - cannot use an `aborted` signal.");return}const u=()=>this.removeEventListener(e,i);l=()=>o.removeEventListener("abort",u),o.addEventListener("abort",u)}c(this,zn).set(i,l)}removeEventListener(e,i){const n=c(this,zn).get(i);n==null||n(),c(this,zn).delete(i)}terminate(){for(const[,e]of c(this,zn))e==null||e();c(this,zn).clear()}}zn=new WeakMap,Ng=new WeakMap;var kg,rr,or,sc,$f,nc,Jf;const se=class se{constructor({name:e=null,port:i=null,verbosity:n=Zw()}={}){T(this,sc);var l;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,i){if((l=c(se,or))!=null&&l.has(i))throw new Error("Cannot use more than one PDFWorker per port.");(c(se,or)||S(se,or,new WeakMap)).set(i,this),this._initializeFromPort(i);return}this._initialize()}get promise(){return ai?Promise.all([nl.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Iu("main","worker",e),this._messageHandler.on("ready",function(){}),_(this,sc,$f).call(this)}_initialize(){if(c(se,rr)||c(se,nc,Jf)){this._setupFakeWorker();return}let{workerSrc:e}=se;try{se._isSameOrigin(window.location.href,e)||(e=se._createCDNWrapper(new URL(e,window.location).href));const i=new Worker(e,{type:"module"}),n=new Iu("main","worker",i),l=()=>{o.abort(),n.destroy(),i.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;i.addEventListener("error",()=>{this._webWorker||l()},{signal:o.signal}),n.on("test",d=>{if(o.abort(),this.destroyed||!d){l();return}this._messageHandler=n,this._port=i,this._webWorker=i,_(this,sc,$f).call(this)}),n.on("ready",d=>{if(o.abort(),this.destroyed){l();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const d=new Uint8Array;n.send("test",d,[d.buffer])};u();return}catch{Ig("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){c(se,rr)||(Mt("Setting up fake worker."),S(se,rr,!0)),se._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const i=new yx;this._port=i;const n=`fake${oi(se,kg)._++}`,l=new Iu(n+"_worker",n,i);e.setup(l,i),this._messageHandler=new Iu(n,n+"_worker",i),_(this,sc,$f).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(e=c(se,or))==null||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const i=(n=c(this,or))==null?void 0:n.get(e.port);if(i){if(i._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return i}return new se(e)}static get workerSrc(){if(Zn.workerSrc)return Zn.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ft(this,"_setupFakeWorkerGlobal",(async()=>c(this,nc,Jf)?c(this,nc,Jf):(await import(this.workerSrc)).WorkerMessageHandler)())}};kg=new WeakMap,rr=new WeakMap,or=new WeakMap,sc=new WeakSet,$f=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},nc=new WeakSet,Jf=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},T(se,nc),T(se,kg,0),T(se,rr,!1),T(se,or),ai&&(S(se,rr,!0),Zn.workerSrc||(Zn.workerSrc="./pdf.worker.mjs")),se._isSameOrigin=(e,i)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const l=new URL(i,n);return n.origin===l.origin},se._createCDNWrapper=e=>{const i=`await import("${e}");`;return URL.createObjectURL(new Blob([i],{type:"text/javascript"}))};let No=se;var Hn,Ws,ac,lc,Zs,cr,qu;class Ax{constructor(e,i,n,l,o){T(this,cr);T(this,Hn,new Map);T(this,Ws,new Map);T(this,ac,new Map);T(this,lc,new Map);T(this,Zs,null);this.messageHandler=e,this.loadingTask=i,this.commonObjs=new rE,this.fontLoader=new bC({ownerDocument:l.ownerDocument,styleElement:l.styleElement}),this.loadingParams=l.loadingParams,this._params=l,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ft(this,"annotationStorage",new U0)}getRenderingIntent(e,i=Ra.ENABLE,n=null,l=!1,o=!1){let u=Ii.DISPLAY,d=Ub;switch(e){case"any":u=Ii.ANY;break;case"display":break;case"print":u=Ii.PRINT;break;default:Mt(`getRenderingIntent - invalid intent: ${e}`)}const f=u&Ii.PRINT&&n instanceof U_?n:this.annotationStorage;switch(i){case Ra.DISABLE:u+=Ii.ANNOTATIONS_DISABLE;break;case Ra.ENABLE:break;case Ra.ENABLE_FORMS:u+=Ii.ANNOTATIONS_FORMS;break;case Ra.ENABLE_STORAGE:u+=Ii.ANNOTATIONS_STORAGE,d=f.serializable;break;default:Mt(`getRenderingIntent - invalid annotationMode: ${i}`)}l&&(u+=Ii.IS_EDITING),o&&(u+=Ii.OPLIST);const{ids:g,hash:m}=f.modifiedIds,v=[u,d.hash,m];return{renderingIntent:u,cacheKey:v.join("_"),annotationStorageSerializable:d,modifiedIds:g}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=c(this,Zs))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const l of c(this,Ws).values())e.push(l._destroy());c(this,Ws).clear(),c(this,ac).clear(),c(this,lc).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const i=this.messageHandler.sendWithPromise("Terminate",null);return e.push(i),Promise.all(e).then(()=>{var l;this.commonObjs.clear(),this.fontLoader.clear(),c(this,Hn).clear(),this.filterFactory.destroy(),th.cleanup(),(l=this._networkStream)==null||l.cancelAllRequests(new Ur("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:i}=this;e.on("GetReader",(n,l)=>{Oe(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},l.onPull=()=>{this._fullReader.read().then(function({value:o,done:u}){if(u){l.close();return}Oe(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{l.error(o)})},l.onCancel=o=>{this._fullReader.cancel(o),l.ready.catch(u=>{if(!this.destroyed)throw u})}}),e.on("ReaderHeadersReady",async n=>{var d;await this._fullReader.headersReady;const{isStreamingSupported:l,isRangeSupported:o,contentLength:u}=this._fullReader;return(!l||!o)&&(this._lastProgress&&((d=i.onProgress)==null||d.call(i,this._lastProgress)),this._fullReader.onProgress=f=>{var g;(g=i.onProgress)==null||g.call(i,{loaded:f.loaded,total:f.total})}),{isStreamingSupported:l,isRangeSupported:o,contentLength:u}}),e.on("GetRangeReader",(n,l)=>{Oe(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const o=this._networkStream.getRangeReader(n.begin,n.end);if(!o){l.close();return}l.onPull=()=>{o.read().then(function({value:u,done:d}){if(d){l.close();return}Oe(u instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),l.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{l.error(u)})},l.onCancel=u=>{o.cancel(u),l.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,i._capability.resolve(new bx(n,this))}),e.on("DocException",function(n){let l;switch(n.name){case"PasswordException":l=new mb(n.message,n.code);break;case"InvalidPDFException":l=new u_(n.message);break;case"MissingPDFException":l=new Fr(n.message);break;case"UnexpectedResponseException":l=new qg(n.message,n.status);break;case"UnknownErrorException":l=new bb(n.message,n.details);break;default:ee("DocException - expected a valid Error.")}i._capability.reject(l)}),e.on("PasswordRequest",n=>{if(S(this,Zs,Promise.withResolvers()),i.onPassword){const l=o=>{o instanceof Error?c(this,Zs).reject(o):c(this,Zs).resolve({password:o})};try{i.onPassword(l,n.code)}catch(o){c(this,Zs).reject(o)}}else c(this,Zs).reject(new mb(n.message,n.code));return c(this,Zs).promise}),e.on("DataLoaded",n=>{var l;(l=i.onProgress)==null||l.call(i,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;c(this,Ws).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,l,o])=>{var u;if(this.destroyed||this.commonObjs.has(n))return null;switch(l){case"Font":const{disableFontFace:d,fontExtraProperties:f,pdfBug:g}=this._params;if("error"in o){const E=o.error;Mt(`Error during font loading: ${E}`),this.commonObjs.resolve(n,E);break}const m=g&&((u=globalThis.FontInspector)!=null&&u.enabled)?(E,C)=>globalThis.FontInspector.fontAdded(E,C):null,v=new vC(o,{disableFontFace:d,inspectFont:m});this.fontLoader.bind(v).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!f&&v.data&&(v.data=null),this.commonObjs.resolve(n,v)});break;case"CopyLocalImage":const{imageRef:y}=o;Oe(y,"The imageRef must be defined.");for(const E of c(this,Ws).values())for(const[,C]of E.objs)if((C==null?void 0:C.ref)===y)return C.dataLen?(this.commonObjs.resolve(n,structuredClone(C)),C.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,o);break;default:throw new Error(`Got unknown common object type ${l}`)}return null}),e.on("obj",([n,l,o,u])=>{var f;if(this.destroyed)return;const d=c(this,Ws).get(l);if(!d.objs.has(n)){if(d._intentStates.size===0){(f=u==null?void 0:u.bitmap)==null||f.close();return}switch(o){case"Image":d.objs.resolve(n,u),(u==null?void 0:u.dataLen)>Yw&&(d._maybeCleanupAfterRender=!0);break;case"Pattern":d.objs.resolve(n,u);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",n=>{var l;this.destroyed||(l=i.onProgress)==null||l.call(i,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Mt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:i}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},i).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const i=e-1,n=c(this,ac).get(i);if(n)return n;const l=this.messageHandler.sendWithPromise("GetPage",{pageIndex:i}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&c(this,lc).set(o.refStr,e);const u=new vx(i,o,this,this._params.pdfBug);return c(this,Ws).set(i,u),u});return c(this,ac).set(i,l),l}getPageIndex(e){return WS(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,i){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:i})}getFieldObjects(){return _(this,cr,qu).call(this,"GetFieldObjects")}hasJSActions(){return _(this,cr,qu).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return _(this,cr,qu).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return _(this,cr,qu).call(this,"GetOptionalContentConfig").then(i=>new PC(i,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",i=c(this,Hn).get(e);if(i)return i;const n=this.messageHandler.sendWithPromise(e,null).then(l=>{var o,u;return{info:l[0],metadata:l[1]?new UC(l[1]):null,contentDispositionFilename:((o=this._fullReader)==null?void 0:o.filename)??null,contentLength:((u=this._fullReader)==null?void 0:u.contentLength)??null}});return c(this,Hn).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const i of c(this,Ws).values())if(!i.cleanup())throw new Error(`startCleanup: Page ${i.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),c(this,Hn).clear(),this.filterFactory.destroy(!0),th.cleanup()}}cachedPageNumber(e){if(!WS(e))return null;const i=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return c(this,lc).get(i)??null}}Hn=new WeakMap,Ws=new WeakMap,ac=new WeakMap,lc=new WeakMap,Zs=new WeakMap,cr=new WeakSet,qu=function(e,i=null){const n=c(this,Hn).get(e);if(n)return n;const l=this.messageHandler.sendWithPromise(e,i);return c(this,Hn).set(e,l),l};const Bf=Symbol("INITIAL_DATA");var Es,Uh,Wb;class rE{constructor(){T(this,Uh);T(this,Es,Object.create(null))}get(e,i=null){if(i){const l=_(this,Uh,Wb).call(this,e);return l.promise.then(()=>i(l.data)),null}const n=c(this,Es)[e];if(!n||n.data===Bf)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const i=c(this,Es)[e];return!!i&&i.data!==Bf}resolve(e,i=null){const n=_(this,Uh,Wb).call(this,e);n.data=i,n.resolve()}clear(){var e;for(const i in c(this,Es)){const{data:n}=c(this,Es)[i];(e=n==null?void 0:n.bitmap)==null||e.close()}S(this,Es,Object.create(null))}*[Symbol.iterator](){for(const e in c(this,Es)){const{data:i}=c(this,Es)[e];i!==Bf&&(yield[e,i])}}}Es=new WeakMap,Uh=new WeakSet,Wb=function(e){var i;return(i=c(this,Es))[e]||(i[e]={...Promise.withResolvers(),data:Bf})};var Ya;class Sx{constructor(e){T(this,Ya,null);S(this,Ya,e),this.onContinue=null}get promise(){return c(this,Ya).capability.promise}cancel(e=0){c(this,Ya).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=c(this,Ya).operatorList;if(!e)return!1;const{annotationCanvasMap:i}=c(this,Ya);return e.form||e.canvas&&(i==null?void 0:i.size)>0}}Ya=new WeakMap;var Va,ur;const zl=class zl{constructor({callback:e,params:i,objs:n,commonObjs:l,annotationCanvasMap:o,operatorList:u,pageIndex:d,canvasFactory:f,filterFactory:g,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:y=null}){T(this,Va,null);this.callback=e,this.params=i,this.objs=n,this.commonObjs=l,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=d,this.canvasFactory=f,this.filterFactory=g,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Sx(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=i.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:i}){var d,f;if(this.cancelled)return;if(this._canvas){if(c(zl,ur).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");c(zl,ur).add(this._canvas)}this._pdfBug&&((d=globalThis.StepperManager)!=null&&d.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:l,transform:o,background:u}=this.params;this.gfx=new Lo(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:l,transparency:e,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,(f=this.graphicsReadyCallback)==null||f.call(this)}cancel(e=null,i=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),c(this,Va)&&(window.cancelAnimationFrame(c(this,Va)),S(this,Va,null)),c(zl,ur).delete(this._canvas),this.callback(e||new k0(`Rendering cancelled, page ${this._pageIndex+1}`,i))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?S(this,Va,window.requestAnimationFrame(()=>{S(this,Va,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),c(zl,ur).delete(this._canvas),this.callback())))}};Va=new WeakMap,ur=new WeakMap,T(zl,ur,new WeakSet);let Zb=zl;const _x="4.8.69",Ex="3634dab10";function ZS(b){return Math.floor(Math.max(0,Math.min(1,b))*255).toString(16).padStart(2,"0")}function Lu(b){return Math.max(0,Math.min(255,255*b))}class $S{static CMYK_G([e,i,n,l]){return["G",1-Math.min(1,.3*e+.59*n+.11*i+l)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Lu(e),[e,e,e]}static G_HTML([e]){const i=ZS(e);return`#${i}${i}${i}`}static RGB_G([e,i,n]){return["G",.3*e+.59*i+.11*n]}static RGB_rgb(e){return e.map(Lu)}static RGB_HTML(e){return`#${e.map(ZS).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,i,n,l]){return["RGB",1-Math.min(1,e+l),1-Math.min(1,n+l),1-Math.min(1,i+l)]}static CMYK_rgb([e,i,n,l]){return[Lu(1-Math.min(1,e+l)),Lu(1-Math.min(1,n+l)),Lu(1-Math.min(1,i+l))]}static CMYK_HTML(e){const i=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(i)}static RGB_CMYK([e,i,n]){const l=1-e,o=1-i,u=1-n,d=Math.min(l,o,u);return["CMYK",l,o,u,d]}}class Tx{create(e,i,n=!1){if(e<=0||i<=0)throw new Error("Invalid SVG dimensions");const l=this._createSVG("svg:svg");return l.setAttribute("version","1.1"),n||(l.setAttribute("width",`${e}px`),l.setAttribute("height",`${i}px`)),l.setAttribute("preserveAspectRatio","none"),l.setAttribute("viewBox",`0 0 ${e} ${i}`),l}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ee("Abstract method `_createSVG` called.")}}class G0 extends Tx{_createSVG(e){return document.createElementNS(Tn,e)}}class oE{static setupStorage(e,i,n,l,o){const u=l.getValue(i,{value:null});switch(n.name){case"textarea":if(u.value!==null&&(e.textContent=u.value),o==="print")break;e.addEventListener("input",d=>{l.setValue(i,{value:d.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(u.value===n.attributes.xfaOn?e.setAttribute("checked",!0):u.value===n.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",d=>{l.setValue(i,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(u.value!==null&&e.setAttribute("value",u.value),o==="print")break;e.addEventListener("input",d=>{l.setValue(i,{value:d.target.value})})}break;case"select":if(u.value!==null){e.setAttribute("value",u.value);for(const d of n.children)d.attributes.value===u.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const f=d.target.options,g=f.selectedIndex===-1?"":f[f.selectedIndex].value;l.setValue(i,{value:g})});break}}static setAttributes({html:e,element:i,storage:n=null,intent:l,linkService:o}){const{attributes:u}=i,d=e instanceof HTMLAnchorElement;u.type==="radio"&&(u.name=`${u.name}-${l}`);for(const[f,g]of Object.entries(u))if(g!=null)switch(f){case"class":g.length&&e.setAttribute(f,g.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",g);break;case"style":Object.assign(e.style,g);break;case"textContent":e.textContent=g;break;default:(!d||f!=="href"&&f!=="newWindow")&&e.setAttribute(f,g)}d&&o.addLinkAttributes(e,u.href,u.newWindow),n&&u.dataId&&this.setupStorage(e,u.dataId,i,n)}static render(e){var v,y;const i=e.annotationStorage,n=e.linkService,l=e.xfaHtml,o=e.intent||"display",u=document.createElement(l.name);l.attributes&&this.setAttributes({html:u,element:l,intent:o,linkService:n});const d=o!=="richText",f=e.div;if(f.append(u),e.viewport){const E=`matrix(${e.viewport.transform.join(",")})`;f.style.transform=E}d&&f.setAttribute("class","xfaLayer xfaFont");const g=[];if(l.children.length===0){if(l.value){const E=document.createTextNode(l.value);u.append(E),d&&eh.shouldBuildText(l.name)&&g.push(E)}return{textDivs:g}}const m=[[l,-1,u]];for(;m.length>0;){const[E,C,x]=m.at(-1);if(C+1===E.children.length){m.pop();continue}const O=E.children[++m.at(-1)[1]];if(O===null)continue;const{name:R}=O;if(R==="#text"){const F=document.createTextNode(O.value);g.push(F),x.append(F);continue}const z=(v=O==null?void 0:O.attributes)!=null&&v.xmlns?document.createElementNS(O.attributes.xmlns,R):document.createElement(R);if(x.append(z),O.attributes&&this.setAttributes({html:z,element:O,storage:i,intent:o,linkService:n}),((y=O.children)==null?void 0:y.length)>0)m.push([O,-1,z]);else if(O.value){const F=document.createTextNode(O.value);d&&eh.shouldBuildText(R)&&g.push(F),z.append(F)}}for(const E of f.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))E.setAttribute("readOnly",!0);return{textDivs:g}}static update(e){const i=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=i,e.div.hidden=!1}}const yd=1e3,wx=9,kr=new WeakSet;function $n(b){return{width:b[2]-b[0],height:b[3]-b[1]}}class Cx{static create(e){switch(e.data.annotationType){case Ce.LINK:return new cE(e);case Ce.TEXT:return new xx(e);case Ce.WIDGET:switch(e.data.fieldType){case"Tx":return new Mx(e);case"Btn":return e.data.radioButton?new dE(e):e.data.checkBox?new Dx(e):new Ox(e);case"Ch":return new Lx(e);case"Sig":return new Rx(e)}return new Br(e);case Ce.POPUP:return new Jb(e);case Ce.FREETEXT:return new bE(e);case Ce.LINE:return new kx(e);case Ce.SQUARE:return new zx(e);case Ce.CIRCLE:return new Hx(e);case Ce.POLYLINE:return new vE(e);case Ce.CARET:return new Ux(e);case Ce.INK:return new j0(e);case Ce.POLYGON:return new Fx(e);case Ce.HIGHLIGHT:return new yE(e);case Ce.UNDERLINE:return new Bx(e);case Ce.SQUIGGLY:return new Px(e);case Ce.STRIKEOUT:return new Ix(e);case Ce.STAMP:return new AE(e);case Ce.FILEATTACHMENT:return new qx(e);default:return new be(e)}}}var hr,rc,oc,Bh,$b;const K0=class K0{constructor(e,{isRenderable:i=!1,ignoreBorder:n=!1,createQuadrilaterals:l=!1}={}){T(this,Bh);T(this,hr,null);T(this,rc,!1);T(this,oc,null);this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(n)),l&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:i,richText:n}){return!!(e!=null&&e.str||i!=null&&i.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return K0._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;c(this,hr)||S(this,hr,{rect:this.data.rect.slice(0)});const{rect:i}=e;i&&_(this,Bh,$b).call(this,i),(n=c(this,oc))==null||n.popup.updateEdited(e)}resetEdited(){var e;c(this,hr)&&(_(this,Bh,$b).call(this,c(this,hr).rect),(e=c(this,oc))==null||e.popup.resetEdited(),S(this,hr,null))}_createContainer(e){const{data:i,parent:{page:n,viewport:l}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",i.id),this instanceof Br||(o.tabIndex=yd);const{style:u}=o;if(u.zIndex=this.parent.zIndex++,i.alternativeText&&(o.title=i.alternativeText),i.noRotate&&o.classList.add("norotate"),!i.rect||this instanceof Jb){const{rotation:x}=i;return!i.hasOwnCanvas&&x!==0&&this.setRotation(x,o),o}const{width:d,height:f}=$n(i.rect);if(!e&&i.borderStyle.width>0){u.borderWidth=`${i.borderStyle.width}px`;const x=i.borderStyle.horizontalCornerRadius,O=i.borderStyle.verticalCornerRadius;if(x>0||O>0){const z=`calc(${x}px * var(--scale-factor)) / calc(${O}px * var(--scale-factor))`;u.borderRadius=z}else if(this instanceof dE){const z=`calc(${d}px * var(--scale-factor)) / calc(${f}px * var(--scale-factor))`;u.borderRadius=z}switch(i.borderStyle.style){case Du.SOLID:u.borderStyle="solid";break;case Du.DASHED:u.borderStyle="dashed";break;case Du.BEVELED:Mt("Unimplemented border style: beveled");break;case Du.INSET:Mt("Unimplemented border style: inset");break;case Du.UNDERLINE:u.borderBottomStyle="solid";break}const R=i.borderColor||null;R?(S(this,rc,!0),u.borderColor=ct.makeHexColor(R[0]|0,R[1]|0,R[2]|0)):u.borderWidth=0}const g=ct.normalizeRect([i.rect[0],n.view[3]-i.rect[1]+n.view[1],i.rect[2],n.view[3]-i.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:v,pageX:y,pageY:E}=l.rawDims;u.left=`${100*(g[0]-y)/m}%`,u.top=`${100*(g[1]-E)/v}%`;const{rotation:C}=i;return i.hasOwnCanvas||C===0?(u.width=`${100*d/m}%`,u.height=`${100*f/v}%`):this.setRotation(C,o),o}setRotation(e,i=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:l}=this.parent.viewport.rawDims,{width:o,height:u}=$n(this.data.rect);let d,f;e%180===0?(d=100*o/n,f=100*u/l):(d=100*u/n,f=100*o/l),i.style.width=`${d}%`,i.style.height=`${f}%`,i.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(i,n,l)=>{const o=l.detail[i],u=o[0],d=o.slice(1);l.target.style[n]=$S[`${u}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[n]:$S[`${u}_rgb`](d)})};return Ft(this,"_commonActions",{display:i=>{const{display:n}=i.detail,l=n%2===1;this.container.style.visibility=l?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:l,noPrint:n===1||n===2})},print:i=>{this.annotationStorage.setValue(this.data.id,{noPrint:!i.detail.print})},hidden:i=>{const{hidden:n}=i.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:i=>{setTimeout(()=>i.target.focus({preventScroll:!1}),0)},userName:i=>{i.target.title=i.detail.userName},readonly:i=>{i.target.disabled=i.detail.readonly},required:i=>{this._setRequired(i.target,i.detail.required)},bgColor:i=>{e("bgColor","backgroundColor",i)},fillColor:i=>{e("fillColor","backgroundColor",i)},fgColor:i=>{e("fgColor","color",i)},textColor:i=>{e("textColor","color",i)},borderColor:i=>{e("borderColor","borderColor",i)},strokeColor:i=>{e("strokeColor","borderColor",i)},rotation:i=>{const n=i.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,i){const n=this._commonActions;for(const l of Object.keys(i.detail)){const o=e[l]||n[l];o==null||o(i)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const i=this.annotationStorage.getRawValue(this.data.id);if(!i)return;const n=this._commonActions;for(const[l,o]of Object.entries(i)){const u=n[l];if(u){const d={detail:{[l]:o},target:e};u(d),delete i[l]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[i,n,l,o]=this.data.rect.map(x=>Math.fround(x));if(e.length===8){const[x,O,R,z]=e.subarray(2,6);if(l===x&&o===O&&i===R&&n===z)return}const{style:u}=this.container;let d;if(c(this,rc)){const{borderColor:x,borderWidth:O}=u;u.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${x}" stroke-width="${O}">`],this.container.classList.add("hasBorder")}const f=l-i,g=o-n,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const y=m.createElement("defs");v.append(y);const E=m.createElement("clipPath"),C=`clippath_${this.data.id}`;E.setAttribute("id",C),E.setAttribute("clipPathUnits","objectBoundingBox"),y.append(E);for(let x=2,O=e.length;x<O;x+=8){const R=e[x],z=e[x+1],F=e[x+2],B=e[x+3],P=m.createElement("rect"),I=(F-i)/f,Q=(o-z)/g,J=(R-F)/f,V=(z-B)/g;P.setAttribute("x",I),P.setAttribute("y",Q),P.setAttribute("width",J),P.setAttribute("height",V),E.append(P),d==null||d.push(`<rect vector-effect="non-scaling-stroke" x="${I}" y="${Q}" width="${J}" height="${V}"/>`)}c(this,rc)&&(d.push("</g></svg>')"),u.backgroundImage=d.join("")),this.container.append(v),this.container.style.clipPath=`url(#${C})`}_createPopup(){const{data:e}=this,i=S(this,oc,new Jb({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(i.render())}render(){ee("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,i=null){const n=[];if(this._fieldObjects){const l=this._fieldObjects[e];if(l)for(const{page:o,id:u,exportValues:d}of l){if(o===-1||u===i)continue;const f=typeof d=="string"?d:null,g=document.querySelector(`[data-element-id="${u}"]`);if(g&&!kr.has(g)){Mt(`_getElementsByName - element not allowed: ${u}`);continue}n.push({id:u,exportValue:f,domElement:g})}return n}for(const l of document.getElementsByName(e)){const{exportValue:o}=l,u=l.getAttribute("data-element-id");u!==i&&kr.has(l)&&n.push({id:u,exportValue:o,domElement:l})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const i of e)i.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:i}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:i})})}};hr=new WeakMap,rc=new WeakMap,oc=new WeakMap,Bh=new WeakSet,$b=function(e){const{container:{style:i},data:{rect:n,rotation:l},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:u,pageX:d,pageY:f}}}}=this;n==null||n.splice(0,4,...e);const{width:g,height:m}=$n(e);i.left=`${100*(e[0]-d)/o}%`,i.top=`${100*(u-e[3]+f)/u}%`,l===0?(i.width=`${100*g/o}%`,i.height=`${100*m/u}%`):this.setRotation(l)};let be=K0;var qi,Dl,uE,hE;class cE extends be{constructor(i,n=null){super(i,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,qi);this.isTooltipOnly=i.data.isTooltipOnly}render(){const{data:i,linkService:n}=this,l=document.createElement("a");l.setAttribute("data-element-id",i.id);let o=!1;return i.url?(n.addLinkAttributes(l,i.url,i.newWindow),o=!0):i.action?(this._bindNamedAction(l,i.action),o=!0):i.attachment?(_(this,qi,uE).call(this,l,i.attachment,i.attachmentDest),o=!0):i.setOCGState?(_(this,qi,hE).call(this,l,i.setOCGState),o=!0):i.dest?(this._bindLink(l,i.dest),o=!0):(i.actions&&(i.actions.Action||i.actions["Mouse Up"]||i.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(l,i),o=!0),i.resetForm?(this._bindResetFormAction(l,i.resetForm),o=!0):this.isTooltipOnly&&!o&&(this._bindLink(l,""),o=!0)),this.container.classList.add("linkAnnotation"),o&&this.container.append(l),this.container}_bindLink(i,n){i.href=this.linkService.getDestinationHash(n),i.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&_(this,qi,Dl).call(this)}_bindNamedAction(i,n){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeNamedAction(n),!1),_(this,qi,Dl).call(this)}_bindJSAction(i,n){i.href=this.linkService.getAnchorUrl("");const l=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const o of Object.keys(n.actions)){const u=l.get(o);u&&(i[u]=()=>{var d;return(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:o}}),!1})}i.onclick||(i.onclick=()=>!1),_(this,qi,Dl).call(this)}_bindResetFormAction(i,n){const l=i.onclick;if(l||(i.href=this.linkService.getAnchorUrl("")),_(this,qi,Dl).call(this),!this._fieldObjects){Mt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),l||(i.onclick=()=>!1);return}i.onclick=()=>{var v;l==null||l();const{fields:o,refs:u,include:d}=n,f=[];if(o.length!==0||u.length!==0){const y=new Set(u);for(const E of o){const C=this._fieldObjects[E]||[];for(const{id:x}of C)y.add(x)}for(const E of Object.values(this._fieldObjects))for(const C of E)y.has(C.id)===d&&f.push(C)}else for(const y of Object.values(this._fieldObjects))f.push(...y);const g=this.annotationStorage,m=[];for(const y of f){const{id:E}=y;switch(m.push(E),y.type){case"text":{const x=y.defaultValue||"";g.setValue(E,{value:x});break}case"checkbox":case"radiobutton":{const x=y.defaultValue===y.exportValues;g.setValue(E,{value:x});break}case"combobox":case"listbox":{const x=y.defaultValue||"";g.setValue(E,{value:x});break}default:continue}const C=document.querySelector(`[data-element-id="${E}"]`);if(C){if(!kr.has(C)){Mt(`_bindResetFormAction - element not allowed: ${E}`);continue}}else continue;C.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}qi=new WeakSet,Dl=function(){this.container.setAttribute("data-internal-link","")},uE=function(i,n,l=null){i.href=this.linkService.getAnchorUrl(""),n.description&&(i.title=n.description),i.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(n.content,n.filename,l),!1},_(this,qi,Dl).call(this)},hE=function(i,n){i.href=this.linkService.getAnchorUrl(""),i.onclick=()=>(this.linkService.executeSetOCGState(n),!1),_(this,qi,Dl).call(this)};class xx extends be{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Br extends be{render(){return this.container}showElementAndHideCanvas(e){var i;this.data.hasOwnCanvas&&(((i=e.previousSibling)==null?void 0:i.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return di.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,i,n,l,o){n.includes("mouse")?e.addEventListener(n,u=>{var d;(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:o(u),shift:u.shiftKey,modifier:this._getKeyModifier(u)}})}):e.addEventListener(n,u=>{var d;if(n==="blur"){if(!i.focused||!u.relatedTarget)return;i.focused=!1}else if(n==="focus"){if(i.focused)return;i.focused=!0}o&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:l,value:o(u)}}))})}_setEventListeners(e,i,n,l){var o,u,d;for(const[f,g]of n)(g==="Action"||(o=this.data.actions)!=null&&o[g])&&((g==="Focus"||g==="Blur")&&(i||(i={focused:!1})),this._setEventListener(e,i,f,g,l),g==="Focus"&&!((u=this.data.actions)!=null&&u.Blur)?this._setEventListener(e,i,"blur","Blur",null):g==="Blur"&&!((d=this.data.actions)!=null&&d.Focus)&&this._setEventListener(e,i,"focus","Focus",null))}_setBackgroundColor(e){const i=this.data.backgroundColor||null;e.style.backgroundColor=i===null?"transparent":ct.makeHexColor(i[0],i[1],i[2])}_setTextStyle(e){const i=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,l=this.data.defaultAppearanceData.fontSize||wx,o=e.style;let u;const d=2,f=g=>Math.round(10*g)/10;if(this.data.multiLine){const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d),m=Math.round(g/(nb*l))||1,v=g/m;u=Math.min(l,f(v/nb))}else{const g=Math.abs(this.data.rect[3]-this.data.rect[1]-d);u=Math.min(l,f(g/nb))}o.fontSize=`calc(${u}px * var(--scale-factor))`,o.color=ct.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(o.textAlign=i[this.data.textAlignment])}_setRequired(e,i){i?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",i)}}class Mx extends Br{constructor(e){const i=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:i})}setPropertyOnSiblings(e,i,n,l){const o=this.annotationStorage;for(const u of this._getElementsByName(e.name,e.id))u.domElement&&(u.domElement[i]=n),o.setValue(u.id,{[l]:n})}render(){var l,o;const e=this.annotationStorage,i=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const u=e.getValue(i,{value:this.data.fieldValue});let d=u.value||"";const f=e.getValue(i,{charLimit:this.data.maxLen}).charLimit;f&&d.length>f&&(d=d.slice(0,f));let g=u.formattedValue||((l=this.data.textContent)==null?void 0:l.join(`
`))||null;g&&this.data.comb&&(g=g.replaceAll(/\s+/g,""));const m={userValue:d,formattedValue:g,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=g??d,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",g??d),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),kr.add(n),n.setAttribute("data-element-id",i),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=yd,this._setRequired(n,this.data.required),f&&(n.maxLength=f),n.addEventListener("input",y=>{e.setValue(i,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),m.formattedValue=null}),n.addEventListener("resetform",y=>{const E=this.data.defaultFieldValue??"";n.value=m.userValue=E,m.formattedValue=null});let v=y=>{const{formattedValue:E}=m;E!=null&&(y.target.value=E),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",E=>{var x;if(m.focused)return;const{target:C}=E;m.userValue&&(C.value=m.userValue),m.lastCommittedValue=C.value,m.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(m.focused=!0)}),n.addEventListener("updatefromsandbox",E=>{this.showElementAndHideCanvas(E.target);const C={value(x){m.userValue=x.detail.value??"",e.setValue(i,{value:m.userValue.toString()}),x.target.value=m.userValue},formattedValue(x){const{formattedValue:O}=x.detail;m.formattedValue=O,O!=null&&x.target!==document.activeElement&&(x.target.value=O),e.setValue(i,{formattedValue:O})},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var F;const{charLimit:O}=x.detail,{target:R}=x;if(O===0){R.removeAttribute("maxLength");return}R.setAttribute("maxLength",O);let z=m.userValue;!z||z.length<=O||(z=z.slice(0,O),R.value=m.userValue=z,e.setValue(i,{value:z}),(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:z,willCommit:!0,commitKey:1,selStart:R.selectionStart,selEnd:R.selectionEnd}}))}};this._dispatchEventFromSandbox(C,E)}),n.addEventListener("keydown",E=>{var O;m.commitKey=1;let C=-1;if(E.key==="Escape"?C=0:E.key==="Enter"&&!this.data.multiLine?C=2:E.key==="Tab"&&(m.commitKey=3),C===-1)return;const{value:x}=E.target;m.lastCommittedValue!==x&&(m.lastCommittedValue=x,m.userValue=x,(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:x,willCommit:!0,commitKey:C,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}}))});const y=v;v=null,n.addEventListener("blur",E=>{var x,O;if(!m.focused||!E.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(m.focused=!1);const{value:C}=E.target;m.userValue=C,m.lastCommittedValue!==C&&((O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:C,willCommit:!0,commitKey:m.commitKey,selStart:E.target.selectionStart,selEnd:E.target.selectionEnd}})),y(E)}),(o=this.data.actions)!=null&&o.Keystroke&&n.addEventListener("beforeinput",E=>{var P;m.lastCommittedValue=null;const{data:C,target:x}=E,{value:O,selectionStart:R,selectionEnd:z}=x;let F=R,B=z;switch(E.inputType){case"deleteWordBackward":{const I=O.substring(0,R).match(/\w*[^\w]*$/);I&&(F-=I[0].length);break}case"deleteWordForward":{const I=O.substring(R).match(/^[^\w]*\w*/);I&&(B+=I[0].length);break}case"deleteContentBackward":R===z&&(F-=1);break;case"deleteContentForward":R===z&&(B+=1);break}E.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:O,change:C||"",willCommit:!1,selStart:F,selEnd:B}})}),this._setEventListeners(n,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],E=>E.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const E=(this.data.rect[2]-this.data.rect[0])/f;n.classList.add("comb"),n.style.letterSpacing=`calc(${E}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class Rx extends Br{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Dx extends Br{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,i=this.data,n=i.id;let l=e.getValue(n,{value:i.exportValue===i.fieldValue}).value;typeof l=="string"&&(l=l!=="Off",e.setValue(n,{value:l})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const o=document.createElement("input");return kr.add(o),o.setAttribute("data-element-id",n),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=i.fieldName,l&&o.setAttribute("checked",!0),o.setAttribute("exportValue",i.exportValue),o.tabIndex=yd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,n)){const m=f&&g.exportValue===i.exportValue;g.domElement&&(g.domElement.checked=m),e.setValue(g.id,{value:m})}e.setValue(n,{value:f})}),o.addEventListener("resetform",u=>{const d=i.defaultFieldValue||"Off";u.target.checked=d===i.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",u=>{const d={value(f){f.target.checked=f.detail.value!=="Off",e.setValue(n,{value:f.target.checked})}};this._dispatchEventFromSandbox(d,u)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],u=>u.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class dE extends Br{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,i=this.data,n=i.id;let l=e.getValue(n,{value:i.fieldValue===i.buttonValue}).value;if(typeof l=="string"&&(l=l!==i.buttonValue,e.setValue(n,{value:l})),l)for(const u of this._getElementsByName(i.fieldName,n))e.setValue(u.id,{value:!1});const o=document.createElement("input");if(kr.add(o),o.setAttribute("data-element-id",n),o.disabled=i.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=i.fieldName,l&&o.setAttribute("checked",!0),o.tabIndex=yd,o.addEventListener("change",u=>{const{name:d,checked:f}=u.target;for(const g of this._getElementsByName(d,n))e.setValue(g.id,{value:!1});e.setValue(n,{value:f})}),o.addEventListener("resetform",u=>{const d=i.defaultFieldValue;u.target.checked=d!=null&&d===i.buttonValue}),this.enableScripting&&this.hasJSActions){const u=i.buttonValue;o.addEventListener("updatefromsandbox",d=>{const f={value:g=>{const m=u===g.detail.value;for(const v of this._getElementsByName(g.target.name)){const y=m&&v.id===n;v.domElement&&(v.domElement.checked=y),e.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(f,d)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ox extends cE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const i=e.lastChild;return this.enableScripting&&this.hasJSActions&&i&&(this._setDefaultPropertiesFromJS(i),i.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class Lx extends Br{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,i=this.data.id,n=e.getValue(i,{value:this.data.fieldValue}),l=document.createElement("select");kr.add(l),l.setAttribute("data-element-id",i),l.disabled=this.data.readOnly,this._setRequired(l,this.data.required),l.name=this.data.fieldName,l.tabIndex=yd;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(l.size=this.data.options.length,this.data.multiSelect&&(l.multiple=!0)),l.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const y of l.options)y.selected=y.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,n.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),o=!1),l.append(v)}let u=null;if(o){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),l.prepend(m),u=()=>{m.remove(),l.removeEventListener("input",u),u=null},l.addEventListener("input",u)}const d=m=>{const v=m?"value":"textContent",{options:y,multiple:E}=l;return E?Array.prototype.filter.call(y,C=>C.selected).map(C=>C[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let f=d(!1);const g=m=>{const v=m.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(l.addEventListener("updatefromsandbox",m=>{const v={value(y){u==null||u();const E=y.detail.value,C=new Set(Array.isArray(E)?E:[E]);for(const x of l.options)x.selected=C.has(x.value);e.setValue(i,{value:d(!0)}),f=d(!1)},multipleSelection(y){l.multiple=!0},remove(y){const E=l.options,C=y.detail.remove;E[C].selected=!1,l.remove(C),E.length>0&&Array.prototype.findIndex.call(E,O=>O.selected)===-1&&(E[0].selected=!0),e.setValue(i,{value:d(!0),items:g(y)}),f=d(!1)},clear(y){for(;l.length!==0;)l.remove(0);e.setValue(i,{value:null,items:[]}),f=d(!1)},insert(y){const{index:E,displayValue:C,exportValue:x}=y.detail.insert,O=l.children[E],R=document.createElement("option");R.textContent=C,R.value=x,O?O.before(R):l.append(R),e.setValue(i,{value:d(!0),items:g(y)}),f=d(!1)},items(y){const{items:E}=y.detail;for(;l.length!==0;)l.remove(0);for(const C of E){const{displayValue:x,exportValue:O}=C,R=document.createElement("option");R.textContent=x,R.value=O,l.append(R)}l.options.length>0&&(l.options[0].selected=!0),e.setValue(i,{value:d(!0),items:g(y)}),f=d(!1)},indices(y){const E=new Set(y.detail.indices);for(const C of y.target.options)C.selected=E.has(C.index);e.setValue(i,{value:d(!0)}),f=d(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,m)}),l.addEventListener("input",m=>{var E;const v=d(!0),y=d(!1);e.setValue(i,{value:v}),m.preventDefault(),(E=this.linkService.eventBus)==null||E.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i,name:"Keystroke",value:f,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(l,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):l.addEventListener("input",function(m){e.setValue(i,{value:d(!0)})}),this.data.combo&&this._setTextStyle(l),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class Jb extends be{constructor(e){const{data:i,elements:n}=e;super(e,{isRenderable:be._hasPopupData(i)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new Nx({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),i=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",i.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(n=>`${N0}${n}`).join(",")),this.container}}var cc,zg,Hg,uc,dr,ge,Fn,hc,Ph,Ih,dc,Un,Ts,Bn,qh,Pn,Gh,fr,gr,Qt,tg,t0,fE,gE,pE,mE,eg,ig,e0;class Nx{constructor({container:e,color:i,elements:n,titleObj:l,modificationDate:o,contentsObj:u,richText:d,parent:f,rect:g,parentRect:m,open:v}){T(this,Qt);T(this,cc,_(this,Qt,pE).bind(this));T(this,zg,_(this,Qt,e0).bind(this));T(this,Hg,_(this,Qt,ig).bind(this));T(this,uc,_(this,Qt,eg).bind(this));T(this,dr,null);T(this,ge,null);T(this,Fn,null);T(this,hc,null);T(this,Ph,null);T(this,Ih,null);T(this,dc,null);T(this,Un,!1);T(this,Ts,null);T(this,Bn,null);T(this,qh,null);T(this,Pn,null);T(this,Gh,null);T(this,fr,null);T(this,gr,!1);var y;S(this,ge,e),S(this,Gh,l),S(this,Fn,u),S(this,Pn,d),S(this,Ih,f),S(this,dr,i),S(this,qh,g),S(this,dc,m),S(this,Ph,n),S(this,hc,H0.toDateObject(o)),this.trigger=n.flatMap(E=>E.getElementsToTriggerPopup());for(const E of this.trigger)E.addEventListener("click",c(this,uc)),E.addEventListener("mouseenter",c(this,Hg)),E.addEventListener("mouseleave",c(this,zg)),E.classList.add("popupTriggerArea");for(const E of n)(y=E.container)==null||y.addEventListener("keydown",c(this,cc));c(this,ge).hidden=!0,v&&_(this,Qt,eg).call(this)}render(){if(c(this,Ts))return;const e=S(this,Ts,document.createElement("div"));if(e.className="popup",c(this,dr)){const o=e.style.outlineColor=ct.makeHexColor(...c(this,dr));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=ct.makeHexColor(...c(this,dr).map(d=>Math.floor(.7*(255-d)+d)))}const i=document.createElement("span");i.className="header";const n=document.createElement("h1");if(i.append(n),{dir:n.dir,str:n.textContent}=c(this,Gh),e.append(i),c(this,hc)){const o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:c(this,hc).valueOf()})),i.append(o)}const l=c(this,Qt,tg);if(l)oE.render({xfaHtml:l,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const o=this._formatContents(c(this,Fn));e.append(o)}c(this,ge).append(e)}_formatContents({str:e,dir:i}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=i;const l=e.split(/(?:\r\n?|\n)/);for(let o=0,u=l.length;o<u;++o){const d=l[o];n.append(document.createTextNode(d)),o<u-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:i}){var n;c(this,fr)||S(this,fr,{contentsObj:c(this,Fn),richText:c(this,Pn)}),e&&S(this,Bn,null),i&&(S(this,Pn,_(this,Qt,gE).call(this,i)),S(this,Fn,null)),(n=c(this,Ts))==null||n.remove(),S(this,Ts,null)}resetEdited(){var e;c(this,fr)&&({contentsObj:oi(this,Fn)._,richText:oi(this,Pn)._}=c(this,fr),S(this,fr,null),(e=c(this,Ts))==null||e.remove(),S(this,Ts,null),S(this,Bn,null))}forceHide(){S(this,gr,this.isVisible),c(this,gr)&&(c(this,ge).hidden=!0)}maybeShow(){c(this,gr)&&(c(this,Ts)||_(this,Qt,ig).call(this),S(this,gr,!1),c(this,ge).hidden=!1)}get isVisible(){return c(this,ge).hidden===!1}}cc=new WeakMap,zg=new WeakMap,Hg=new WeakMap,uc=new WeakMap,dr=new WeakMap,ge=new WeakMap,Fn=new WeakMap,hc=new WeakMap,Ph=new WeakMap,Ih=new WeakMap,dc=new WeakMap,Un=new WeakMap,Ts=new WeakMap,Bn=new WeakMap,qh=new WeakMap,Pn=new WeakMap,Gh=new WeakMap,fr=new WeakMap,gr=new WeakMap,Qt=new WeakSet,tg=function(){const e=c(this,Pn),i=c(this,Fn);return e!=null&&e.str&&(!(i!=null&&i.str)||i.str===e.str)&&c(this,Pn).html||null},t0=function(){var e,i,n;return((n=(i=(e=c(this,Qt,tg))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:n.fontSize)||0},fE=function(){var e,i,n;return((n=(i=(e=c(this,Qt,tg))==null?void 0:e.attributes)==null?void 0:i.style)==null?void 0:n.color)||null},gE=function(e){const i=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:i}]}},l={style:{color:c(this,Qt,fE),fontSize:c(this,Qt,t0)?`calc(${c(this,Qt,t0)}px * var(--scale-factor))`:""}};for(const o of e.split(`
`))i.push({name:"span",value:o,attributes:l});return n},pE=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&c(this,Un))&&_(this,Qt,eg).call(this)},mE=function(){if(c(this,Bn)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:i,pageHeight:n,pageX:l,pageY:o}}}=c(this,Ih);let u=!!c(this,dc),d=u?c(this,dc):c(this,qh);for(const C of c(this,Ph))if(!d||ct.intersect(C.data.rect,d)!==null){d=C.data.rect,u=!0;break}const f=ct.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),m=u?d[2]-d[0]+5:0,v=f[0]+m,y=f[1];S(this,Bn,[100*(v-l)/i,100*(y-o)/n]);const{style:E}=c(this,ge);E.left=`${c(this,Bn)[0]}%`,E.top=`${c(this,Bn)[1]}%`},eg=function(){S(this,Un,!c(this,Un)),c(this,Un)?(_(this,Qt,ig).call(this),c(this,ge).addEventListener("click",c(this,uc)),c(this,ge).addEventListener("keydown",c(this,cc))):(_(this,Qt,e0).call(this),c(this,ge).removeEventListener("click",c(this,uc)),c(this,ge).removeEventListener("keydown",c(this,cc)))},ig=function(){c(this,Ts)||this.render(),this.isVisible?c(this,Un)&&c(this,ge).classList.add("focused"):(_(this,Qt,mE).call(this),c(this,ge).hidden=!1,c(this,ge).style.zIndex=parseInt(c(this,ge).style.zIndex)+1e3)},e0=function(){c(this,ge).classList.remove("focused"),!(c(this,Un)||!this.isVisible)&&(c(this,ge).hidden=!0,c(this,ge).style.zIndex=parseInt(c(this,ge).style.zIndex)-1e3)};class bE extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=_t.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const i of this.textContent){const n=document.createElement("span");n.textContent=i,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var jh;class kx extends be{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,jh,null)}render(){this.container.classList.add("lineAnnotation");const i=this.data,{width:n,height:l}=$n(i.rect),o=this.svgFactory.create(n,l,!0),u=S(this,jh,this.svgFactory.createElement("svg:line"));return u.setAttribute("x1",i.rect[2]-i.lineCoordinates[0]),u.setAttribute("y1",i.rect[3]-i.lineCoordinates[1]),u.setAttribute("x2",i.rect[2]-i.lineCoordinates[2]),u.setAttribute("y2",i.rect[3]-i.lineCoordinates[3]),u.setAttribute("stroke-width",i.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),o.append(u),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,jh)}addHighlightArea(){this.container.classList.add("highlightArea")}}jh=new WeakMap;var Xh;class zx extends be{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,Xh,null)}render(){this.container.classList.add("squareAnnotation");const i=this.data,{width:n,height:l}=$n(i.rect),o=this.svgFactory.create(n,l,!0),u=i.borderStyle.width,d=S(this,Xh,this.svgFactory.createElement("svg:rect"));return d.setAttribute("x",u/2),d.setAttribute("y",u/2),d.setAttribute("width",n-u),d.setAttribute("height",l-u),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xh=new WeakMap;var Yh;class Hx extends be{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,Yh,null)}render(){this.container.classList.add("circleAnnotation");const i=this.data,{width:n,height:l}=$n(i.rect),o=this.svgFactory.create(n,l,!0),u=i.borderStyle.width,d=S(this,Yh,this.svgFactory.createElement("svg:ellipse"));return d.setAttribute("cx",n/2),d.setAttribute("cy",l/2),d.setAttribute("rx",n/2-u/2),d.setAttribute("ry",l/2-u/2),d.setAttribute("stroke-width",u||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),o.append(d),this.container.append(o),!i.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Yh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yh=new WeakMap;var Vh;class vE extends be{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,Vh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,vertices:n,borderStyle:l,popupRef:o}}=this;if(!n)return this.container;const{width:u,height:d}=$n(i),f=this.svgFactory.create(u,d,!0);let g=[];for(let v=0,y=n.length;v<y;v+=2){const E=n[v]-i[0],C=i[3]-n[v+1];g.push(`${E},${C}`)}g=g.join(" ");const m=S(this,Vh,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",g),m.setAttribute("stroke-width",l.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),f.append(m),this.container.append(f),!o&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return c(this,Vh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Vh=new WeakMap;class Fx extends vE{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ux extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Kh;class j0 extends be{constructor(i){super(i,{isRenderable:!0,ignoreBorder:!0});T(this,Kh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?_t.HIGHLIGHT:_t.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:i,inkLists:n,borderStyle:l,popupRef:o}}=this,{width:u,height:d}=$n(i),f=this.svgFactory.create(u,d,!0);for(const g of n){let m=[];for(let y=0,E=g.length;y<E;y+=2){const C=g[y]-i[0],x=i[3]-g[y+1];m.push(`${C},${x}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);c(this,Kh).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",l.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),f.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return c(this,Kh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kh=new WeakMap;class yE extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=_t.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class Bx extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class Px extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class Ix extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class AE extends be{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=_t.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Qh,Wh,i0;class qx extends be{constructor(i){var l;super(i,{isRenderable:!0});T(this,Wh);T(this,Qh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(l=this.linkService.eventBus)==null||l.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:i,data:n}=this;let l;n.hasAppearance||n.fillAlpha===0?l=document.createElement("div"):(l=document.createElement("img"),l.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(l.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),l.addEventListener("dblclick",_(this,Wh,i0).bind(this)),S(this,Qh,l);const{isMac:o}=di.platform;return i.addEventListener("keydown",u=>{u.key==="Enter"&&(o?u.metaKey:u.ctrlKey)&&_(this,Wh,i0).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():l.classList.add("popupTriggerArea"),i.append(l),i}getElementsToTriggerPopup(){return c(this,Qh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qh=new WeakMap,Wh=new WeakSet,i0=function(){var i;(i=this.downloadManager)==null||i.openOrDownloadData(this.content,this.filename)};var Zh,pr,mr,$h,zr,SE,s0;class Gx{constructor({div:e,accessibilityManager:i,annotationCanvasMap:n,annotationEditorUIManager:l,page:o,viewport:u,structTreeLayer:d}){T(this,zr);T(this,Zh,null);T(this,pr,null);T(this,mr,new Map);T(this,$h,null);this.div=e,S(this,Zh,i),S(this,pr,n),S(this,$h,d||null),this.page=o,this.viewport=u,this.zIndex=0,this._annotationEditorUIManager=l}hasEditableAnnotations(){return c(this,mr).size>0}async render(e){var u;const{annotations:i}=e,n=this.div;Lr(n,this.viewport);const l=new Map,o={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new G0,annotationStorage:e.annotationStorage||new U0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const d of i){if(d.noHTML)continue;const f=d.annotationType===Ce.POPUP;if(f){const v=l.get(d.id);if(!v)continue;o.elements=v}else{const{width:v,height:y}=$n(d.rect);if(v<=0||y<=0)continue}o.data=d;const g=Cx.create(o);if(!g.isRenderable)continue;if(!f&&d.popupRef){const v=l.get(d.popupRef);v?v.push(g):l.set(d.popupRef,[g])}const m=g.render();d.hidden&&(m.style.visibility="hidden"),await _(this,zr,SE).call(this,m,d.id),g._isEditable&&(c(this,mr).set(g.data.id,g),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(g))}_(this,zr,s0).call(this)}update({viewport:e}){const i=this.div;this.viewport=e,Lr(i,{rotation:e.rotation}),_(this,zr,s0).call(this),i.hidden=!1}getEditableAnnotations(){return Array.from(c(this,mr).values())}getEditableAnnotation(e){return c(this,mr).get(e)}}Zh=new WeakMap,pr=new WeakMap,mr=new WeakMap,$h=new WeakMap,zr=new WeakSet,SE=async function(e,i){var u,d;const n=e.firstChild||e,l=n.id=`${N0}${i}`,o=await((u=c(this,$h))==null?void 0:u.getAriaAttributes(l));if(o)for(const[f,g]of o)n.setAttribute(f,g);this.div.append(e),(d=c(this,Zh))==null||d.moveElementInDOM(this.div,e,n,!1)},s0=function(){if(!c(this,pr))return;const e=this.div;for(const[i,n]of c(this,pr)){const l=e.querySelector(`[data-annotation-id="${i}"]`);if(!l)continue;n.className="annotationContent";const{firstChild:o}=l;o?o.nodeName==="CANVAS"?o.replaceWith(n):o.classList.contains("annotationContent")?o.after(n):o.before(n):l.append(n)}c(this,pr).clear()};const Pf=/\r\n?|\n/g;var ws,zi,Jh,br,Hi,Ee,_E,EE,TE,sg,ta,ng,ag,wE,a0,CE;const te=class te extends Xt{constructor(i){super({...i,name:"freeTextEditor"});T(this,Ee);T(this,ws);T(this,zi,"");T(this,Jh,`${this.id}-editor`);T(this,br,null);T(this,Hi);S(this,ws,i.color||te._defaultColor||Xt._defaultLineColor),S(this,Hi,i.fontSize||te._defaultFontSize)}static get _keyboardManager(){const i=te.prototype,n=u=>u.isEmpty(),l=Nr.TRANSLATE_SMALL,o=Nr.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new vd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],i.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],i.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],i._translateEmpty,{args:[-l,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],i._translateEmpty,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],i._translateEmpty,{args:[l,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],i._translateEmpty,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],i._translateEmpty,{args:[0,-l],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],i._translateEmpty,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],i._translateEmpty,{args:[0,l],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],i._translateEmpty,{args:[0,o],checker:n}]]))}static initialize(i,n){Xt.initialize(i,n);const l=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(l.getPropertyValue("--freetext-padding"))}static updateDefaultParams(i,n){switch(i){case pt.FREETEXT_SIZE:te._defaultFontSize=n;break;case pt.FREETEXT_COLOR:te._defaultColor=n;break}}updateParams(i,n){switch(i){case pt.FREETEXT_SIZE:_(this,Ee,_E).call(this,n);break;case pt.FREETEXT_COLOR:_(this,Ee,EE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pt.FREETEXT_SIZE,te._defaultFontSize],[pt.FREETEXT_COLOR,te._defaultColor||Xt._defaultLineColor]]}get propertiesToUpdate(){return[[pt.FREETEXT_SIZE,c(this,Hi)],[pt.FREETEXT_COLOR,c(this,ws)]]}_translateEmpty(i,n){this._uiManager.translateSelectedEditors(i,n,!0)}getInitialTranslation(){const i=this.parentScale;return[-te._internalPadding*i,-(te._internalPadding+c(this,Hi))*i]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(_t.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),S(this,br,new AbortController);const i=this._uiManager.combinedSignal(c(this,br));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:i}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:i}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:i}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:i}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:i})}disableEditMode(){var i;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",c(this,Jh)),this._isDraggable=!0,(i=c(this,br))==null||i.abort(),S(this,br,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),i.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var i;this.width||(this.enableEditMode(),this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const i=c(this,zi),n=S(this,zi,_(this,Ee,TE).call(this).trimEnd());if(i===n)return;const l=o=>{if(S(this,zi,o),!o){this.remove();return}_(this,Ee,ag).call(this),this._uiManager.rebuild(this),_(this,Ee,sg).call(this)};this.addCommands({cmd:()=>{l(n)},undo:()=>{l(i)},mustExec:!1}),_(this,Ee,sg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(i){this.enterInEditMode()}keydown(i){i.target===this.div&&i.key==="Enter"&&(this.enterInEditMode(),i.preventDefault())}editorDivKeydown(i){te._keyboardManager.exec(this,i)}editorDivFocus(i){this.isEditing=!0}editorDivBlur(i){this.isEditing=!1}editorDivInput(i){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let i,n;this.width&&(i=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",c(this,Jh)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:l}=this.editorDiv;if(l.fontSize=`calc(${c(this,Hi)}px * var(--scale-factor))`,l.color=c(this,ws),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),bg(this,this.div,["dblclick","keydown"]),this.width){const[o,u]=this.parentDimensions;if(this.annotationElementId){const{position:d}=this._initialData;let[f,g]=this.getInitialTranslation();[f,g]=this.pageTranslationToScreen(f,g);const[m,v]=this.pageDimensions,[y,E]=this.pageTranslation;let C,x;switch(this.rotation){case 0:C=i+(d[0]-y)/m,x=n+this.height-(d[1]-E)/v;break;case 90:C=i+(d[0]-y)/m,x=n-(d[1]-E)/v,[f,g]=[g,-f];break;case 180:C=i-this.width+(d[0]-y)/m,x=n-(d[1]-E)/v,[f,g]=[-f,-g];break;case 270:C=i+(d[0]-y-this.height*v)/m,x=n+(d[1]-E-this.width*m)/v,[f,g]=[-g,f];break}this.setAt(C*o,x*u,f,g)}else this.setAt(i*o,n*u,this.width*o,this.height*u);_(this,Ee,ag).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(i){var C,x,O;const n=i.clipboardData||window.clipboardData,{types:l}=n;if(l.length===1&&l[0]==="text/plain")return;i.preventDefault();const o=_(C=te,ta,a0).call(C,n.getData("text")||"").replaceAll(Pf,`
`);if(!o)return;const u=window.getSelection();if(!u.rangeCount)return;this.editorDiv.normalize(),u.deleteFromDocument();const d=u.getRangeAt(0);if(!o.includes(`
`)){d.insertNode(document.createTextNode(o)),this.editorDiv.normalize(),u.collapseToStart();return}const{startContainer:f,startOffset:g}=d,m=[],v=[];if(f.nodeType===Node.TEXT_NODE){const R=f.parentElement;if(v.push(f.nodeValue.slice(g).replaceAll(Pf,"")),R!==this.editorDiv){let z=m;for(const F of this.editorDiv.childNodes){if(F===R){z=v;continue}z.push(_(x=te,ta,ng).call(x,F))}}m.push(f.nodeValue.slice(0,g).replaceAll(Pf,""))}else if(f===this.editorDiv){let R=m,z=0;for(const F of this.editorDiv.childNodes)z++===g&&(R=v),R.push(_(O=te,ta,ng).call(O,F))}S(this,zi,`${m.join(`
`)}${o}${v.join(`
`)}`),_(this,Ee,ag).call(this);const y=new Range;let E=m.reduce((R,z)=>R+z.length,0);for(const{firstChild:R}of this.editorDiv.childNodes)if(R.nodeType===Node.TEXT_NODE){const z=R.nodeValue.length;if(E<=z){y.setStart(R,E),y.setEnd(R,E);break}E-=z}u.removeAllRanges(),u.addRange(y)}get contentDiv(){return this.editorDiv}static async deserialize(i,n,l){var d;let o=null;if(i instanceof bE){const{data:{defaultAppearanceData:{fontSize:f,fontColor:g},rect:m,rotation:v,id:y,popupRef:E},textContent:C,textPosition:x,parent:{page:{pageNumber:O}}}=i;if(!C||C.length===0)return null;o=i={annotationType:_t.FREETEXT,color:Array.from(g),fontSize:f,value:C.join(`
`),position:x,pageIndex:O-1,rect:m.slice(0),rotation:v,id:y,deleted:!1,popupRef:E}}const u=await super.deserialize(i,n,l);return S(u,Hi,i.fontSize),S(u,ws,ct.makeHexColor(...i.color)),S(u,zi,_(d=te,ta,a0).call(d,i.value)),u.annotationElementId=i.id||null,u._initialData=o,u}serialize(i=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=te._internalPadding*this.parentScale,l=this.getRect(n,n),o=Xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:c(this,ws)),u={annotationType:_t.FREETEXT,color:o,fontSize:c(this,Hi),value:_(this,Ee,wE).call(this),pageIndex:this.pageIndex,rect:l,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return i?u:this.annotationElementId&&!_(this,Ee,CE).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(i){const n=super.renderAnnotationElement(i);if(this.deleted)return n;const{style:l}=n;l.fontSize=`calc(${c(this,Hi)}px * var(--scale-factor))`,l.color=c(this,ws),n.replaceChildren();for(const u of c(this,zi).split(`
`)){const d=document.createElement("div");d.append(u?document.createTextNode(u):document.createElement("br")),n.append(d)}const o=te._internalPadding*this.parentScale;return i.updateEdited({rect:this.getRect(o,o),popupContent:c(this,zi)}),n}resetAnnotationElement(i){super.resetAnnotationElement(i),i.resetEdited()}};ws=new WeakMap,zi=new WeakMap,Jh=new WeakMap,br=new WeakMap,Hi=new WeakMap,Ee=new WeakSet,_E=function(i){const n=o=>{this.editorDiv.style.fontSize=`calc(${o}px * var(--scale-factor))`,this.translate(0,-(o-c(this,Hi))*this.parentScale),S(this,Hi,o),_(this,Ee,sg).call(this)},l=c(this,Hi);this.addCommands({cmd:n.bind(this,i),undo:n.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},EE=function(i){const n=o=>{S(this,ws,this.editorDiv.style.color=o)},l=c(this,ws);this.addCommands({cmd:n.bind(this,i),undo:n.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},TE=function(){var l;const i=[];this.editorDiv.normalize();let n=null;for(const o of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&o.nodeName==="BR"||(i.push(_(l=te,ta,ng).call(l,o)),n=o);return i.join(`
`)},sg=function(){const[i,n]=this.parentDimensions;let l;if(this.isAttachedToDOM)l=this.div.getBoundingClientRect();else{const{currentLayer:o,div:u}=this,d=u.style.display,f=u.classList.contains("hidden");u.classList.remove("hidden"),u.style.display="hidden",o.div.append(this.div),l=u.getBoundingClientRect(),u.remove(),u.style.display=d,u.classList.toggle("hidden",f)}this.rotation%180===this.parentRotation%180?(this.width=l.width/i,this.height=l.height/n):(this.width=l.height/i,this.height=l.width/n),this.fixAndSetPosition()},ta=new WeakSet,ng=function(i){return(i.nodeType===Node.TEXT_NODE?i.nodeValue:i.innerText).replaceAll(Pf,"")},ag=function(){if(this.editorDiv.replaceChildren(),!!c(this,zi))for(const i of c(this,zi).split(`
`)){const n=document.createElement("div");n.append(i?document.createTextNode(i):document.createElement("br")),this.editorDiv.append(n)}},wE=function(){return c(this,zi).replaceAll(" "," ")},a0=function(i){return i.replaceAll(" "," ")},CE=function(i){const{value:n,fontSize:l,color:o,pageIndex:u}=this._initialData;return this._hasBeenMoved||i.value!==n||i.fontSize!==l||i.color.some((d,f)=>d!==o[f])||i.pageIndex!==u},T(te,ta),gt(te,"_freeTextDefaultContent",""),gt(te,"_internalPadding",0),gt(te,"_defaultColor",null),gt(te,"_defaultFontSize",10),gt(te,"_type","freetext"),gt(te,"_editorType",_t.FREETEXT);let n0=te;class xE{toSVGPath(){ee("Abstract method `toSVGPath` must be implemented.")}get box(){ee("Abstract getter `box` must be implemented.")}serialize(e,i){ee("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ee("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ee("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var Fi,Cs,fc,gc,$s,Ot,vr,yr,td,ed,pc,mc,Ka,id,Fg,Ug,Le,Gu,ME,RE,DE,OE,LE,NE;const Cn=class Cn{constructor({x:e,y:i},n,l,o,u,d=0){T(this,Le);T(this,Fi);T(this,Cs,[]);T(this,fc);T(this,gc);T(this,$s,[]);T(this,Ot,new Float64Array(18));T(this,vr);T(this,yr);T(this,td);T(this,ed);T(this,pc);T(this,mc);T(this,Ka,[]);S(this,Fi,n),S(this,mc,o*l),S(this,gc,u),c(this,Ot).set([NaN,NaN,NaN,NaN,e,i],6),S(this,fc,d),S(this,ed,c(Cn,id)*l),S(this,td,c(Cn,Ug)*l),S(this,pc,l),c(this,Ka).push(e,i)}isEmpty(){return isNaN(c(this,Ot)[8])}add({x:e,y:i}){var V;S(this,vr,e),S(this,yr,i);const[n,l,o,u]=c(this,Fi);let[d,f,g,m]=c(this,Ot).subarray(8,12);const v=e-g,y=i-m,E=Math.hypot(v,y);if(E<c(this,td))return!1;const C=E-c(this,ed),x=C/E,O=x*v,R=x*y;let z=d,F=f;d=g,f=m,g+=O,m+=R,(V=c(this,Ka))==null||V.push(e,i);const B=-R/C,P=O/C,I=B*c(this,mc),Q=P*c(this,mc);return c(this,Ot).set(c(this,Ot).subarray(2,8),0),c(this,Ot).set([g+I,m+Q],4),c(this,Ot).set(c(this,Ot).subarray(14,18),12),c(this,Ot).set([g-I,m-Q],16),isNaN(c(this,Ot)[6])?(c(this,$s).length===0&&(c(this,Ot).set([d+I,f+Q],2),c(this,$s).push(NaN,NaN,NaN,NaN,(d+I-n)/o,(f+Q-l)/u),c(this,Ot).set([d-I,f-Q],14),c(this,Cs).push(NaN,NaN,NaN,NaN,(d-I-n)/o,(f-Q-l)/u)),c(this,Ot).set([z,F,d,f,g,m],6),!this.isEmpty()):(c(this,Ot).set([z,F,d,f,g,m],6),Math.abs(Math.atan2(F-f,z-d)-Math.atan2(R,O))<Math.PI/2?([d,f,g,m]=c(this,Ot).subarray(2,6),c(this,$s).push(NaN,NaN,NaN,NaN,((d+g)/2-n)/o,((f+m)/2-l)/u),[d,f,z,F]=c(this,Ot).subarray(14,18),c(this,Cs).push(NaN,NaN,NaN,NaN,((z+d)/2-n)/o,((F+f)/2-l)/u),!0):([z,F,d,f,g,m]=c(this,Ot).subarray(0,6),c(this,$s).push(((z+5*d)/6-n)/o,((F+5*f)/6-l)/u,((5*d+g)/6-n)/o,((5*f+m)/6-l)/u,((d+g)/2-n)/o,((f+m)/2-l)/u),[g,m,d,f,z,F]=c(this,Ot).subarray(12,18),c(this,Cs).push(((z+5*d)/6-n)/o,((F+5*f)/6-l)/u,((5*d+g)/6-n)/o,((5*f+m)/6-l)/u,((d+g)/2-n)/o,((f+m)/2-l)/u),!0))}toSVGPath(){if(this.isEmpty())return"";const e=c(this,$s),i=c(this,Cs);if(isNaN(c(this,Ot)[6])&&!this.isEmpty())return _(this,Le,ME).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let l=6;l<e.length;l+=6)isNaN(e[l])?n.push(`L${e[l+4]} ${e[l+5]}`):n.push(`C${e[l]} ${e[l+1]} ${e[l+2]} ${e[l+3]} ${e[l+4]} ${e[l+5]}`);_(this,Le,DE).call(this,n);for(let l=i.length-6;l>=6;l-=6)isNaN(i[l])?n.push(`L${i[l+4]} ${i[l+5]}`):n.push(`C${i[l]} ${i[l+1]} ${i[l+2]} ${i[l+3]} ${i[l+4]} ${i[l+5]}`);return _(this,Le,RE).call(this,n),n.join(" ")}newFreeDrawOutline(e,i,n,l,o,u){return new kE(e,i,n,l,o,u)}getOutlines(){var v;const e=c(this,$s),i=c(this,Cs),n=c(this,Ot),[l,o,u,d]=c(this,Fi),f=new Float64Array((((v=c(this,Ka))==null?void 0:v.length)??0)+2);for(let y=0,E=f.length-2;y<E;y+=2)f[y]=(c(this,Ka)[y]-l)/u,f[y+1]=(c(this,Ka)[y+1]-o)/d;if(f[f.length-2]=(c(this,vr)-l)/u,f[f.length-1]=(c(this,yr)-o)/d,isNaN(n[6])&&!this.isEmpty())return _(this,Le,OE).call(this,f);const g=new Float64Array(c(this,$s).length+24+c(this,Cs).length);let m=e.length;for(let y=0;y<m;y+=2){if(isNaN(e[y])){g[y]=g[y+1]=NaN;continue}g[y]=e[y],g[y+1]=e[y+1]}m=_(this,Le,NE).call(this,g,m);for(let y=i.length-6;y>=6;y-=6)for(let E=0;E<6;E+=2){if(isNaN(i[y+E])){g[m]=g[m+1]=NaN,m+=2;continue}g[m]=i[y+E],g[m+1]=i[y+E+1],m+=2}return _(this,Le,LE).call(this,g,m),this.newFreeDrawOutline(g,f,c(this,Fi),c(this,pc),c(this,fc),c(this,gc))}};Fi=new WeakMap,Cs=new WeakMap,fc=new WeakMap,gc=new WeakMap,$s=new WeakMap,Ot=new WeakMap,vr=new WeakMap,yr=new WeakMap,td=new WeakMap,ed=new WeakMap,pc=new WeakMap,mc=new WeakMap,Ka=new WeakMap,id=new WeakMap,Fg=new WeakMap,Ug=new WeakMap,Le=new WeakSet,Gu=function(){const e=c(this,Ot).subarray(4,6),i=c(this,Ot).subarray(16,18),[n,l,o,u]=c(this,Fi);return[(c(this,vr)+(e[0]-i[0])/2-n)/o,(c(this,yr)+(e[1]-i[1])/2-l)/u,(c(this,vr)+(i[0]-e[0])/2-n)/o,(c(this,yr)+(i[1]-e[1])/2-l)/u]},ME=function(){const[e,i,n,l]=c(this,Fi),[o,u,d,f]=_(this,Le,Gu).call(this);return`M${(c(this,Ot)[2]-e)/n} ${(c(this,Ot)[3]-i)/l} L${(c(this,Ot)[4]-e)/n} ${(c(this,Ot)[5]-i)/l} L${o} ${u} L${d} ${f} L${(c(this,Ot)[16]-e)/n} ${(c(this,Ot)[17]-i)/l} L${(c(this,Ot)[14]-e)/n} ${(c(this,Ot)[15]-i)/l} Z`},RE=function(e){const i=c(this,Cs);e.push(`L${i[4]} ${i[5]} Z`)},DE=function(e){const[i,n,l,o]=c(this,Fi),u=c(this,Ot).subarray(4,6),d=c(this,Ot).subarray(16,18),[f,g,m,v]=_(this,Le,Gu).call(this);e.push(`L${(u[0]-i)/l} ${(u[1]-n)/o} L${f} ${g} L${m} ${v} L${(d[0]-i)/l} ${(d[1]-n)/o}`)},OE=function(e){const i=c(this,Ot),[n,l,o,u]=c(this,Fi),[d,f,g,m]=_(this,Le,Gu).call(this),v=new Float64Array(36);return v.set([NaN,NaN,NaN,NaN,(i[2]-n)/o,(i[3]-l)/u,NaN,NaN,NaN,NaN,(i[4]-n)/o,(i[5]-l)/u,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,(i[16]-n)/o,(i[17]-l)/u,NaN,NaN,NaN,NaN,(i[14]-n)/o,(i[15]-l)/u],0),this.newFreeDrawOutline(v,e,c(this,Fi),c(this,pc),c(this,fc),c(this,gc))},LE=function(e,i){const n=c(this,Cs);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],i),i+=6},NE=function(e,i){const n=c(this,Ot).subarray(4,6),l=c(this,Ot).subarray(16,18),[o,u,d,f]=c(this,Fi),[g,m,v,y]=_(this,Le,Gu).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-o)/d,(n[1]-u)/f,NaN,NaN,NaN,NaN,g,m,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,(l[0]-o)/d,(l[1]-u)/f],i),i+=24},T(Cn,id,8),T(Cn,Fg,2),T(Cn,Ug,c(Cn,id)+c(Cn,Fg));let yg=Cn;var bc,Ar,In,sd,Ui,nd,me,Ti,ju,Xu,zE;class kE extends xE{constructor(i,n,l,o,u,d){super();T(this,Ti);T(this,bc);T(this,Ar,null);T(this,In);T(this,sd);T(this,Ui);T(this,nd);T(this,me);S(this,me,i),S(this,Ui,n),S(this,bc,l),S(this,nd,o),S(this,In,u),S(this,sd,d),_(this,Ti,zE).call(this,d);const{x:f,y:g,width:m,height:v}=c(this,Ar);for(let y=0,E=i.length;y<E;y+=2)i[y]=(i[y]-f)/m,i[y+1]=(i[y+1]-g)/v;for(let y=0,E=n.length;y<E;y+=2)n[y]=(n[y]-f)/m,n[y+1]=(n[y+1]-g)/v}toSVGPath(){const i=[`M${c(this,me)[4]} ${c(this,me)[5]}`];for(let n=6,l=c(this,me).length;n<l;n+=6){if(isNaN(c(this,me)[n])){i.push(`L${c(this,me)[n+4]} ${c(this,me)[n+5]}`);continue}i.push(`C${c(this,me)[n]} ${c(this,me)[n+1]} ${c(this,me)[n+2]} ${c(this,me)[n+3]} ${c(this,me)[n+4]} ${c(this,me)[n+5]}`)}return i.push("Z"),i.join(" ")}serialize([i,n,l,o],u){const d=l-i,f=o-n;let g,m;switch(u){case 0:g=_(this,Ti,ju).call(this,c(this,me),i,o,d,-f),m=_(this,Ti,ju).call(this,c(this,Ui),i,o,d,-f);break;case 90:g=_(this,Ti,Xu).call(this,c(this,me),i,n,d,f),m=_(this,Ti,Xu).call(this,c(this,Ui),i,n,d,f);break;case 180:g=_(this,Ti,ju).call(this,c(this,me),l,n,-d,f),m=_(this,Ti,ju).call(this,c(this,Ui),l,n,-d,f);break;case 270:g=_(this,Ti,Xu).call(this,c(this,me),l,o,-d,-f),m=_(this,Ti,Xu).call(this,c(this,Ui),l,o,-d,-f);break}return{outline:Array.from(g),points:[Array.from(m)]}}get box(){return c(this,Ar)}newOutliner(i,n,l,o,u,d=0){return new yg(i,n,l,o,u,d)}getNewOutline(i,n){const{x:l,y:o,width:u,height:d}=c(this,Ar),[f,g,m,v]=c(this,bc),y=u*m,E=d*v,C=l*m+f,x=o*v+g,O=this.newOutliner({x:c(this,Ui)[0]*y+C,y:c(this,Ui)[1]*E+x},c(this,bc),c(this,nd),i,c(this,sd),n??c(this,In));for(let R=2;R<c(this,Ui).length;R+=2)O.add({x:c(this,Ui)[R]*y+C,y:c(this,Ui)[R+1]*E+x});return O.getOutlines()}get mustRemoveSelfIntersections(){return!0}}bc=new WeakMap,Ar=new WeakMap,In=new WeakMap,sd=new WeakMap,Ui=new WeakMap,nd=new WeakMap,me=new WeakMap,Ti=new WeakSet,ju=function(i,n,l,o,u){const d=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)d[f]=n+i[f]*o,d[f+1]=l+i[f+1]*u;return d},Xu=function(i,n,l,o,u){const d=new Float64Array(i.length);for(let f=0,g=i.length;f<g;f+=2)d[f]=n+i[f+1]*o,d[f+1]=l+i[f]*u;return d},zE=function(i){const n=c(this,me);let l=n[4],o=n[5],u=l,d=o,f=l,g=o,m=l,v=o;const y=i?Math.max:Math.min;for(let R=6,z=n.length;R<z;R+=6){if(isNaN(n[R]))u=Math.min(u,n[R+4]),d=Math.min(d,n[R+5]),f=Math.max(f,n[R+4]),g=Math.max(g,n[R+5]),v<n[R+5]?(m=n[R+4],v=n[R+5]):v===n[R+5]&&(m=y(m,n[R+4]));else{const F=ct.bezierBoundingBox(l,o,...n.slice(R,R+6));u=Math.min(u,F[0]),d=Math.min(d,F[1]),f=Math.max(f,F[2]),g=Math.max(g,F[3]),v<F[3]?(m=F[2],v=F[3]):v===F[3]&&(m=y(m,F[2]))}l=n[R+4],o=n[R+5]}const E=u-c(this,In),C=d-c(this,In),x=f-u+2*c(this,In),O=g-d+2*c(this,In);S(this,Ar,{x:E,y:C,width:x,height:O,lastPoint:[m,v]})};var ad,Qa,xs,gi,HE,lg,FE,UE,l0;class JS{constructor(e,i=0,n=0,l=!0){T(this,gi);T(this,ad);T(this,Qa,[]);T(this,xs,[]);let o=1/0,u=-1/0,d=1/0,f=-1/0;const g=10**-4;for(const{x:O,y:R,width:z,height:F}of e){const B=Math.floor((O-i)/g)*g,P=Math.ceil((O+z+i)/g)*g,I=Math.floor((R-i)/g)*g,Q=Math.ceil((R+F+i)/g)*g,J=[B,I,Q,!0],V=[P,I,Q,!1];c(this,Qa).push(J,V),o=Math.min(o,B),u=Math.max(u,P),d=Math.min(d,I),f=Math.max(f,Q)}const m=u-o+2*n,v=f-d+2*n,y=o-n,E=d-n,C=c(this,Qa).at(l?-1:-2),x=[C[0],C[2]];for(const O of c(this,Qa)){const[R,z,F]=O;O[0]=(R-y)/m,O[1]=(z-E)/v,O[2]=(F-E)/v}S(this,ad,{x:y,y:E,width:m,height:v,lastPoint:x})}getOutlines(){c(this,Qa).sort((i,n)=>i[0]-n[0]||i[1]-n[1]||i[2]-n[2]);const e=[];for(const i of c(this,Qa))i[3]?(e.push(..._(this,gi,l0).call(this,i)),_(this,gi,FE).call(this,i)):(_(this,gi,UE).call(this,i),e.push(..._(this,gi,l0).call(this,i)));return _(this,gi,HE).call(this,e)}}ad=new WeakMap,Qa=new WeakMap,xs=new WeakMap,gi=new WeakSet,HE=function(e){const i=[],n=new Set;for(const u of e){const[d,f,g]=u;i.push([d,f,u],[d,g,u])}i.sort((u,d)=>u[1]-d[1]||u[0]-d[0]);for(let u=0,d=i.length;u<d;u+=2){const f=i[u][2],g=i[u+1][2];f.push(g),g.push(f),n.add(f),n.add(g)}const l=[];let o;for(;n.size>0;){const u=n.values().next().value;let[d,f,g,m,v]=u;n.delete(u);let y=d,E=f;for(o=[d,g],l.push(o);;){let C;if(n.has(m))C=m;else if(n.has(v))C=v;else break;n.delete(C),[d,f,g,m,v]=C,y!==d&&(o.push(y,E,d,E===f?f:g),y=d),E=E===f?g:f}o.push(y,E)}return new jx(l,c(this,ad))},lg=function(e){const i=c(this,xs);let n=0,l=i.length-1;for(;n<=l;){const o=n+l>>1,u=i[o][0];if(u===e)return o;u<e?n=o+1:l=o-1}return l+1},FE=function([,e,i]){const n=_(this,gi,lg).call(this,e);c(this,xs).splice(n,0,[e,i])},UE=function([,e,i]){const n=_(this,gi,lg).call(this,e);for(let l=n;l<c(this,xs).length;l++){const[o,u]=c(this,xs)[l];if(o!==e)break;if(o===e&&u===i){c(this,xs).splice(l,1);return}}for(let l=n-1;l>=0;l--){const[o,u]=c(this,xs)[l];if(o!==e)break;if(o===e&&u===i){c(this,xs).splice(l,1);return}}},l0=function(e){const[i,n,l]=e,o=[[i,n,l]],u=_(this,gi,lg).call(this,l);for(let d=0;d<u;d++){const[f,g]=c(this,xs)[d];for(let m=0,v=o.length;m<v;m++){const[,y,E]=o[m];if(!(g<=y||E<=f)){if(y>=f){if(E>g)o[m][1]=g;else{if(v===1)return[];o.splice(m,1),m--,v--}continue}o[m][2]=f,E>g&&o.push([i,g,E])}}}return o};var ld,vc;class jx extends xE{constructor(i,n){super();T(this,ld);T(this,vc);S(this,vc,i),S(this,ld,n)}toSVGPath(){const i=[];for(const n of c(this,vc)){let[l,o]=n;i.push(`M${l} ${o}`);for(let u=2;u<n.length;u+=2){const d=n[u],f=n[u+1];d===l?(i.push(`V${f}`),o=f):f===o&&(i.push(`H${d}`),l=d)}i.push("Z")}return i.join(" ")}serialize([i,n,l,o],u){const d=[],f=l-i,g=o-n;for(const m of c(this,vc)){const v=new Array(m.length);for(let y=0;y<m.length;y+=2)v[y]=i+m[y]*f,v[y+1]=o-m[y+1]*g;d.push(v)}return d}get box(){return c(this,ld)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}ld=new WeakMap,vc=new WeakMap;class r0 extends yg{newFreeDrawOutline(e,i,n,l,o,u){return new Xx(e,i,n,l,o,u)}get classNamesForDrawing(){return["highlight","free"]}}class Xx extends kE{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,i,n,l,o,u=0){return new r0(e,i,n,l,o,u)}}var Ms,Sr,yc,Re,rd,Ac,od,cd,Wa,Rs,Sc,ud,Kt,o0,c0,u0,Ol,BE,Ma;const yi=class yi{constructor({editor:e=null,uiManager:i=null}){T(this,Kt);T(this,Ms,null);T(this,Sr,null);T(this,yc);T(this,Re,null);T(this,rd,!1);T(this,Ac,!1);T(this,od,null);T(this,cd);T(this,Wa,null);T(this,Rs,null);T(this,Sc);var n;e?(S(this,Ac,!1),S(this,Sc,pt.HIGHLIGHT_COLOR),S(this,od,e)):(S(this,Ac,!0),S(this,Sc,pt.HIGHLIGHT_DEFAULT_COLOR)),S(this,Rs,(e==null?void 0:e._uiManager)||i),S(this,cd,c(this,Rs)._eventBus),S(this,yc,(e==null?void 0:e.color)||((n=c(this,Rs))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),c(yi,ud)||S(yi,ud,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ft(this,"_keyboardManager",new vd([[["Escape","mac+Escape"],yi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],yi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],yi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],yi.prototype._moveToPrevious],[["Home","mac+Home"],yi.prototype._moveToBeginning],[["End","mac+End"],yi.prototype._moveToEnd]]))}renderButton(){const e=S(this,Ms,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const i=c(this,Rs)._signal;e.addEventListener("click",_(this,Kt,Ol).bind(this),{signal:i}),e.addEventListener("keydown",_(this,Kt,u0).bind(this),{signal:i});const n=S(this,Sr,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=c(this,yc),e.append(n),e}renderMainDropdown(){const e=S(this,Re,_(this,Kt,o0).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===c(this,Ms)){_(this,Kt,Ol).call(this,e);return}const i=e.target.getAttribute("data-color");i&&_(this,Kt,c0).call(this,i,e)}_moveToNext(e){var i,n;if(!c(this,Kt,Ma)){_(this,Kt,Ol).call(this,e);return}if(e.target===c(this,Ms)){(i=c(this,Re).firstChild)==null||i.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var i,n;if(e.target===((i=c(this,Re))==null?void 0:i.firstChild)||e.target===c(this,Ms)){c(this,Kt,Ma)&&this._hideDropdownFromKeyboard();return}c(this,Kt,Ma)||_(this,Kt,Ol).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var i;if(!c(this,Kt,Ma)){_(this,Kt,Ol).call(this,e);return}(i=c(this,Re).firstChild)==null||i.focus()}_moveToEnd(e){var i;if(!c(this,Kt,Ma)){_(this,Kt,Ol).call(this,e);return}(i=c(this,Re).lastChild)==null||i.focus()}hideDropdown(){var e,i;(e=c(this,Re))==null||e.classList.add("hidden"),(i=c(this,Wa))==null||i.abort(),S(this,Wa,null)}_hideDropdownFromKeyboard(){var e;if(!c(this,Ac)){if(!c(this,Kt,Ma)){(e=c(this,od))==null||e.unselect();return}this.hideDropdown(),c(this,Ms).focus({preventScroll:!0,focusVisible:c(this,rd)})}}updateColor(e){if(c(this,Sr)&&(c(this,Sr).style.backgroundColor=e),!c(this,Re))return;const i=c(this,Rs).highlightColors.values();for(const n of c(this,Re).children)n.setAttribute("aria-selected",i.next().value===e)}destroy(){var e,i;(e=c(this,Ms))==null||e.remove(),S(this,Ms,null),S(this,Sr,null),(i=c(this,Re))==null||i.remove(),S(this,Re,null)}};Ms=new WeakMap,Sr=new WeakMap,yc=new WeakMap,Re=new WeakMap,rd=new WeakMap,Ac=new WeakMap,od=new WeakMap,cd=new WeakMap,Wa=new WeakMap,Rs=new WeakMap,Sc=new WeakMap,ud=new WeakMap,Kt=new WeakSet,o0=function(){const e=document.createElement("div"),i=c(this,Rs)._signal;e.addEventListener("contextmenu",hs,{signal:i}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,l]of c(this,Rs).highlightColors){const o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",l),o.title=n,o.setAttribute("data-l10n-id",c(yi,ud)[n]);const u=document.createElement("span");o.append(u),u.className="swatch",u.style.backgroundColor=l,o.setAttribute("aria-selected",l===c(this,yc)),o.addEventListener("click",_(this,Kt,c0).bind(this,l),{signal:i}),e.append(o)}return e.addEventListener("keydown",_(this,Kt,u0).bind(this),{signal:i}),e},c0=function(e,i){i.stopPropagation(),c(this,cd).dispatch("switchannotationeditorparams",{source:this,type:c(this,Sc),value:e})},u0=function(e){yi._keyboardManager.exec(this,e)},Ol=function(e){if(c(this,Kt,Ma)){this.hideDropdown();return}if(S(this,rd,e.detail===0),c(this,Wa)||(S(this,Wa,new AbortController),window.addEventListener("pointerdown",_(this,Kt,BE).bind(this),{signal:c(this,Rs).combinedSignal(c(this,Wa))})),c(this,Re)){c(this,Re).classList.remove("hidden");return}const i=S(this,Re,_(this,Kt,o0).call(this));c(this,Ms).append(i)},BE=function(e){var i;(i=c(this,Re))!=null&&i.contains(e.target)||this.hideDropdown()},Ma=function(){return c(this,Re)&&!c(this,Re).classList.contains("hidden")},T(yi,ud,null);let Ag=yi;var _c,hd,qn,_r,Ec,as,dd,fd,Er,Ds,si,_i,Tc,Gn,De,wc,ls,gd,At,h0,rg,PE,IE,qE,d0,Ll,cs,Ro,GE,og,Yu,jE,XE,YE,VE,KE;const It=class It extends Xt{constructor(i){super({...i,name:"highlightEditor"});T(this,At);T(this,_c,null);T(this,hd,0);T(this,qn);T(this,_r,null);T(this,Ec,null);T(this,as,null);T(this,dd,null);T(this,fd,0);T(this,Er,null);T(this,Ds,null);T(this,si,null);T(this,_i,!1);T(this,Tc,null);T(this,Gn);T(this,De,null);T(this,wc,"");T(this,ls);T(this,gd,"");this.color=i.color||It._defaultColor,S(this,ls,i.thickness||It._defaultThickness),S(this,Gn,i.opacity||It._defaultOpacity),S(this,qn,i.boxes||null),S(this,gd,i.methodOfCreation||""),S(this,wc,i.text||""),this._isDraggable=!1,i.highlightId>-1?(S(this,_i,!0),_(this,At,rg).call(this,i),_(this,At,Ll).call(this)):c(this,qn)&&(S(this,_c,i.anchorNode),S(this,hd,i.anchorOffset),S(this,dd,i.focusNode),S(this,fd,i.focusOffset),_(this,At,h0).call(this),_(this,At,Ll).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const i=It.prototype;return Ft(this,"_keyboardManager",new vd([[["ArrowLeft","mac+ArrowLeft"],i._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],i._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],i._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],i._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:c(this,_i)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:c(this,ls),methodOfCreation:c(this,gd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(i){return{numberOfColors:i.get("color").size}}static initialize(i,n){var l;Xt.initialize(i,n),It._defaultColor||(It._defaultColor=((l=n.highlightColors)==null?void 0:l.values().next().value)||"#fff066")}static updateDefaultParams(i,n){switch(i){case pt.HIGHLIGHT_DEFAULT_COLOR:It._defaultColor=n;break;case pt.HIGHLIGHT_THICKNESS:It._defaultThickness=n;break}}translateInPage(i,n){}get toolbarPosition(){return c(this,Tc)}updateParams(i,n){switch(i){case pt.HIGHLIGHT_COLOR:_(this,At,PE).call(this,n);break;case pt.HIGHLIGHT_THICKNESS:_(this,At,IE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pt.HIGHLIGHT_DEFAULT_COLOR,It._defaultColor],[pt.HIGHLIGHT_THICKNESS,It._defaultThickness]]}get propertiesToUpdate(){return[[pt.HIGHLIGHT_COLOR,this.color||It._defaultColor],[pt.HIGHLIGHT_THICKNESS,c(this,ls)||It._defaultThickness],[pt.HIGHLIGHT_FREE,c(this,_i)]]}async addEditToolbar(){const i=await super.addEditToolbar();return i?(this._uiManager.highlightColors&&(S(this,Ec,new Ag({editor:this})),i.addColorPicker(c(this,Ec))),i):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(_(this,At,Yu).call(this))}getBaseTranslation(){return[0,0]}getRect(i,n){return super.getRect(i,n,_(this,At,Yu).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){_(this,At,d0).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(_(this,At,Ll).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(i){var l;let n=!1;this.parent&&!i?_(this,At,d0).call(this):i&&(_(this,At,Ll).call(this,i),n=!this.parent&&((l=this.div)==null?void 0:l.classList.contains("selectedEditor"))),super.setParent(i),this.show(this._isVisible),n&&this.select()}rotate(i){var o,u,d;const{drawLayer:n}=this.parent;let l;c(this,_i)?(i=(i-this.rotation+360)%360,l=_(o=It,cs,Ro).call(o,c(this,Ds).box,i)):l=_(u=It,cs,Ro).call(u,this,i),n.rotate(c(this,si),i),n.rotate(c(this,De),i),n.updateBox(c(this,si),l),n.updateBox(c(this,De),_(d=It,cs,Ro).call(d,c(this,as).box,i))}render(){if(this.div)return this.div;const i=super.render();c(this,wc)&&(i.setAttribute("aria-label",c(this,wc)),i.setAttribute("role","mark")),c(this,_i)?i.classList.add("free"):this.div.addEventListener("keydown",_(this,At,GE).bind(this),{signal:this._uiManager._signal});const n=S(this,Er,document.createElement("div"));i.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=c(this,_r);const[l,o]=this.parentDimensions;return this.setDims(this.width*l,this.height*o),bg(this,c(this,Er),["pointerover","pointerleave"]),this.enableEditing(),i}pointerover(){this.isSelected||this.parent.drawLayer.addClass(c(this,De),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(c(this,De),"hovered")}_moveCaret(i){switch(this.parent.unselect(this),i){case 0:case 2:_(this,At,og).call(this,!0);break;case 1:case 3:_(this,At,og).call(this,!1);break}}select(){var i,n;super.select(),c(this,De)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,De),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(c(this,De),"selected"))}unselect(){var i;super.unselect(),c(this,De)&&((i=this.parent)==null||i.drawLayer.removeClass(c(this,De),"selected"),c(this,_i)||_(this,At,og).call(this,!1))}get _mustFixPosition(){return!c(this,_i)}show(i=this._isVisible){super.show(i),this.parent&&(this.parent.drawLayer.show(c(this,si),i),this.parent.drawLayer.show(c(this,De),i))}static startHighlighting(i,n,{target:l,x:o,y:u}){const{x:d,y:f,width:g,height:m}=l.getBoundingClientRect(),v=new AbortController,y=i.combinedSignal(v),E=x=>{x.preventDefault(),x.stopPropagation()},C=x=>{v.abort(),_(this,cs,VE).call(this,i,x)};window.addEventListener("blur",C,{signal:y}),window.addEventListener("pointerup",C,{signal:y}),window.addEventListener("pointerdown",E,{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",hs,{signal:y}),l.addEventListener("pointermove",_(this,cs,YE).bind(this,i),{signal:y}),this._freeHighlight=new r0({x:o,y:u},[d,f,g,m],i.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=i.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static async deserialize(i,n,l){var x,O,R,z;let o=null;if(i instanceof yE){const{data:{quadPoints:F,rect:B,rotation:P,id:I,color:Q,opacity:J,popupRef:V},parent:{page:{pageNumber:st}}}=i;o=i={annotationType:_t.HIGHLIGHT,color:Array.from(Q),opacity:J,quadPoints:F,boxes:null,pageIndex:st-1,rect:B.slice(0),rotation:P,id:I,deleted:!1,popupRef:V}}else if(i instanceof j0){const{data:{inkLists:F,rect:B,rotation:P,id:I,color:Q,borderStyle:{rawWidth:J},popupRef:V},parent:{page:{pageNumber:st}}}=i;o=i={annotationType:_t.HIGHLIGHT,color:Array.from(Q),thickness:J,inkLists:F,boxes:null,pageIndex:st-1,rect:B.slice(0),rotation:P,id:I,deleted:!1,popupRef:V}}const{color:u,quadPoints:d,inkLists:f,opacity:g}=i,m=await super.deserialize(i,n,l);m.color=ct.makeHexColor(...u),S(m,Gn,g||1),f&&S(m,ls,i.thickness),m.annotationElementId=i.id||null,m._initialData=o;const[v,y]=m.pageDimensions,[E,C]=m.pageTranslation;if(d){const F=S(m,qn,[]);for(let B=0;B<d.length;B+=8)F.push({x:(d[B]-E)/v,y:1-(d[B+1]-C)/y,width:(d[B+2]-d[B])/v,height:(d[B+1]-d[B+5])/y});_(x=m,At,h0).call(x),_(O=m,At,Ll).call(O),m.rotate(m.rotation)}else if(f){S(m,_i,!0);const F=f[0],B={x:F[0]-E,y:y-(F[1]-C)},P=new r0(B,[0,0,v,y],1,c(m,ls)/2,!0,.001);for(let J=0,V=F.length;J<V;J+=2)B.x=F[J]-E,B.y=y-(F[J+1]-C),P.add(B);const{id:I,clipPathId:Q}=n.drawLayer.draw(P,m.color,m._defaultOpacity,!0);_(R=m,At,rg).call(R,{highlightOutlines:P.getOutlines(),highlightId:I,clipPathId:Q}),_(z=m,At,Ll).call(z)}return m}serialize(i=!1){if(this.isEmpty()||i)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),l=Xt._colorManager.convert(this.color),o={annotationType:_t.HIGHLIGHT,color:l,opacity:c(this,Gn),thickness:c(this,ls),quadPoints:_(this,At,jE).call(this),outlines:_(this,At,XE).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:_(this,At,Yu).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!_(this,At,KE).call(this,o)?null:(o.id=this.annotationElementId,o)}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};_c=new WeakMap,hd=new WeakMap,qn=new WeakMap,_r=new WeakMap,Ec=new WeakMap,as=new WeakMap,dd=new WeakMap,fd=new WeakMap,Er=new WeakMap,Ds=new WeakMap,si=new WeakMap,_i=new WeakMap,Tc=new WeakMap,Gn=new WeakMap,De=new WeakMap,wc=new WeakMap,ls=new WeakMap,gd=new WeakMap,At=new WeakSet,h0=function(){const i=new JS(c(this,qn),.001);S(this,Ds,i.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=c(this,Ds).box;const n=new JS(c(this,qn),.0025,.001,this._uiManager.direction==="ltr");S(this,as,n.getOutlines());const{lastPoint:l}=c(this,as).box;S(this,Tc,[(l[0]-this.x)/this.width,(l[1]-this.y)/this.height])},rg=function({highlightOutlines:i,highlightId:n,clipPathId:l}){var v,y;if(S(this,Ds,i),S(this,as,i.getNewOutline(c(this,ls)/2+1.5,.0025)),n>=0)S(this,si,n),S(this,_r,l),this.parent.drawLayer.finalizeLine(n,i),S(this,De,this.parent.drawLayer.drawOutline(c(this,as)));else if(this.parent){const E=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(c(this,si),i),this.parent.drawLayer.updateBox(c(this,si),_(v=It,cs,Ro).call(v,c(this,Ds).box,(E-this.rotation+360)%360)),this.parent.drawLayer.updateLine(c(this,De),c(this,as)),this.parent.drawLayer.updateBox(c(this,De),_(y=It,cs,Ro).call(y,c(this,as).box,E))}const{x:u,y:d,width:f,height:g}=i.box;switch(this.rotation){case 0:this.x=u,this.y=d,this.width=f,this.height=g;break;case 90:{const[E,C]=this.parentDimensions;this.x=d,this.y=1-u,this.width=f*C/E,this.height=g*E/C;break}case 180:this.x=1-u,this.y=1-d,this.width=f,this.height=g;break;case 270:{const[E,C]=this.parentDimensions;this.x=1-d,this.y=u,this.width=f*C/E,this.height=g*E/C;break}}const{lastPoint:m}=c(this,as).box;S(this,Tc,[(m[0]-u)/f,(m[1]-d)/g])},PE=function(i){const n=(u,d)=>{var f,g,m;this.color=u,(f=this.parent)==null||f.drawLayer.changeColor(c(this,si),u),(g=c(this,Ec))==null||g.updateColor(u),S(this,Gn,d),(m=this.parent)==null||m.drawLayer.changeOpacity(c(this,si),d)},l=this.color,o=c(this,Gn);this.addCommands({cmd:n.bind(this,i,It._defaultOpacity),undo:n.bind(this,l,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(i)},!0)},IE=function(i){const n=c(this,ls),l=o=>{S(this,ls,o),_(this,At,qE).call(this,o)};this.addCommands({cmd:l.bind(this,i),undo:l.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:i},!0)},qE=function(i){if(!c(this,_i))return;_(this,At,rg).call(this,{highlightOutlines:c(this,Ds).getNewOutline(i/2)}),this.fixAndSetPosition();const[n,l]=this.parentDimensions;this.setDims(this.width*n,this.height*l)},d0=function(){c(this,si)===null||!this.parent||(this.parent.drawLayer.remove(c(this,si)),S(this,si,null),this.parent.drawLayer.remove(c(this,De)),S(this,De,null))},Ll=function(i=this.parent){c(this,si)===null&&({id:oi(this,si)._,clipPathId:oi(this,_r)._}=i.drawLayer.draw(c(this,Ds),this.color,c(this,Gn)),S(this,De,i.drawLayer.drawOutline(c(this,as))),c(this,Er)&&(c(this,Er).style.clipPath=c(this,_r)))},cs=new WeakSet,Ro=function({x:i,y:n,width:l,height:o},u){switch(u){case 90:return{x:1-n-o,y:i,width:o,height:l};case 180:return{x:1-i-l,y:1-n-o,width:l,height:o};case 270:return{x:n,y:1-i-l,width:o,height:l}}return{x:i,y:n,width:l,height:o}},GE=function(i){It._keyboardManager.exec(this,i)},og=function(i){if(!c(this,_c))return;const n=window.getSelection();i?n.setPosition(c(this,_c),c(this,hd)):n.setPosition(c(this,dd),c(this,fd))},Yu=function(){return c(this,_i)?this.rotation:0},jE=function(){if(c(this,_i))return null;const[i,n]=this.pageDimensions,[l,o]=this.pageTranslation,u=c(this,qn),d=new Float32Array(u.length*8);let f=0;for(const{x:g,y:m,width:v,height:y}of u){const E=g*i+l,C=(1-m-y)*n+o;d[f]=d[f+4]=E,d[f+1]=d[f+3]=C,d[f+2]=d[f+6]=E+v*i,d[f+5]=d[f+7]=C+y*n,f+=8}return d},XE=function(i){return c(this,Ds).serialize(i,_(this,At,Yu).call(this))},YE=function(i,n){this._freeHighlight.add(n)&&i.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},VE=function(i,n){this._freeHighlight.isEmpty()?i.drawLayer.remove(this._freeHighlightId):i.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},KE=function(i){const{color:n}=this._initialData;return i.color.some((l,o)=>l!==n[o])},T(It,cs),gt(It,"_defaultColor",null),gt(It,"_defaultOpacity",1),gt(It,"_defaultThickness",12),gt(It,"_type","highlight"),gt(It,"_editorType",_t.HIGHLIGHT),gt(It,"_freeHighlightId",-1),gt(It,"_freeHighlight",null),gt(It,"_freeHighlightClipId","");let Sg=It;var Tr,wr,Js,jn,rs,Cr,xr,Mr,Xn,Cc,Rr,Dr,Za,$,QE,WE,ZE,$E,g0,JE,p0,t1,e1,i1,s1,n1,Nl,m0,b0,v0,cg,ug,Do,y0,hg,ia,a1,A0,l1,r1,S0,dg,Vu;const le=class le extends Xt{constructor(i){super({...i,name:"inkEditor"});T(this,$);T(this,Tr,0);T(this,wr,0);T(this,Js,null);T(this,jn,new Path2D);T(this,rs,!1);T(this,Cr,null);T(this,xr,!1);T(this,Mr,!1);T(this,Xn,null);T(this,Cc,null);T(this,Rr,0);T(this,Dr,0);T(this,Za,null);this.color=i.color||null,this.thickness=i.thickness||null,this.opacity=i.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(i,n){Xt.initialize(i,n)}static updateDefaultParams(i,n){switch(i){case pt.INK_THICKNESS:le._defaultThickness=n;break;case pt.INK_COLOR:le._defaultColor=n;break;case pt.INK_OPACITY:le._defaultOpacity=n/100;break}}updateParams(i,n){switch(i){case pt.INK_THICKNESS:_(this,$,QE).call(this,n);break;case pt.INK_COLOR:_(this,$,WE).call(this,n);break;case pt.INK_OPACITY:_(this,$,ZE).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[pt.INK_THICKNESS,le._defaultThickness],[pt.INK_COLOR,le._defaultColor||Xt._defaultLineColor],[pt.INK_OPACITY,Math.round(le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[pt.INK_THICKNESS,this.thickness||le._defaultThickness],[pt.INK_COLOR,this.color||le._defaultColor||Xt._defaultLineColor],[pt.INK_OPACITY,Math.round(100*(this.opacity??le._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(_(this,$,cg).call(this),_(this,$,ug).call(this)),this.isAttachedToDOM||(this.parent.add(this),_(this,$,Do).call(this)),_(this,$,Vu).call(this)))}remove(){var i;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,c(this,Js)&&(clearTimeout(c(this,Js)),S(this,Js,null)),(i=c(this,Xn))==null||i.disconnect(),S(this,Xn,null),super.remove())}setParent(i){!this.parent&&i?this._uiManager.removeShouldRescale(this):this.parent&&i===null&&this._uiManager.addShouldRescale(this),super.setParent(i)}onScaleChanging(){const[i,n]=this.parentDimensions,l=this.width*i,o=this.height*n;this.setDimensions(l,o)}enableEditMode(){c(this,rs)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,_(this,$,m0).call(this))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),_(this,$,b0).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){c(this,rs)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),S(this,rs,!0),this.div.classList.add("disabled"),_(this,$,Vu).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(i){this._focusEventsAllowed&&(super.focusin(i),this.enableEditMode())}canvasPointerdown(i){i.button!==0||!this.isInEditMode()||c(this,rs)||(this.setInForeground(),i.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),_(this,$,JE).call(this,i.offsetX,i.offsetY))}canvasPointermove(i){i.preventDefault(),_(this,$,p0).call(this,i.offsetX,i.offsetY)}canvasPointerup(i){i.preventDefault(),_(this,$,v0).call(this,i)}canvasPointerleave(i){_(this,$,v0).call(this,i)}get isResizable(){return!this.isEmpty()&&c(this,rs)}render(){if(this.div)return this.div;let i,n;this.width&&(i=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[l,o,u,d]=_(this,$,$E).call(this);if(this.setAt(l,o,0,0),this.setDims(u,d),_(this,$,cg).call(this),this.width){const[f,g]=this.parentDimensions;this.setAspectRatio(this.width*f,this.height*g),this.setAt(i*f,n*g,this.width*f,this.height*g),S(this,Mr,!0),_(this,$,Do).call(this),this.setDims(this.width*f,this.height*g),_(this,$,Nl).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return _(this,$,ug).call(this),this.div}setDimensions(i,n){const l=Math.round(i),o=Math.round(n);if(c(this,Rr)===l&&c(this,Dr)===o)return;S(this,Rr,l),S(this,Dr,o),this.canvas.style.visibility="hidden";const[u,d]=this.parentDimensions;this.width=i/u,this.height=n/d,this.fixAndSetPosition(),c(this,rs)&&_(this,$,y0).call(this,i,n),_(this,$,Do).call(this),_(this,$,Nl).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(i,n,l){var O,R,z;if(i instanceof j0)return null;const o=await super.deserialize(i,n,l);o.thickness=i.thickness,o.color=ct.makeHexColor(...i.color),o.opacity=i.opacity;const[u,d]=o.pageDimensions,f=o.width*u,g=o.height*d,m=o.parentScale,v=i.thickness/2;S(o,rs,!0),S(o,Rr,Math.round(f)),S(o,Dr,Math.round(g));const{paths:y,rect:E,rotation:C}=i;for(let{bezier:F}of y){F=_(O=le,ia,l1).call(O,F,E,C);const B=[];o.paths.push(B);let P=m*(F[0]-v),I=m*(F[1]-v);for(let J=2,V=F.length;J<V;J+=6){const st=m*(F[J]-v),rt=m*(F[J+1]-v),Rt=m*(F[J+2]-v),yt=m*(F[J+3]-v),Ct=m*(F[J+4]-v),vt=m*(F[J+5]-v);B.push([[P,I],[st,rt],[Rt,yt],[Ct,vt]]),P=Ct,I=vt}const Q=_(this,ia,a1).call(this,B);o.bezierPath2D.push(Q)}const x=_(R=o,$,S0).call(R);return S(o,wr,Math.max(Xt.MIN_SIZE,x[2]-x[0])),S(o,Tr,Math.max(Xt.MIN_SIZE,x[3]-x[1])),_(z=o,$,y0).call(z,f,g),o}serialize(){if(this.isEmpty())return null;const i=this.getRect(0,0),n=Xt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:_t.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:_(this,$,r1).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,i),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Tr=new WeakMap,wr=new WeakMap,Js=new WeakMap,jn=new WeakMap,rs=new WeakMap,Cr=new WeakMap,xr=new WeakMap,Mr=new WeakMap,Xn=new WeakMap,Cc=new WeakMap,Rr=new WeakMap,Dr=new WeakMap,Za=new WeakMap,$=new WeakSet,QE=function(i){const n=o=>{this.thickness=o,_(this,$,Vu).call(this)},l=this.thickness;this.addCommands({cmd:n.bind(this,i),undo:n.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},WE=function(i){const n=o=>{this.color=o,_(this,$,Nl).call(this)},l=this.color;this.addCommands({cmd:n.bind(this,i),undo:n.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ZE=function(i){const n=o=>{this.opacity=o,_(this,$,Nl).call(this)};i/=100;const l=this.opacity;this.addCommands({cmd:n.bind(this,i),undo:n.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},$E=function(){const{parentRotation:i,parentDimensions:[n,l]}=this;switch(i){case 90:return[0,l,l,n];case 180:return[n,l,n,l];case 270:return[n,0,l,n];default:return[0,0,n,l]}},g0=function(){const{ctx:i,color:n,opacity:l,thickness:o,parentScale:u,scaleFactor:d}=this;i.lineWidth=o*u/d,i.lineCap="round",i.lineJoin="round",i.miterLimit=10,i.strokeStyle=`${n}${fC(l)}`},JE=function(i,n){this.canvas.addEventListener("contextmenu",hs,{signal:this._uiManager._signal}),_(this,$,b0).call(this),S(this,Cr,new AbortController);const l=this._uiManager.combinedSignal(c(this,Cr));this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:l}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:l}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:l}),this.isEditing=!0,c(this,Mr)||(S(this,Mr,!0),_(this,$,Do).call(this),this.thickness||(this.thickness=le._defaultThickness),this.color||(this.color=le._defaultColor||Xt._defaultLineColor),this.opacity??(this.opacity=le._defaultOpacity)),this.currentPath.push([i,n]),S(this,xr,!1),_(this,$,g0).call(this),S(this,Za,()=>{_(this,$,i1).call(this),c(this,Za)&&window.requestAnimationFrame(c(this,Za))}),window.requestAnimationFrame(c(this,Za))},p0=function(i,n){const[l,o]=this.currentPath.at(-1);if(this.currentPath.length>1&&i===l&&n===o)return;const u=this.currentPath;let d=c(this,jn);if(u.push([i,n]),S(this,xr,!0),u.length<=2){d.moveTo(...u[0]),d.lineTo(i,n);return}u.length===3&&(S(this,jn,d=new Path2D),d.moveTo(...u[0])),_(this,$,s1).call(this,d,...u.at(-3),...u.at(-2),i,n)},t1=function(){if(this.currentPath.length===0)return;const i=this.currentPath.at(-1);c(this,jn).lineTo(...i)},e1=function(i,n){S(this,Za,null),i=Math.min(Math.max(i,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),_(this,$,p0).call(this,i,n),_(this,$,t1).call(this);let l;if(this.currentPath.length!==1)l=_(this,$,n1).call(this);else{const g=[i,n];l=[[g,g.slice(),g.slice(),g]]}const o=c(this,jn),u=this.currentPath;this.currentPath=[],S(this,jn,new Path2D);const d=()=>{this.allRawPaths.push(u),this.paths.push(l),this.bezierPath2D.push(o),this._uiManager.rebuild(this)},f=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(_(this,$,cg).call(this),_(this,$,ug).call(this)),_(this,$,Vu).call(this))};this.addCommands({cmd:d,undo:f,mustExec:!0})},i1=function(){if(!c(this,xr))return;S(this,xr,!1);const i=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),l=n.map(d=>d[0]),o=n.map(d=>d[1]);Math.min(...l)-i,Math.max(...l)+i,Math.min(...o)-i,Math.max(...o)+i;const{ctx:u}=this;u.save(),u.clearRect(0,0,this.canvas.width,this.canvas.height);for(const d of this.bezierPath2D)u.stroke(d);u.stroke(c(this,jn)),u.restore()},s1=function(i,n,l,o,u,d,f){const g=(n+o)/2,m=(l+u)/2,v=(o+d)/2,y=(u+f)/2;i.bezierCurveTo(g+2*(o-g)/3,m+2*(u-m)/3,v+2*(o-v)/3,y+2*(u-y)/3,v,y)},n1=function(){const i=this.currentPath;if(i.length<=2)return[[i[0],i[0],i.at(-1),i.at(-1)]];const n=[];let l,[o,u]=i[0];for(l=1;l<i.length-2;l++){const[E,C]=i[l],[x,O]=i[l+1],R=(E+x)/2,z=(C+O)/2,F=[o+2*(E-o)/3,u+2*(C-u)/3],B=[R+2*(E-R)/3,z+2*(C-z)/3];n.push([[o,u],F,B,[R,z]]),[o,u]=[R,z]}const[d,f]=i[l],[g,m]=i[l+1],v=[o+2*(d-o)/3,u+2*(f-u)/3],y=[g+2*(d-g)/3,m+2*(f-m)/3];return n.push([[o,u],v,y,[g,m]]),n},Nl=function(){if(this.isEmpty()){_(this,$,hg).call(this);return}_(this,$,g0).call(this);const{canvas:i,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,i.width,i.height),_(this,$,hg).call(this);for(const l of this.bezierPath2D)n.stroke(l)},m0=function(){if(c(this,Cc))return;S(this,Cc,new AbortController);const i=this._uiManager.combinedSignal(c(this,Cc));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:i})},b0=function(){var i;(i=this.pointerdownAC)==null||i.abort(),this.pointerdownAC=null},v0=function(i){var n;(n=c(this,Cr))==null||n.abort(),S(this,Cr,null),_(this,$,m0).call(this),c(this,Js)&&clearTimeout(c(this,Js)),S(this,Js,setTimeout(()=>{S(this,Js,null),this.canvas.removeEventListener("contextmenu",hs)},10)),_(this,$,e1).call(this,i.offsetX,i.offsetY),this.addToAnnotationStorage(),this.setInBackground()},cg=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},ug=function(){S(this,Xn,new ResizeObserver(i=>{const n=i[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),c(this,Xn).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,Xn))==null||i.disconnect(),S(this,Xn,null)},{once:!0})},Do=function(){if(!c(this,Mr))return;const[i,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*i),this.canvas.height=Math.ceil(this.height*n),_(this,$,hg).call(this)},y0=function(i,n){const l=_(this,$,dg).call(this),o=(i-l)/c(this,wr),u=(n-l)/c(this,Tr);this.scaleFactor=Math.min(o,u)},hg=function(){const i=_(this,$,dg).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+i,this.translationY*this.scaleFactor+i)},ia=new WeakSet,a1=function(i){const n=new Path2D;for(let l=0,o=i.length;l<o;l++){const[u,d,f,g]=i[l];l===0&&n.moveTo(...u),n.bezierCurveTo(d[0],d[1],f[0],f[1],g[0],g[1])}return n},A0=function(i,n,l){const[o,u,d,f]=n;switch(l){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]+=o,i[g+1]=f-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const v=i[g];i[g]=i[g+1]+o,i[g+1]=v+u}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=d-i[g],i[g+1]+=u;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const v=i[g];i[g]=d-i[g+1],i[g+1]=f-v}break;default:throw new Error("Invalid rotation")}return i},l1=function(i,n,l){const[o,u,d,f]=n;switch(l){case 0:for(let g=0,m=i.length;g<m;g+=2)i[g]-=o,i[g+1]=f-i[g+1];break;case 90:for(let g=0,m=i.length;g<m;g+=2){const v=i[g];i[g]=i[g+1]-u,i[g+1]=v-o}break;case 180:for(let g=0,m=i.length;g<m;g+=2)i[g]=d-i[g],i[g+1]-=u;break;case 270:for(let g=0,m=i.length;g<m;g+=2){const v=i[g];i[g]=f-i[g+1],i[g+1]=d-v}break;default:throw new Error("Invalid rotation")}return i},r1=function(i,n,l,o){var m,v;const u=[],d=this.thickness/2,f=i*n+d,g=i*l+d;for(const y of this.paths){const E=[],C=[];for(let x=0,O=y.length;x<O;x++){const[R,z,F,B]=y[x];if(R[0]===B[0]&&R[1]===B[1]&&O===1){const yt=i*R[0]+f,Ct=i*R[1]+g;E.push(yt,Ct),C.push(yt,Ct);break}const P=i*R[0]+f,I=i*R[1]+g,Q=i*z[0]+f,J=i*z[1]+g,V=i*F[0]+f,st=i*F[1]+g,rt=i*B[0]+f,Rt=i*B[1]+g;x===0&&(E.push(P,I),C.push(P,I)),E.push(Q,J,V,st,rt,Rt),C.push(Q,J),x===O-1&&C.push(rt,Rt)}u.push({bezier:_(m=le,ia,A0).call(m,E,o,this.rotation),points:_(v=le,ia,A0).call(v,C,o,this.rotation)})}return u},S0=function(){let i=1/0,n=-1/0,l=1/0,o=-1/0;for(const u of this.paths)for(const[d,f,g,m]of u){const v=ct.bezierBoundingBox(...d,...f,...g,...m);i=Math.min(i,v[0]),l=Math.min(l,v[1]),n=Math.max(n,v[2]),o=Math.max(o,v[3])}return[i,l,n,o]},dg=function(){return c(this,rs)?Math.ceil(this.thickness*this.parentScale):0},Vu=function(i=!1){if(this.isEmpty())return;if(!c(this,rs)){_(this,$,Nl).call(this);return}const n=_(this,$,S0).call(this),l=_(this,$,dg).call(this);S(this,wr,Math.max(Xt.MIN_SIZE,n[2]-n[0])),S(this,Tr,Math.max(Xt.MIN_SIZE,n[3]-n[1]));const o=Math.ceil(l+c(this,wr)*this.scaleFactor),u=Math.ceil(l+c(this,Tr)*this.scaleFactor),[d,f]=this.parentDimensions;this.width=o/d,this.height=u/f,this.setAspectRatio(o,u);const g=this.translationX,m=this.translationY;this.translationX=-n[0],this.translationY=-n[1],_(this,$,Do).call(this),_(this,$,Nl).call(this),S(this,Rr,o),S(this,Dr,u),this.setDims(o,u);const v=i?l/this.scaleFactor/2:0;this.translate(g-this.translationX-v,m-this.translationY-v)},T(le,ia),gt(le,"_defaultColor",null),gt(le,"_defaultOpacity",1),gt(le,"_defaultThickness",1),gt(le,"_type","ink"),gt(le,"_editorType",_t.INK);let f0=le;var oe,Ke,$a,Yn,Ja,xc,tn,Vn,en,Bi,Mc,kt,Ku,Qu,fg,E0,o1,gg,T0,pg,c1,u1;const Ju=class Ju extends Xt{constructor(i){super({...i,name:"stampEditor"});T(this,kt);T(this,oe,null);T(this,Ke,null);T(this,$a,null);T(this,Yn,null);T(this,Ja,null);T(this,xc,"");T(this,tn,null);T(this,Vn,null);T(this,en,null);T(this,Bi,!1);T(this,Mc,!1);S(this,Yn,i.bitmapUrl),S(this,Ja,i.bitmapFile)}static initialize(i,n){Xt.initialize(i,n)}static get supportedTypes(){return Ft(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ft(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(i){return this.supportedTypes.includes(i)}static paste(i,n){n.pasteEditor(_t.STAMP,{bitmapFile:i.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var i;return{type:"stamp",hasAltText:!!((i=this.altTextData)!=null&&i.altText)}}static computeTelemetryFinalData(i){const n=i.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(i=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:l}=this._uiManager;if(!l)throw new Error("No ML.");if(!await l.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:o,width:u,height:d}=i||this.copyCanvas(null,null,!0).imageData,f=await l.guess({name:"altText",request:{data:o,width:u,height:d,channels:o.length/(u*d)}});if(!f)throw new Error("No response from the AI service.");if(f.error)throw new Error("Error from the AI service.");if(f.cancel)return null;if(!f.output)throw new Error("No valid response from the AI service.");const g=f.output;return await this.setGuessedAltText(g),n&&!this.hasAltTextData()&&(this.altTextData={alt:g,decorative:!1}),g}remove(){var i,n;c(this,Ke)&&(S(this,oe,null),this._uiManager.imageManager.deleteId(c(this,Ke)),(i=c(this,tn))==null||i.remove(),S(this,tn,null),(n=c(this,Vn))==null||n.disconnect(),S(this,Vn,null),c(this,en)&&(clearTimeout(c(this,en)),S(this,en,null))),super.remove()}rebuild(){if(!this.parent){c(this,Ke)&&_(this,kt,fg).call(this);return}super.rebuild(),this.div!==null&&(c(this,Ke)&&c(this,tn)===null&&_(this,kt,fg).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(c(this,$a)||c(this,oe)||c(this,Yn)||c(this,Ja)||c(this,Ke))}get isResizable(){return!0}render(){if(this.div)return this.div;let i,n;if(this.width&&(i=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),c(this,oe)?_(this,kt,E0).call(this):_(this,kt,fg).call(this),this.width&&!this.annotationElementId){const[l,o]=this.parentDimensions;this.setAt(i*l,n*o,this.width*l,this.height*o)}return this.div}copyCanvas(i,n,l=!1){var E;i||(i=224);const{width:o,height:u}=c(this,oe),d=new yb;let f=c(this,oe),g=o,m=u,v=null;if(n){if(o>n||u>n){const J=Math.min(n/o,n/u);g=Math.floor(o*J),m=Math.floor(u*J)}v=document.createElement("canvas");const C=v.width=Math.ceil(g*d.sx),x=v.height=Math.ceil(m*d.sy);c(this,Bi)||(f=_(this,kt,gg).call(this,C,x));const O=v.getContext("2d");O.filter=this._uiManager.hcmFilter;let R="white",z="#cfcfd8";this._uiManager.hcmFilter!=="none"?z="black":(E=window.matchMedia)!=null&&E.call(window,"(prefers-color-scheme: dark)").matches&&(R="#8f8f9d",z="#42414d");const F=15,B=F*d.sx,P=F*d.sy,I=new OffscreenCanvas(B*2,P*2),Q=I.getContext("2d");Q.fillStyle=R,Q.fillRect(0,0,B*2,P*2),Q.fillStyle=z,Q.fillRect(0,0,B,P),Q.fillRect(B,P,B,P),O.fillStyle=O.createPattern(I,"repeat"),O.fillRect(0,0,C,x),O.drawImage(f,0,0,f.width,f.height,0,0,C,x)}let y=null;if(l){let C,x;if(d.symmetric&&f.width<i&&f.height<i)C=f.width,x=f.height;else if(f=c(this,oe),o>i||u>i){const z=Math.min(i/o,i/u);C=Math.floor(o*z),x=Math.floor(u*z),c(this,Bi)||(f=_(this,kt,gg).call(this,C,x))}const R=new OffscreenCanvas(C,x).getContext("2d",{willReadFrequently:!0});R.drawImage(f,0,0,f.width,f.height,0,0,C,x),y={width:C,height:x,data:R.getImageData(0,0,C,x).data}}return{canvas:v,width:g,height:m,imageData:y}}getImageForAltText(){return c(this,tn)}static async deserialize(i,n,l){var x;let o=null;if(i instanceof AE){const{data:{rect:O,rotation:R,id:z,structParent:F,popupRef:B},container:P,parent:{page:{pageNumber:I}}}=i,Q=P.querySelector("canvas"),J=l.imageManager.getFromCanvas(P.id,Q);Q.remove();const V=((x=await n._structTree.getAriaAttributes(`${N0}${z}`))==null?void 0:x.get("aria-label"))||"";o=i={annotationType:_t.STAMP,bitmapId:J.id,bitmap:J.bitmap,pageIndex:I-1,rect:O.slice(0),rotation:R,id:z,deleted:!1,accessibilityData:{decorative:!1,altText:V},isSvg:!1,structParent:F,popupRef:B}}const u=await super.deserialize(i,n,l),{rect:d,bitmap:f,bitmapUrl:g,bitmapId:m,isSvg:v,accessibilityData:y}=i;m&&l.imageManager.isValidId(m)?(S(u,Ke,m),f&&S(u,oe,f)):S(u,Yn,g),S(u,Bi,v);const[E,C]=u.pageDimensions;return u.width=(d[2]-d[0])/E,u.height=(d[3]-d[1])/C,u.annotationElementId=i.id||null,y&&(u.altTextData=y),u._initialData=o,S(u,Mc,!!o),u}serialize(i=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const l={annotationType:_t.STAMP,bitmapId:c(this,Ke),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:c(this,Bi),structTreeParentId:this._structTreeParentId};if(i)return l.bitmapUrl=_(this,kt,pg).call(this,!0),l.accessibilityData=this.serializeAltText(!0),l;const{decorative:o,altText:u}=this.serializeAltText(!1);if(!o&&u&&(l.accessibilityData={type:"Figure",alt:u}),this.annotationElementId){const f=_(this,kt,u1).call(this,l);if(f.isSame)return null;f.isSameAltText?delete l.accessibilityData:l.accessibilityData.structParent=this._initialData.structParent??-1}if(l.id=this.annotationElementId,n===null)return l;n.stamps||(n.stamps=new Map);const d=c(this,Bi)?(l.rect[2]-l.rect[0])*(l.rect[3]-l.rect[1]):null;if(!n.stamps.has(c(this,Ke)))n.stamps.set(c(this,Ke),{area:d,serialized:l}),l.bitmap=_(this,kt,pg).call(this,!1);else if(c(this,Bi)){const f=n.stamps.get(c(this,Ke));d>f.area&&(f.area=d,f.serialized.bitmap.close(),f.serialized.bitmap=_(this,kt,pg).call(this,!1))}return l}renderAnnotationElement(i){return i.updateEdited({rect:this.getRect(0,0)}),null}};oe=new WeakMap,Ke=new WeakMap,$a=new WeakMap,Yn=new WeakMap,Ja=new WeakMap,xc=new WeakMap,tn=new WeakMap,Vn=new WeakMap,en=new WeakMap,Bi=new WeakMap,Mc=new WeakMap,kt=new WeakSet,Ku=function(i,n=!1){if(!i){this.remove();return}S(this,oe,i.bitmap),n||(S(this,Ke,i.id),S(this,Bi,i.isSvg)),i.file&&S(this,xc,i.file.name),_(this,kt,E0).call(this)},Qu=function(){if(S(this,$a,null),this._uiManager.enableWaiting(!1),!!c(this,tn)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,oe)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&c(this,oe)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},fg=function(){if(c(this,Ke)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(c(this,Ke)).then(l=>_(this,kt,Ku).call(this,l,!0)).finally(()=>_(this,kt,Qu).call(this));return}if(c(this,Yn)){const l=c(this,Yn);S(this,Yn,null),this._uiManager.enableWaiting(!0),S(this,$a,this._uiManager.imageManager.getFromUrl(l).then(o=>_(this,kt,Ku).call(this,o)).finally(()=>_(this,kt,Qu).call(this)));return}if(c(this,Ja)){const l=c(this,Ja);S(this,Ja,null),this._uiManager.enableWaiting(!0),S(this,$a,this._uiManager.imageManager.getFromFile(l).then(o=>_(this,kt,Ku).call(this,o)).finally(()=>_(this,kt,Qu).call(this)));return}const i=document.createElement("input");i.type="file",i.accept=Ju.supportedTypesStr;const n=this._uiManager._signal;S(this,$a,new Promise(l=>{i.addEventListener("change",async()=>{if(!i.files||i.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const o=await this._uiManager.imageManager.getFromFile(i.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),_(this,kt,Ku).call(this,o)}l()},{signal:n}),i.addEventListener("cancel",()=>{this.remove(),l()},{signal:n})}).finally(()=>_(this,kt,Qu).call(this))),i.click()},E0=function(){const{div:i}=this;let{width:n,height:l}=c(this,oe);const[o,u]=this.pageDimensions,d=.75;if(this.width)n=this.width*o,l=this.height*u;else if(n>d*o||l>d*u){const v=Math.min(d*o/n,d*u/l);n*=v,l*=v}const[f,g]=this.parentDimensions;this.setDims(n*f/o,l*g/u),this._uiManager.enableWaiting(!1);const m=S(this,tn,document.createElement("canvas"));m.setAttribute("role","img"),this.addContainer(m),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(i.hidden=!1),_(this,kt,T0).call(this,n,l),_(this,kt,c1).call(this),c(this,Mc)||(this.parent.addUndoableEditor(this),S(this,Mc,!0)),this._reportTelemetry({action:"inserted_image"}),c(this,xc)&&m.setAttribute("aria-label",c(this,xc))},o1=function(i,n){var d;const[l,o]=this.parentDimensions;this.width=i/l,this.height=n/o,(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,c(this,en)!==null&&clearTimeout(c(this,en)),S(this,en,setTimeout(()=>{S(this,en,null),_(this,kt,T0).call(this,i,n)},200))},gg=function(i,n){const{width:l,height:o}=c(this,oe);let u=l,d=o,f=c(this,oe);for(;u>2*i||d>2*n;){const g=u,m=d;u>2*i&&(u=u>=16384?Math.floor(u/2)-1:Math.ceil(u/2)),d>2*n&&(d=d>=16384?Math.floor(d/2)-1:Math.ceil(d/2));const v=new OffscreenCanvas(u,d);v.getContext("2d").drawImage(f,0,0,g,m,0,0,u,d),f=v.transferToImageBitmap()}return f},T0=function(i,n){const l=new yb,o=Math.ceil(i*l.sx),u=Math.ceil(n*l.sy),d=c(this,tn);if(!d||d.width===o&&d.height===u)return;d.width=o,d.height=u;const f=c(this,Bi)?c(this,oe):_(this,kt,gg).call(this,o,u),g=d.getContext("2d");g.filter=this._uiManager.hcmFilter,g.drawImage(f,0,0,f.width,f.height,0,0,o,u)},pg=function(i){if(i){if(c(this,Bi)){const o=this._uiManager.imageManager.getSvgUrl(c(this,Ke));if(o)return o}const n=document.createElement("canvas");return{width:n.width,height:n.height}=c(this,oe),n.getContext("2d").drawImage(c(this,oe),0,0),n.toDataURL()}if(c(this,Bi)){const[n,l]=this.pageDimensions,o=Math.round(this.width*n*sl.PDF_TO_CSS_UNITS),u=Math.round(this.height*l*sl.PDF_TO_CSS_UNITS),d=new OffscreenCanvas(o,u);return d.getContext("2d").drawImage(c(this,oe),0,0,c(this,oe).width,c(this,oe).height,0,0,o,u),d.transferToImageBitmap()}return structuredClone(c(this,oe))},c1=function(){this._uiManager._signal&&(S(this,Vn,new ResizeObserver(i=>{const n=i[0].contentRect;n.width&&n.height&&_(this,kt,o1).call(this,n.width,n.height)})),c(this,Vn).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var i;(i=c(this,Vn))==null||i.disconnect(),S(this,Vn,null)},{once:!0}))},u1=function(i){var g;const{rect:n,pageIndex:l,accessibilityData:{altText:o}}=this._initialData,u=i.rect.every((m,v)=>Math.abs(m-n[v])<1),d=i.pageIndex===l,f=(((g=i.accessibilityData)==null?void 0:g.alt)||"")===o;return{isSame:u&&d&&f,isSameAltText:f}},gt(Ju,"_type","stamp"),gt(Ju,"_editorType",_t.STAMP);let _0=Ju;var Or,Rc,sn,tl,Kn,Pi,el,Dc,Oc,ni,Qn,dt,il,Qe,h1,C0,x0,M0,mg;const ms=class ms{constructor({uiManager:e,pageIndex:i,div:n,structTreeLayer:l,accessibilityManager:o,annotationLayer:u,drawLayer:d,textLayer:f,viewport:g,l10n:m}){T(this,Qe);T(this,Or);T(this,Rc,!1);T(this,sn,null);T(this,tl,null);T(this,Kn,null);T(this,Pi,new Map);T(this,el,!1);T(this,Dc,!1);T(this,Oc,!1);T(this,ni,null);T(this,Qn,null);T(this,dt);const v=[...c(ms,il).values()];if(!ms._initialized){ms._initialized=!0;for(const y of v)y.initialize(m,e)}e.registerEditorTypes(v),S(this,dt,e),this.pageIndex=i,this.div=n,S(this,Or,o),S(this,sn,u),this.viewport=g,S(this,ni,f),this.drawLayer=d,this._structTree=l,c(this,dt).addLayer(this)}get isEmpty(){return c(this,Pi).size===0}get isInvisible(){return this.isEmpty&&c(this,dt).getMode()===_t.NONE}updateToolbar(e){c(this,dt).updateToolbar(e)}updateMode(e=c(this,dt).getMode()){switch(_(this,Qe,mg).call(this),e){case _t.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case _t.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case _t.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:i}=this.div;for(const n of c(ms,il).values())i.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var i;return e===((i=c(this,ni))==null?void 0:i.div)}addInkEditorIfNeeded(e){if(c(this,dt).getMode()!==_t.INK)return;if(!e){for(const n of c(this,Pi).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){c(this,dt).setEditingState(e)}addCommands(e){c(this,dt).addCommands(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var i;(i=c(this,sn))==null||i.div.classList.toggle("disabled",!e)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of c(this,Pi).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(c(this,dt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!c(this,sn))return;const i=c(this,sn).getEditableAnnotations();for(const n of i){if(n.hide(),c(this,dt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const l=await this.deserialize(n);l&&(this.addOrRebuild(l),l.enableEditing())}}disable(){var l;S(this,Oc,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,i=new Map;for(const o of c(this,Pi).values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){e.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);(l=this.getEditableAnnotation(o.annotationElementId))==null||l.show(),o.remove()}if(c(this,sn)){const o=c(this,sn).getEditableAnnotations();for(const u of o){const{id:d}=u.data;if(c(this,dt).isDeletedAnnotationElement(d))continue;let f=i.get(d);if(f){f.resetAnnotationElement(u),f.show(!1),u.show();continue}f=e.get(d),f&&(c(this,dt).addChangedExistingAnnotation(f),f.renderAnnotationElement(u)&&f.show(!1)),u.show()}}_(this,Qe,mg).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const o of c(ms,il).values())n.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),S(this,Oc,!1)}getEditableAnnotation(e){var i;return((i=c(this,sn))==null?void 0:i.getEditableAnnotation(e))||null}setActiveEditor(e){c(this,dt).getActive()!==e&&c(this,dt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=c(this,ni))!=null&&e.div&&!c(this,Qn)){S(this,Qn,new AbortController);const i=c(this,dt).combinedSignal(c(this,Qn));c(this,ni).div.addEventListener("pointerdown",_(this,Qe,h1).bind(this),{signal:i}),c(this,ni).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=c(this,ni))!=null&&e.div&&c(this,Qn)&&(c(this,Qn).abort(),S(this,Qn,null),c(this,ni).div.classList.remove("highlighting"))}enableClick(){if(c(this,tl))return;S(this,tl,new AbortController);const e=c(this,dt).combinedSignal(c(this,tl));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;(e=c(this,tl))==null||e.abort(),S(this,tl,null)}attach(e){c(this,Pi).set(e.id,e);const{annotationElementId:i}=e;i&&c(this,dt).isDeletedAnnotationElement(i)&&c(this,dt).removeDeletedAnnotationElement(e)}detach(e){var i;c(this,Pi).delete(e.id),(i=c(this,Or))==null||i.removePointerInTextLayer(e.contentDiv),!c(this,Oc)&&e.annotationElementId&&c(this,dt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),c(this,dt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,c(this,Dc)||this.addInkEditorIfNeeded(!1)}changeParent(e){var i;e.parent!==this&&(e.parent&&e.annotationElementId&&(c(this,dt).addDeletedAnnotationElement(e.annotationElementId),Xt.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(i=e.parent)==null||i.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),c(this,dt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const i=e.render();this.div.append(i),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),c(this,dt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:i}=document;e.div.contains(i)&&!c(this,Kn)&&(e._focusEventsAllowed=!1,S(this,Kn,setTimeout(()=>{S(this,Kn,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:c(this,dt)._signal}),i.focus())},0))),e._structTreeParentId=(n=c(this,Or))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const i=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:i,undo:n,mustExec:!1})}getNextId(){return c(this,dt).getId()}combinedSignal(e){return c(this,dt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=c(this,Qe,C0))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,i){c(this,dt).updateToolbar(e),c(this,dt).updateMode(e);const{offsetX:n,offsetY:l}=_(this,Qe,M0).call(this),o=this.getNextId(),u=_(this,Qe,x0).call(this,{parent:this,id:o,x:n,y:l,uiManager:c(this,dt),isCentered:!0,...i});u&&this.add(u)}async deserialize(e){var i;return await((i=c(ms,il).get(e.annotationType??e.annotationEditorType))==null?void 0:i.deserialize(e,this,c(this,dt)))||null}createAndAddNewEditor(e,i,n={}){const l=this.getNextId(),o=_(this,Qe,x0).call(this,{parent:this,id:l,x:e.offsetX,y:e.offsetY,uiManager:c(this,dt),isCentered:i,...n});return o&&this.add(o),o}addNewEditor(){this.createAndAddNewEditor(_(this,Qe,M0).call(this),!0)}setSelected(e){c(this,dt).setSelected(e)}toggleSelected(e){c(this,dt).toggleSelected(e)}unselect(e){c(this,dt).unselect(e)}pointerup(e){const{isMac:i}=di.platform;if(!(e.button!==0||e.ctrlKey&&i)&&e.target===this.div&&c(this,el)){if(S(this,el,!1),!c(this,Rc)){S(this,Rc,!0);return}if(c(this,dt).getMode()===_t.STAMP){c(this,dt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){if(c(this,dt).getMode()===_t.HIGHLIGHT&&this.enableTextSelection(),c(this,el)){S(this,el,!1);return}const{isMac:i}=di.platform;if(e.button!==0||e.ctrlKey&&i||e.target!==this.div)return;S(this,el,!0);const n=c(this,dt).getActive();S(this,Rc,!n||n.isEmpty())}findNewParent(e,i,n){const l=c(this,dt).findParent(i,n);return l===null||l===this?!1:(l.changeParent(e),!0)}destroy(){var e,i;((e=c(this,dt).getActive())==null?void 0:e.parent)===this&&(c(this,dt).commitOrRemove(),c(this,dt).setActiveEditor(null)),c(this,Kn)&&(clearTimeout(c(this,Kn)),S(this,Kn,null));for(const n of c(this,Pi).values())(i=c(this,Or))==null||i.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,c(this,Pi).clear(),c(this,dt).removeLayer(this)}render({viewport:e}){this.viewport=e,Lr(this.div,e);for(const i of c(this,dt).getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:e}){c(this,dt).commitOrRemove(),_(this,Qe,mg).call(this);const i=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Lr(this.div,{rotation:n}),i!==n)for(const l of c(this,Pi).values())l.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:i}=this.viewport.rawDims;return[e,i]}get scale(){return c(this,dt).viewParameters.realScale}};Or=new WeakMap,Rc=new WeakMap,sn=new WeakMap,tl=new WeakMap,Kn=new WeakMap,Pi=new WeakMap,el=new WeakMap,Dc=new WeakMap,Oc=new WeakMap,ni=new WeakMap,Qn=new WeakMap,dt=new WeakMap,il=new WeakMap,Qe=new WeakSet,h1=function(e){c(this,dt).unselectAll();const{target:i}=e;if(i===c(this,ni).div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&c(this,ni).div.contains(i)){const{isMac:n}=di.platform;if(e.button!==0||e.ctrlKey&&n)return;c(this,dt).showAllEditors("highlight",!0,!0),c(this,ni).div.classList.add("free"),this.toggleDrawing(),Sg.startHighlighting(this,c(this,dt).direction==="ltr",{target:c(this,ni).div,x:e.x,y:e.y}),c(this,ni).div.addEventListener("pointerup",()=>{c(this,ni).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:c(this,dt)._signal}),e.preventDefault()}},C0=function(){return c(ms,il).get(c(this,dt).getMode())},x0=function(e){const i=c(this,Qe,C0);return i?new i.prototype.constructor(e):null},M0=function(){const{x:e,y:i,width:n,height:l}=this.div.getBoundingClientRect(),o=Math.max(0,e),u=Math.max(0,i),d=Math.min(window.innerWidth,e+n),f=Math.min(window.innerHeight,i+l),g=(o+d)/2-e,m=(u+f)/2-i,[v,y]=this.viewport.rotation%180===0?[g,m]:[m,g];return{offsetX:v,offsetY:y}},mg=function(){S(this,Dc,!0);for(const e of c(this,Pi).values())e.isEmpty()&&e.remove();S(this,Dc,!1)},gt(ms,"_initialized",!1),T(ms,il,new Map([n0,f0,_0,Sg].map(e=>[e._editorType,e])));let w0=ms;var nn,pd,_e,Wn,md,D0,Hr,O0,d1;const Xe=class Xe{constructor({pageIndex:e}){T(this,Hr);T(this,nn,null);T(this,pd,0);T(this,_e,new Map);T(this,Wn,new Map);this.pageIndex=e}setParent(e){if(!c(this,nn)){S(this,nn,e);return}if(c(this,nn)!==e){if(c(this,_e).size>0)for(const i of c(this,_e).values())i.remove(),e.append(i);S(this,nn,e)}}static get _svgFactory(){return Ft(this,"_svgFactory",new G0)}draw(e,i,n,l=!1){const o=oi(this,pd)._++,u=_(this,Hr,O0).call(this,e.box);u.classList.add(...e.classNamesForDrawing);const d=Xe._svgFactory.createElement("defs");u.append(d);const f=Xe._svgFactory.createElement("path");d.append(f);const g=`path_p${this.pageIndex}_${o}`;f.setAttribute("id",g),f.setAttribute("d",e.toSVGPath()),l&&c(this,Wn).set(o,f);const m=_(this,Hr,d1).call(this,d,g),v=Xe._svgFactory.createElement("use");return u.append(v),u.setAttribute("fill",i),u.setAttribute("fill-opacity",n),v.setAttribute("href",`#${g}`),c(this,_e).set(o,u),{id:o,clipPathId:`url(#${m})`}}drawOutline(e){const i=oi(this,pd)._++,n=_(this,Hr,O0).call(this,e.box);n.classList.add(...e.classNamesForOutlining);const l=Xe._svgFactory.createElement("defs");n.append(l);const o=Xe._svgFactory.createElement("path");l.append(o);const u=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",u),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let d;if(e.mustRemoveSelfIntersections){const m=Xe._svgFactory.createElement("mask");l.append(m),d=`mask_p${this.pageIndex}_${i}`,m.setAttribute("id",d),m.setAttribute("maskUnits","objectBoundingBox");const v=Xe._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=Xe._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${u}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const f=Xe._svgFactory.createElement("use");n.append(f),f.setAttribute("href",`#${u}`),d&&f.setAttribute("mask",`url(#${d})`);const g=f.cloneNode();return n.append(g),f.classList.add("mainOutline"),g.classList.add("secondaryOutline"),c(this,_e).set(i,n),i}finalizeLine(e,i){const n=c(this,Wn).get(e);c(this,Wn).delete(e),this.updateBox(e,i.box),n.setAttribute("d",i.toSVGPath())}updateLine(e,i){c(this,_e).get(e).firstChild.firstChild.setAttribute("d",i.toSVGPath())}updatePath(e,i){c(this,Wn).get(e).setAttribute("d",i.toSVGPath())}updateBox(e,i){var n;_(n=Xe,md,D0).call(n,c(this,_e).get(e),i)}show(e,i){c(this,_e).get(e).classList.toggle("hidden",!i)}rotate(e,i){c(this,_e).get(e).setAttribute("data-main-rotation",i)}changeColor(e,i){c(this,_e).get(e).setAttribute("fill",i)}changeOpacity(e,i){c(this,_e).get(e).setAttribute("fill-opacity",i)}addClass(e,i){c(this,_e).get(e).classList.add(i)}removeClass(e,i){c(this,_e).get(e).classList.remove(i)}getSVGRoot(e){return c(this,_e).get(e)}remove(e){c(this,Wn).delete(e),c(this,nn)!==null&&(c(this,_e).get(e).remove(),c(this,_e).delete(e))}destroy(){S(this,nn,null);for(const e of c(this,_e).values())e.remove();c(this,_e).clear(),c(this,Wn).clear()}};nn=new WeakMap,pd=new WeakMap,_e=new WeakMap,Wn=new WeakMap,md=new WeakSet,D0=function(e,{x:i=0,y:n=0,width:l=1,height:o=1}={}){const{style:u}=e;u.top=`${100*n}%`,u.left=`${100*i}%`,u.width=`${100*l}%`,u.height=`${100*o}%`},Hr=new WeakSet,O0=function(e){var n;const i=Xe._svgFactory.create(1,1,!0);return c(this,nn).append(i),i.setAttribute("aria-hidden",!0),_(n=Xe,md,D0).call(n,i,e),i},d1=function(e,i){const n=Xe._svgFactory.createElement("clipPath");e.append(n);const l=`clip_${i}`;n.setAttribute("id",l),n.setAttribute("clipPathUnits","objectBoundingBox");const o=Xe._svgFactory.createElement("use");return n.append(o),o.setAttribute("href",`#${i}`),o.classList.add("clip"),l},T(Xe,md);let R0=Xe;bt.AbortException;bt.AnnotationEditorLayer;bt.AnnotationEditorParamsType;bt.AnnotationEditorType;bt.AnnotationEditorUIManager;bt.AnnotationLayer;bt.AnnotationMode;bt.ColorPicker;bt.DOMSVGFactory;bt.DrawLayer;bt.FeatureTest;var Yx=bt.GlobalWorkerOptions;bt.ImageKind;bt.InvalidPDFException;bt.MissingPDFException;bt.OPS;bt.OutputScale;bt.PDFDataRangeTransport;bt.PDFDateString;bt.PDFWorker;bt.PasswordResponses;bt.PermissionFlag;bt.PixelsPerInch;bt.RenderingCancelledException;bt.TextLayer;bt.UnexpectedResponseException;bt.Util;bt.VerbosityLevel;bt.XfaLayer;bt.build;bt.createValidAbsoluteUrl;bt.fetchData;var Vx=bt.getDocument;bt.getFilenameFromUrl;bt.getPdfFilenameFromUrl;bt.getXfaPageViewport;bt.isDataScheme;bt.isPdfFile;bt.noContextMenu;bt.normalizeUnicode;bt.setLayerDimensions;bt.shadow;bt.version;var ub={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function Kx(){if(t_)return St;t_=1;var b=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,x={};function O(D,X,at){this.props=D,this.context=X,this.refs=x,this.updater=at||E}O.prototype.isReactComponent={},O.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},O.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=O.prototype;function z(D,X,at){this.props=D,this.context=X,this.refs=x,this.updater=at||E}var F=z.prototype=new R;F.constructor=z,C(F,O.prototype),F.isPureReactComponent=!0;var B=Array.isArray,P={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Q(D,X,at,it,et,Et){return at=Et.ref,{$$typeof:b,type:D,key:X,ref:at!==void 0?at:null,props:Et}}function J(D,X){return Q(D.type,X,void 0,void 0,void 0,D.props)}function V(D){return typeof D=="object"&&D!==null&&D.$$typeof===b}function st(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(at){return X[at]})}var rt=/\/+/g;function Rt(D,X){return typeof D=="object"&&D!==null&&D.key!=null?st(""+D.key):X.toString(36)}function yt(){}function Ct(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(yt,yt):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function vt(D,X,at,it,et){var Et=typeof D;(Et==="undefined"||Et==="boolean")&&(D=null);var ht=!1;if(D===null)ht=!0;else switch(Et){case"bigint":case"string":case"number":ht=!0;break;case"object":switch(D.$$typeof){case b:case e:ht=!0;break;case m:return ht=D._init,vt(ht(D._payload),X,at,it,et)}}if(ht)return et=et(D),ht=it===""?"."+Rt(D,0):it,B(et)?(at="",ht!=null&&(at=ht.replace(rt,"$&/")+"/"),vt(et,X,at,"",function(ie){return ie})):et!=null&&(V(et)&&(et=J(et,at+(et.key==null||D&&D.key===et.key?"":(""+et.key).replace(rt,"$&/")+"/")+ht)),X.push(et)),1;ht=0;var Tt=it===""?".":it+":";if(B(D))for(var Nt=0;Nt<D.length;Nt++)it=D[Nt],Et=Tt+Rt(it,Nt),ht+=vt(it,X,at,Et,et);else if(Nt=y(D),typeof Nt=="function")for(D=Nt.call(D),Nt=0;!(it=D.next()).done;)it=it.value,Et=Tt+Rt(it,Nt++),ht+=vt(it,X,at,Et,et);else if(Et==="object"){if(typeof D.then=="function")return vt(Ct(D),X,at,it,et);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ht}function K(D,X,at){if(D==null)return D;var it=[],et=0;return vt(D,it,"","",function(Et){return X.call(at,Et,et++)}),it}function Z(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(at){(D._status===0||D._status===-1)&&(D._status=1,D._result=at)},function(at){(D._status===0||D._status===-1)&&(D._status=2,D._result=at)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var W=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function zt(){}return St.Children={map:K,forEach:function(D,X,at){K(D,function(){X.apply(this,arguments)},at)},count:function(D){var X=0;return K(D,function(){X++}),X},toArray:function(D){return K(D,function(X){return X})||[]},only:function(D){if(!V(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},St.Component=O,St.Fragment=i,St.Profiler=l,St.PureComponent=z,St.StrictMode=n,St.Suspense=f,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,St.act=function(){throw Error("act(...) is not supported in production builds of React.")},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cloneElement=function(D,X,at){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=C({},D.props),et=D.key,Et=void 0;if(X!=null)for(ht in X.ref!==void 0&&(Et=void 0),X.key!==void 0&&(et=""+X.key),X)!I.call(X,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&X.ref===void 0||(it[ht]=X[ht]);var ht=arguments.length-2;if(ht===1)it.children=at;else if(1<ht){for(var Tt=Array(ht),Nt=0;Nt<ht;Nt++)Tt[Nt]=arguments[Nt+2];it.children=Tt}return Q(D.type,et,void 0,void 0,Et,it)},St.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:o,_context:D},D},St.createElement=function(D,X,at){var it,et={},Et=null;if(X!=null)for(it in X.key!==void 0&&(Et=""+X.key),X)I.call(X,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(et[it]=X[it]);var ht=arguments.length-2;if(ht===1)et.children=at;else if(1<ht){for(var Tt=Array(ht),Nt=0;Nt<ht;Nt++)Tt[Nt]=arguments[Nt+2];et.children=Tt}if(D&&D.defaultProps)for(it in ht=D.defaultProps,ht)et[it]===void 0&&(et[it]=ht[it]);return Q(D,Et,void 0,void 0,null,et)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:d,render:D}},St.isValidElement=V,St.lazy=function(D){return{$$typeof:m,_payload:{_status:-1,_result:D},_init:Z}},St.memo=function(D,X){return{$$typeof:g,type:D,compare:X===void 0?null:X}},St.startTransition=function(D){var X=P.T,at={};P.T=at;try{var it=D(),et=P.S;et!==null&&et(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(zt,W)}catch(Et){W(Et)}finally{P.T=X}},St.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},St.use=function(D){return P.H.use(D)},St.useActionState=function(D,X,at){return P.H.useActionState(D,X,at)},St.useCallback=function(D,X){return P.H.useCallback(D,X)},St.useContext=function(D){return P.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,X){return P.H.useDeferredValue(D,X)},St.useEffect=function(D,X){return P.H.useEffect(D,X)},St.useId=function(){return P.H.useId()},St.useImperativeHandle=function(D,X,at){return P.H.useImperativeHandle(D,X,at)},St.useInsertionEffect=function(D,X){return P.H.useInsertionEffect(D,X)},St.useLayoutEffect=function(D,X){return P.H.useLayoutEffect(D,X)},St.useMemo=function(D,X){return P.H.useMemo(D,X)},St.useOptimistic=function(D,X){return P.H.useOptimistic(D,X)},St.useReducer=function(D,X,at){return P.H.useReducer(D,X,at)},St.useRef=function(D){return P.H.useRef(D)},St.useState=function(D){return P.H.useState(D)},St.useSyncExternalStore=function(D,X,at){return P.H.useSyncExternalStore(D,X,at)},St.useTransition=function(){return P.H.useTransition()},St.version="19.0.0",St}var e_;function X0(){return e_||(e_=1,ub.exports=Kx()),ub.exports}var Wu=X0();Yx.workerSrc=new URL("/assets/pdf.worker.min-GB3t0DcA.mjs",import.meta.url).toString();async function Qx(b){let e="";const i=await Vx(b).promise,n=i.numPages;for(let l=1;l<=n;l++){const u=await(await i.getPage(l)).getTextContent();e+=u.items.map(d=>"str"in d&&d.str).join(" ")}return await i.cleanup(),e}const Wx=new RegExp(/Prova OR[A-Z_0-9]+/m);function Zx(b){const e=Wx.exec(b);if(e)return e[0]}const $x=new RegExp(new RegExp("(SS_[PEDINGTD]{2,3}_\\d{1,3}[_NEW]*|MdA|CORTA\\s–\\sPERF\\.\\sASSESS|MEDIA\\s–\\sVAL\\.\\sBIAS|LUNGA\\s–\\sFEED|LUNGA\\s-\\sRAV|CORTA\\s–\\sDID\\.\\sSIGN\\._NEW|ENGAGEMENT|DISCOVERY\\sLEARNING|APPROCCI\\sDIALOGICI|EDUCAZIONE\\sFORMALE|LEARNING\\sTHEORY|PROGETTAZIONE|GREENCOMP[_NEW]*|SELF[_NEW]*|(?<!\\(CA)SEL(?!\\sFramework))"));function Jx(b){return b.split($x)}function tM(b){const e=Jx(b);return e.splice(0,1),e.filter((n,l)=>l%2&&n)}async function eM(b){try{const e=await Qx(b),i=Zx(e),n=tM(e);return{quizTitle:i,questions:n}}catch(e){console.error("Error extracting PDF text:",e)}}function iM(b){return`${(b+1).toString()}. `}function sM(b){const e=new RegExp(/\s?\[[abcd]\]\s?/);return b.split(e)}function nM(b){const e=[],i=Array.from(Array(b.length).keys());for(let n=i.length-1;n>0;n--){const l=Math.floor(Math.random()*(n+1));[i[n],i[l]]=[i[l],i[n]]}for(const n of i)e.push(b[i[n]]);return e}function aM({questionContent:b,index:e}){const i=iM(e),[n,...l]=sM(b),o=nM(l);return ue.jsxs("div",{children:[ue.jsxs("p",{children:[i,n]}),o.map((u,d)=>ue.jsx("div",{children:ue.jsxs("label",{children:[ue.jsx("input",{type:"radio",name:"option",value:u},d),u]})},d))]})}function lM(){const[b,e]=Wu.useState("./Domande_2575_v81.pdf"),[i,n]=Wu.useState(),[l,o]=Wu.useState();Wu.useEffect(()=>{(async()=>{try{const f=await eM(b);n(f==null?void 0:f.quizTitle),o(f==null?void 0:f.questions)}catch(f){console.error("Error extracting PDF text:",f)}})()},[b]);function u(d){e(d)}return ue.jsxs(ue.Fragment,{children:[ue.jsx(Gw,{onSelect:u}),ue.jsx("h1",{children:i}),ue.jsx("p",{children:"Concorso ordinario 2023 - Scuola secondaria di primo e secondo grado"}),ue.jsx("p",{children:"Classe di concorso 2575"}),ue.jsx("div",{children:l==null?void 0:l.map((d,f)=>ue.jsx(aM,{questionContent:d,index:f},f))})]})}function rM(){return ue.jsx(ue.Fragment,{children:ue.jsx(lM,{})})}var hb={exports:{}},Nu={},db={exports:{}},fb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function oM(){return i_||(i_=1,function(b){function e(K,Z){var W=K.length;K.push(Z);t:for(;0<W;){var zt=W-1>>>1,D=K[zt];if(0<l(D,Z))K[zt]=Z,K[W]=D,W=zt;else break t}}function i(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var Z=K[0],W=K.pop();if(W!==Z){K[0]=W;t:for(var zt=0,D=K.length,X=D>>>1;zt<X;){var at=2*(zt+1)-1,it=K[at],et=at+1,Et=K[et];if(0>l(it,W))et<D&&0>l(Et,it)?(K[zt]=Et,K[et]=W,zt=et):(K[zt]=it,K[at]=W,zt=at);else if(et<D&&0>l(Et,W))K[zt]=Et,K[et]=W,zt=et;else break t}}return Z}function l(K,Z){var W=K.sortIndex-Z.sortIndex;return W!==0?W:K.id-Z.id}if(b.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;b.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();b.unstable_now=function(){return u.now()-d}}var f=[],g=[],m=1,v=null,y=3,E=!1,C=!1,x=!1,O=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(K){for(var Z=i(g);Z!==null;){if(Z.callback===null)n(g);else if(Z.startTime<=K)n(g),Z.sortIndex=Z.expirationTime,e(f,Z);else break;Z=i(g)}}function B(K){if(x=!1,F(K),!C)if(i(f)!==null)C=!0,Ct();else{var Z=i(g);Z!==null&&vt(B,Z.startTime-K)}}var P=!1,I=-1,Q=5,J=-1;function V(){return!(b.unstable_now()-J<Q)}function st(){if(P){var K=b.unstable_now();J=K;var Z=!0;try{t:{C=!1,x&&(x=!1,R(I),I=-1),E=!0;var W=y;try{e:{for(F(K),v=i(f);v!==null&&!(v.expirationTime>K&&V());){var zt=v.callback;if(typeof zt=="function"){v.callback=null,y=v.priorityLevel;var D=zt(v.expirationTime<=K);if(K=b.unstable_now(),typeof D=="function"){v.callback=D,F(K),Z=!0;break e}v===i(f)&&n(f),F(K)}else n(f);v=i(f)}if(v!==null)Z=!0;else{var X=i(g);X!==null&&vt(B,X.startTime-K),Z=!1}}break t}finally{v=null,y=W,E=!1}Z=void 0}}finally{Z?rt():P=!1}}}var rt;if(typeof z=="function")rt=function(){z(st)};else if(typeof MessageChannel<"u"){var Rt=new MessageChannel,yt=Rt.port2;Rt.port1.onmessage=st,rt=function(){yt.postMessage(null)}}else rt=function(){O(st,0)};function Ct(){P||(P=!0,rt())}function vt(K,Z){I=O(function(){K(b.unstable_now())},Z)}b.unstable_IdlePriority=5,b.unstable_ImmediatePriority=1,b.unstable_LowPriority=4,b.unstable_NormalPriority=3,b.unstable_Profiling=null,b.unstable_UserBlockingPriority=2,b.unstable_cancelCallback=function(K){K.callback=null},b.unstable_continueExecution=function(){C||E||(C=!0,Ct())},b.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<K?Math.floor(1e3/K):5},b.unstable_getCurrentPriorityLevel=function(){return y},b.unstable_getFirstCallbackNode=function(){return i(f)},b.unstable_next=function(K){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var W=y;y=Z;try{return K()}finally{y=W}},b.unstable_pauseExecution=function(){},b.unstable_requestPaint=function(){},b.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=y;y=K;try{return Z()}finally{y=W}},b.unstable_scheduleCallback=function(K,Z,W){var zt=b.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?zt+W:zt):W=zt,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=W+D,K={id:m++,callback:Z,priorityLevel:K,startTime:W,expirationTime:D,sortIndex:-1},W>zt?(K.sortIndex=W,e(g,K),i(f)===null&&K===i(g)&&(x?(R(I),I=-1):x=!0,vt(B,W-zt))):(K.sortIndex=D,e(f,K),C||E||(C=!0,Ct())),K},b.unstable_shouldYield=V,b.unstable_wrapCallback=function(K){var Z=y;return function(){var W=y;y=Z;try{return K.apply(this,arguments)}finally{y=W}}}}(fb)),fb}var s_;function cM(){return s_||(s_=1,db.exports=oM()),db.exports}var gb={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function uM(){if(n_)return $e;n_=1;var b=X0();function e(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var n={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(f,g,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:f,containerInfo:g,implementation:m}}var u=b.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,$e.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return o(f,g,null,m)},$e.flushSync=function(f){var g=u.T,m=n.p;try{if(u.T=null,n.p=2,f)return f()}finally{u.T=g,n.p=m,n.d.f()}},$e.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(f,g))},$e.prefetchDNS=function(f){typeof f=="string"&&n.d.D(f)},$e.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,v=d(m,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?n.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:E}):m==="script"&&n.d.X(f,{crossOrigin:v,integrity:y,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$e.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=d(g.as,g.crossOrigin);n.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(f)},$e.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,v=d(m,g.crossOrigin);n.d.L(f,m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$e.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=d(g.as,g.crossOrigin);n.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(f)},$e.requestFormReset=function(f){n.d.r(f)},$e.unstable_batchedUpdates=function(f,g){return f(g)},$e.useFormState=function(f,g,m){return u.H.useFormState(f,g,m)},$e.useFormStatus=function(){return u.H.useHostTransitionStatus()},$e.version="19.0.0",$e}var a_;function hM(){if(a_)return gb.exports;a_=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(e){console.error(e)}}return b(),gb.exports=uM(),gb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function dM(){if(l_)return Nu;l_=1;var b=cM(),e=X0(),i=hM();function n(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var o=Symbol.for("react.element"),u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),B=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function I(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Symbol.for("react.client.reference");function J(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Q?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case f:return"Fragment";case d:return"Portal";case m:return"Profiler";case g:return"StrictMode";case x:return"Suspense";case O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E:return(t.displayName||"Context")+".Provider";case y:return(t._context.displayName||"Context")+".Consumer";case C:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return s=t.displayName||null,s!==null?s:J(t.type)||"Memo";case z:s=t._payload,t=t._init;try{return J(t(s))}catch{}}return null}var V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=Object.assign,rt,Rt;function yt(t){if(rt===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);rt=s&&s[1]||"",Rt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rt+t+Rt}var Ct=!1;function vt(t,s){if(!t||Ct)return"";Ct=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var U=q}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(q){U=q}t.call(Y.prototype)}}else{try{throw Error()}catch(q){U=q}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&U&&typeof q.stack=="string")return[q.stack,U.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),A=p[0],w=p[1];if(A&&w){var M=A.split(`
`),N=w.split(`
`);for(h=r=0;r<M.length&&!M[r].includes("DetermineComponentFrameRoot");)r++;for(;h<N.length&&!N[h].includes("DetermineComponentFrameRoot");)h++;if(r===M.length||h===N.length)for(r=M.length-1,h=N.length-1;1<=r&&0<=h&&M[r]!==N[h];)h--;for(;1<=r&&0<=h;r--,h--)if(M[r]!==N[h]){if(r!==1||h!==1)do if(r--,h--,0>h||M[r]!==N[h]){var G=`
`+M[r].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=r&&0<=h);break}}}finally{Ct=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yt(a):""}function K(t){switch(t.tag){case 26:case 27:case 5:return yt(t.type);case 16:return yt("Lazy");case 13:return yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return t=vt(t.type,!1),t;case 11:return t=vt(t.type.render,!1),t;case 1:return t=vt(t.type,!0),t;default:return""}}function Z(t){try{var s="";do s+=K(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function W(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function zt(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function D(t){if(W(t)!==t)throw Error(n(188))}function X(t){var s=t.alternate;if(!s){if(s=W(t),s===null)throw Error(n(188));return s!==t?null:t}for(var a=t,r=s;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(r=h.return,r!==null){a=r;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return D(h),t;if(p===r)return D(h),s;p=p.sibling}throw Error(n(188))}if(a.return!==r.return)a=h,r=p;else{for(var A=!1,w=h.child;w;){if(w===a){A=!0,a=h,r=p;break}if(w===r){A=!0,r=h,a=p;break}w=w.sibling}if(!A){for(w=p.child;w;){if(w===a){A=!0,a=p,r=h;break}if(w===r){A=!0,r=p,a=h;break}w=w.sibling}if(!A)throw Error(n(189))}}if(a.alternate!==r)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:s}function at(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=at(t),s!==null)return s;t=t.sibling}return null}var it=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},ht=[],Tt=-1;function Nt(t){return{current:t}}function ie(t){0>Tt||(t.current=ht[Tt],ht[Tt]=null,Tt--)}function Zt(t,s){Tt++,ht[Tt]=t.current,t.current=s}var Ls=Nt(null),Lc=Nt(null),sa=Nt(null),Ad=Nt(null);function Sd(t,s){switch(Zt(sa,s),Zt(Lc,t),Zt(Ls,null),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?lS(s):0;break;default:if(t=t===8?s.parentNode:s,s=t.tagName,t=t.namespaceURI)t=lS(t),s=rS(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ie(Ls),Zt(Ls,s)}function Pr(){ie(Ls),ie(Lc),ie(sa)}function Vg(t){t.memoizedState!==null&&Zt(Ad,t);var s=Ls.current,a=rS(s,t.type);s!==a&&(Zt(Lc,t),Zt(Ls,a))}function _d(t){Lc.current===t&&(ie(Ls),ie(Lc)),Ad.current===t&&(ie(Ad),Tu._currentValue=Et)}var Kg=Object.prototype.hasOwnProperty,Qg=b.unstable_scheduleCallback,Wg=b.unstable_cancelCallback,f1=b.unstable_shouldYield,g1=b.unstable_requestPaint,Ns=b.unstable_now,p1=b.unstable_getCurrentPriorityLevel,Q0=b.unstable_ImmediatePriority,W0=b.unstable_UserBlockingPriority,Ed=b.unstable_NormalPriority,m1=b.unstable_LowPriority,Z0=b.unstable_IdlePriority,b1=b.log,v1=b.unstable_setDisableYieldValue,Nc=null,wi=null;function y1(t){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(Nc,t,void 0,(t.current.flags&128)===128)}catch{}}function na(t){if(typeof b1=="function"&&v1(t),wi&&typeof wi.setStrictMode=="function")try{wi.setStrictMode(Nc,t)}catch{}}var Ci=Math.clz32?Math.clz32:_1,A1=Math.log,S1=Math.LN2;function _1(t){return t>>>=0,t===0?32:31-(A1(t)/S1|0)|0}var Td=128,wd=4194304;function ol(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cd(t,s){var a=t.pendingLanes;if(a===0)return 0;var r=0,h=t.suspendedLanes,p=t.pingedLanes,A=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?r=ol(a):(p&=w,p!==0?r=ol(p):t||(A=w&~A,A!==0&&(r=ol(A))))):(w=a&~h,w!==0?r=ol(w):p!==0?r=ol(p):t||(A=a&~A,A!==0&&(r=ol(A)))),r===0?0:s!==0&&s!==r&&!(s&h)&&(h=r&-r,A=s&-s,h>=A||h===32&&(A&4194176)!==0)?s:r}function kc(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function E1(t,s){switch(t){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $0(){var t=Td;return Td<<=1,!(Td&4194176)&&(Td=128),t}function J0(){var t=wd;return wd<<=1,!(wd&62914560)&&(wd=4194304),t}function Zg(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function zc(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function T1(t,s,a,r,h,p){var A=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,M=t.expirationTimes,N=t.hiddenUpdates;for(a=A&~a;0<a;){var G=31-Ci(a),Y=1<<G;w[G]=0,M[G]=-1;var U=N[G];if(U!==null)for(N[G]=null,G=0;G<U.length;G++){var q=U[G];q!==null&&(q.lane&=-536870913)}a&=~Y}r!==0&&tv(t,r,0),p!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=p&~(A&~s))}function tv(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-Ci(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&4194218}function ev(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-Ci(a),h=1<<r;h&s|t[r]&s&&(t[r]|=s),a&=~h}}function iv(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function sv(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:wS(t.type))}function w1(t,s){var a=et.p;try{return et.p=t,s()}finally{et.p=a}}var aa=Math.random().toString(36).slice(2),We="__reactFiber$"+aa,pi="__reactProps$"+aa,Ir="__reactContainer$"+aa,$g="__reactEvents$"+aa,C1="__reactListeners$"+aa,x1="__reactHandles$"+aa,nv="__reactResources$"+aa,Hc="__reactMarker$"+aa;function Jg(t){delete t[We],delete t[pi],delete t[$g],delete t[C1],delete t[x1]}function cl(t){var s=t[We];if(s)return s;for(var a=t.parentNode;a;){if(s=a[Ir]||a[We]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=uS(t);t!==null;){if(a=t[We])return a;t=uS(t)}return s}t=a,a=t.parentNode}return null}function qr(t){if(t=t[We]||t[Ir]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function Fc(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(n(33))}function Gr(t){var s=t[nv];return s||(s=t[nv]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ne(t){t[Hc]=!0}var av=new Set,lv={};function ul(t,s){jr(t,s),jr(t+"Capture",s)}function jr(t,s){for(lv[t]=s,t=0;t<s.length;t++)av.add(s[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),M1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rv={},ov={};function R1(t){return Kg.call(ov,t)?!0:Kg.call(rv,t)?!1:M1.test(t)?ov[t]=!0:(rv[t]=!0,!1)}function xd(t,s,a){if(R1(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Md(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function ln(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function ji(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cv(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function D1(t){var s=cv(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),r=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return h.call(this)},set:function(A){r=""+A,p.call(this,A)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(A){r=""+A},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Rd(t){t._valueTracker||(t._valueTracker=D1(t))}function uv(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=cv(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function Dd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var O1=/[\n"\\]/g;function Xi(t){return t.replace(O1,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function tp(t,s,a,r,h,p,A,w){t.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.type=A:t.removeAttribute("type"),s!=null?A==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+ji(s)):t.value!==""+ji(s)&&(t.value=""+ji(s)):A!=="submit"&&A!=="reset"||t.removeAttribute("value"),s!=null?ep(t,A,ji(s)):a!=null?ep(t,A,ji(a)):r!=null&&t.removeAttribute("value"),h==null&&p!=null&&(t.defaultChecked=!!p),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ji(w):t.removeAttribute("name")}function hv(t,s,a,r,h,p,A,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),s!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;a=a!=null?""+ji(a):"",s=s!=null?""+ji(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}r=r??h,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=w?t.checked:!!r,t.defaultChecked=!!r,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(t.name=A)}function ep(t,s,a){s==="number"&&Dd(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xr(t,s,a,r){if(t=t.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=s.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&r&&(t[a].defaultSelected=!0)}else{for(a=""+ji(a),s=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,r&&(t[h].defaultSelected=!0);return}s!==null||t[h].disabled||(s=t[h])}s!==null&&(s.selected=!0)}}function dv(t,s,a){if(s!=null&&(s=""+ji(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+ji(a):""}function fv(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(n(92));if(it(r)){if(1<r.length)throw Error(n(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=ji(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r)}function Yr(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var L1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gv(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||L1.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function pv(t,s,a){if(s!=null&&typeof s!="object")throw Error(n(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var h in s)r=s[h],s.hasOwnProperty(h)&&a[h]!==r&&gv(t,h,r)}else for(var p in s)s.hasOwnProperty(p)&&gv(t,p,s[p])}function ip(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Od(t){return k1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var sp=null;function np(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vr=null,Kr=null;function mv(t){var s=qr(t);if(s&&(t=s.stateNode)){var a=t[pi]||null;t:switch(t=s.stateNode,s.type){case"input":if(tp(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xi(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var h=r[pi]||null;if(!h)throw Error(n(90));tp(r,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&uv(r)}break t;case"textarea":dv(t,a.value,a.defaultValue);break t;case"select":s=a.value,s!=null&&Xr(t,!!a.multiple,s,!1)}}}var ap=!1;function bv(t,s,a){if(ap)return t(s,a);ap=!0;try{var r=t(s);return r}finally{if(ap=!1,(Vr!==null||Kr!==null)&&(pf(),Vr&&(s=Vr,t=Kr,Kr=Vr=null,mv(s),t)))for(s=0;s<t.length;s++)mv(t[s])}}function Uc(t,s){var a=t.stateNode;if(a===null)return null;var r=a[pi]||null;if(r===null)return null;a=r[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var lp=!1;if(an)try{var Bc={};Object.defineProperty(Bc,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Bc,Bc),window.removeEventListener("test",Bc,Bc)}catch{lp=!1}var la=null,rp=null,Ld=null;function vv(){if(Ld)return Ld;var t,s=rp,a=s.length,r,h="value"in la?la.value:la.textContent,p=h.length;for(t=0;t<a&&s[t]===h[t];t++);var A=a-t;for(r=1;r<=A&&s[a-r]===h[p-r];r++);return Ld=h.slice(t,1<r?1-r:void 0)}function Nd(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function kd(){return!0}function yv(){return!1}function mi(t){function s(a,r,h,p,A){this._reactName=a,this._targetInst=h,this.type=r,this.nativeEvent=p,this.target=A,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?kd:yv,this.isPropagationStopped=yv,this}return st(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=kd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=kd)},persist:function(){},isPersistent:kd}),s}var hl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zd=mi(hl),Pc=st({},hl,{view:0,detail:0}),z1=mi(Pc),op,cp,Ic,Hd=st({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ic&&(Ic&&t.type==="mousemove"?(op=t.screenX-Ic.screenX,cp=t.screenY-Ic.screenY):cp=op=0,Ic=t),op)},movementY:function(t){return"movementY"in t?t.movementY:cp}}),Av=mi(Hd),H1=st({},Hd,{dataTransfer:0}),F1=mi(H1),U1=st({},Pc,{relatedTarget:0}),up=mi(U1),B1=st({},hl,{animationName:0,elapsedTime:0,pseudoElement:0}),P1=mi(B1),I1=st({},hl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=mi(I1),G1=st({},hl,{data:0}),Sv=mi(G1),j1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},X1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function V1(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Y1[t])?!!s[t]:!1}function hp(){return V1}var K1=st({},Pc,{key:function(t){if(t.key){var s=j1[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Nd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?X1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hp,charCode:function(t){return t.type==="keypress"?Nd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q1=mi(K1),W1=st({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_v=mi(W1),Z1=st({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hp}),$1=mi(Z1),J1=st({},hl,{propertyName:0,elapsedTime:0,pseudoElement:0}),tT=mi(J1),eT=st({},Hd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iT=mi(eT),sT=st({},hl,{newState:0,oldState:0}),nT=mi(sT),aT=[9,13,27,32],dp=an&&"CompositionEvent"in window,qc=null;an&&"documentMode"in document&&(qc=document.documentMode);var lT=an&&"TextEvent"in window&&!qc,Ev=an&&(!dp||qc&&8<qc&&11>=qc),Tv=" ",wv=!1;function Cv(t,s){switch(t){case"keyup":return aT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function rT(t,s){switch(t){case"compositionend":return xv(s);case"keypress":return s.which!==32?null:(wv=!0,Tv);case"textInput":return t=s.data,t===Tv&&wv?null:t;default:return null}}function oT(t,s){if(Qr)return t==="compositionend"||!dp&&Cv(t,s)?(t=vv(),Ld=rp=la=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ev&&s.locale!=="ko"?null:s.data;default:return null}}var cT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!cT[t.type]:s==="textarea"}function Rv(t,s,a,r){Vr?Kr?Kr.push(r):Kr=[r]:Vr=r,s=Af(s,"onChange"),0<s.length&&(a=new zd("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Gc=null,jc=null;function uT(t){eS(t,0)}function Fd(t){var s=Fc(t);if(uv(s))return t}function Dv(t,s){if(t==="change")return s}var Ov=!1;if(an){var fp;if(an){var gp="oninput"in document;if(!gp){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),gp=typeof Lv.oninput=="function"}fp=gp}else fp=!1;Ov=fp&&(!document.documentMode||9<document.documentMode)}function Nv(){Gc&&(Gc.detachEvent("onpropertychange",kv),jc=Gc=null)}function kv(t){if(t.propertyName==="value"&&Fd(jc)){var s=[];Rv(s,jc,t,np(t)),bv(uT,s)}}function hT(t,s,a){t==="focusin"?(Nv(),Gc=s,jc=a,Gc.attachEvent("onpropertychange",kv)):t==="focusout"&&Nv()}function dT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fd(jc)}function fT(t,s){if(t==="click")return Fd(s)}function gT(t,s){if(t==="input"||t==="change")return Fd(s)}function pT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var xi=typeof Object.is=="function"?Object.is:pT;function Xc(t,s){if(xi(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var h=a[r];if(!Kg.call(s,h)||!xi(t[h],s[h]))return!1}return!0}function zv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hv(t,s){var a=zv(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=zv(a)}}function Fv(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Fv(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Uv(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Dd(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Dd(t.document)}return s}function pp(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function mT(t,s){var a=Uv(s);s=t.focusedElem;var r=t.selectionRange;if(a!==s&&s&&s.ownerDocument&&Fv(s.ownerDocument.documentElement,s)){if(r!==null&&pp(s)){if(t=r.start,a=r.end,a===void 0&&(a=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(a,s.value.length);else if(a=(t=s.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=s.textContent.length,p=Math.min(r.start,h);r=r.end===void 0?p:Math.min(r.end,h),!a.extend&&p>r&&(h=r,r=p,p=h),h=Hv(s,p);var A=Hv(s,r);h&&A&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==A.node||a.focusOffset!==A.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),p>r?(a.addRange(t),a.extend(A.node,A.offset)):(t.setEnd(A.node,A.offset),a.addRange(t)))}}for(t=[],a=s;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)a=t[s],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var bT=an&&"documentMode"in document&&11>=document.documentMode,Wr=null,mp=null,Yc=null,bp=!1;function Bv(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bp||Wr==null||Wr!==Dd(r)||(r=Wr,"selectionStart"in r&&pp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yc&&Xc(Yc,r)||(Yc=r,r=Af(mp,"onSelect"),0<r.length&&(s=new zd("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Wr)))}function dl(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Zr={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},vp={},Pv={};an&&(Pv=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function fl(t){if(vp[t])return vp[t];if(!Zr[t])return t;var s=Zr[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Pv)return vp[t]=s[a];return t}var Iv=fl("animationend"),qv=fl("animationiteration"),Gv=fl("animationstart"),vT=fl("transitionrun"),yT=fl("transitionstart"),AT=fl("transitioncancel"),jv=fl("transitionend"),Xv=new Map,Yv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ds(t,s){Xv.set(t,s),ul(s,[t])}var Yi=[],$r=0,yp=0;function Ud(){for(var t=$r,s=yp=$r=0;s<t;){var a=Yi[s];Yi[s++]=null;var r=Yi[s];Yi[s++]=null;var h=Yi[s];Yi[s++]=null;var p=Yi[s];if(Yi[s++]=null,r!==null&&h!==null){var A=r.pending;A===null?h.next=h:(h.next=A.next,A.next=h),r.pending=h}p!==0&&Vv(a,h,p)}}function Bd(t,s,a,r){Yi[$r++]=t,Yi[$r++]=s,Yi[$r++]=a,Yi[$r++]=r,yp|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Ap(t,s,a,r){return Bd(t,s,a,r),Pd(t)}function ra(t,s){return Bd(t,null,null,s),Pd(t)}function Vv(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var h=!1,p=t.return;p!==null;)p.childLanes|=a,r=p.alternate,r!==null&&(r.childLanes|=a),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(h=!0)),t=p,p=p.return;h&&s!==null&&t.tag===3&&(p=t.stateNode,h=31-Ci(a),p=p.hiddenUpdates,t=p[h],t===null?p[h]=[s]:t.push(s),s.lane=a|536870912)}function Pd(t){if(50<bu)throw bu=0,Cm=null,Error(n(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Jr={},Kv=new WeakMap;function Vi(t,s){if(typeof t=="object"&&t!==null){var a=Kv.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Z(s)},Kv.set(t,s),s)}return{value:t,source:s,stack:Z(s)}}var to=[],eo=0,Id=null,qd=0,Ki=[],Qi=0,gl=null,rn=1,on="";function pl(t,s){to[eo++]=qd,to[eo++]=Id,Id=t,qd=s}function Qv(t,s,a){Ki[Qi++]=rn,Ki[Qi++]=on,Ki[Qi++]=gl,gl=t;var r=rn;t=on;var h=32-Ci(r)-1;r&=~(1<<h),a+=1;var p=32-Ci(s)+h;if(30<p){var A=h-h%5;p=(r&(1<<A)-1).toString(32),r>>=A,h-=A,rn=1<<32-Ci(s)+h|a<<h|r,on=p+t}else rn=1<<p|a<<h|r,on=t}function Sp(t){t.return!==null&&(pl(t,1),Qv(t,1,0))}function _p(t){for(;t===Id;)Id=to[--eo],to[eo]=null,qd=to[--eo],to[eo]=null;for(;t===gl;)gl=Ki[--Qi],Ki[Qi]=null,on=Ki[--Qi],Ki[Qi]=null,rn=Ki[--Qi],Ki[Qi]=null}var li=null,qe=null,Bt=!1,fs=null,ks=!1,Ep=Error(n(519));function ml(t){var s=Error(n(418,""));throw Qc(Vi(s,t)),Ep}function Wv(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[We]=t,s[pi]=r,a){case"dialog":Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":case"embed":Ht("load",s);break;case"video":case"audio":for(a=0;a<yu.length;a++)Ht(yu[a],s);break;case"source":Ht("error",s);break;case"img":case"image":case"link":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"input":Ht("invalid",s),hv(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Rd(s);break;case"select":Ht("invalid",s);break;case"textarea":Ht("invalid",s),fv(s,r.value,r.defaultValue,r.children),Rd(s)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||aS(s.textContent,a)?(r.popover!=null&&(Ht("beforetoggle",s),Ht("toggle",s)),r.onScroll!=null&&Ht("scroll",s),r.onScrollEnd!=null&&Ht("scrollend",s),r.onClick!=null&&(s.onclick=Sf),s=!0):s=!1,s||ml(t)}function Zv(t){for(li=t.return;li;)switch(li.tag){case 3:case 27:ks=!0;return;case 5:case 13:ks=!1;return;default:li=li.return}}function Vc(t){if(t!==li)return!1;if(!Bt)return Zv(t),Bt=!0,!1;var s=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gm(t.type,t.memoizedProps)),a=!a),a&&(s=!0),s&&qe&&ml(t),Zv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));t:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){qe=ps(t.nextSibling);break t}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}qe=null}}else qe=li?ps(t.stateNode.nextSibling):null;return!0}function Kc(){qe=li=null,Bt=!1}function Qc(t){fs===null?fs=[t]:fs.push(t)}var Wc=Error(n(460)),$v=Error(n(474)),Tp={then:function(){}};function Jv(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gd(){}function ty(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Gd,Gd),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Wc?Error(n(483)):t;default:if(typeof s.status=="string")s.then(Gd,Gd);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(n(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=r}},function(r){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,t===Wc?Error(n(483)):t}throw Zc=s,Wc}}var Zc=null;function ey(){if(Zc===null)throw Error(n(459));var t=Zc;return Zc=null,t}var io=null,$c=0;function jd(t){var s=$c;return $c+=1,io===null&&(io=[]),ty(io,t,s)}function Jc(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Xd(t,s){throw s.$$typeof===o?Error(n(525)):(t=Object.prototype.toString.call(s),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function iy(t){var s=t._init;return s(t._payload)}function sy(t){function s(k,L){if(t){var H=k.deletions;H===null?(k.deletions=[L],k.flags|=16):H.push(L)}}function a(k,L){if(!t)return null;for(;L!==null;)s(k,L),L=L.sibling;return null}function r(k){for(var L=new Map;k!==null;)k.key!==null?L.set(k.key,k):L.set(k.index,k),k=k.sibling;return L}function h(k,L){return k=ya(k,L),k.index=0,k.sibling=null,k}function p(k,L,H){return k.index=H,t?(H=k.alternate,H!==null?(H=H.index,H<L?(k.flags|=33554434,L):H):(k.flags|=33554434,L)):(k.flags|=1048576,L)}function A(k){return t&&k.alternate===null&&(k.flags|=33554434),k}function w(k,L,H,j){return L===null||L.tag!==6?(L=vm(H,k.mode,j),L.return=k,L):(L=h(L,H),L.return=k,L)}function M(k,L,H,j){var lt=H.type;return lt===f?G(k,L,H.props.children,j,H.key):L!==null&&(L.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===z&&iy(lt)===L.type)?(L=h(L,H.props),Jc(L,H),L.return=k,L):(L=uf(H.type,H.key,H.props,null,k.mode,j),Jc(L,H),L.return=k,L)}function N(k,L,H,j){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=ym(H,k.mode,j),L.return=k,L):(L=h(L,H.children||[]),L.return=k,L)}function G(k,L,H,j,lt){return L===null||L.tag!==7?(L=Cl(H,k.mode,j,lt),L.return=k,L):(L=h(L,H),L.return=k,L)}function Y(k,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=vm(""+L,k.mode,H),L.return=k,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case u:return H=uf(L.type,L.key,L.props,null,k.mode,H),Jc(H,L),H.return=k,H;case d:return L=ym(L,k.mode,H),L.return=k,L;case z:var j=L._init;return L=j(L._payload),Y(k,L,H)}if(it(L)||I(L))return L=Cl(L,k.mode,H,null),L.return=k,L;if(typeof L.then=="function")return Y(k,jd(L),H);if(L.$$typeof===E)return Y(k,rf(k,L),H);Xd(k,L)}return null}function U(k,L,H,j){var lt=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return lt!==null?null:w(k,L,""+H,j);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case u:return H.key===lt?M(k,L,H,j):null;case d:return H.key===lt?N(k,L,H,j):null;case z:return lt=H._init,H=lt(H._payload),U(k,L,H,j)}if(it(H)||I(H))return lt!==null?null:G(k,L,H,j,null);if(typeof H.then=="function")return U(k,L,jd(H),j);if(H.$$typeof===E)return U(k,L,rf(k,H),j);Xd(k,H)}return null}function q(k,L,H,j,lt){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return k=k.get(H)||null,w(L,k,""+j,lt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case u:return k=k.get(j.key===null?H:j.key)||null,M(L,k,j,lt);case d:return k=k.get(j.key===null?H:j.key)||null,N(L,k,j,lt);case z:var Dt=j._init;return j=Dt(j._payload),q(k,L,H,j,lt)}if(it(j)||I(j))return k=k.get(H)||null,G(L,k,j,lt,null);if(typeof j.then=="function")return q(k,L,H,jd(j),lt);if(j.$$typeof===E)return q(k,L,H,rf(L,j),lt);Xd(L,j)}return null}function ot(k,L,H,j){for(var lt=null,Dt=null,ut=L,ft=L=0,He=null;ut!==null&&ft<H.length;ft++){ut.index>ft?(He=ut,ut=null):He=ut.sibling;var Pt=U(k,ut,H[ft],j);if(Pt===null){ut===null&&(ut=He);break}t&&ut&&Pt.alternate===null&&s(k,ut),L=p(Pt,L,ft),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt,ut=He}if(ft===H.length)return a(k,ut),Bt&&pl(k,ft),lt;if(ut===null){for(;ft<H.length;ft++)ut=Y(k,H[ft],j),ut!==null&&(L=p(ut,L,ft),Dt===null?lt=ut:Dt.sibling=ut,Dt=ut);return Bt&&pl(k,ft),lt}for(ut=r(ut);ft<H.length;ft++)He=q(ut,k,ft,H[ft],j),He!==null&&(t&&He.alternate!==null&&ut.delete(He.key===null?ft:He.key),L=p(He,L,ft),Dt===null?lt=He:Dt.sibling=He,Dt=He);return t&&ut.forEach(function(Ca){return s(k,Ca)}),Bt&&pl(k,ft),lt}function mt(k,L,H,j){if(H==null)throw Error(n(151));for(var lt=null,Dt=null,ut=L,ft=L=0,He=null,Pt=H.next();ut!==null&&!Pt.done;ft++,Pt=H.next()){ut.index>ft?(He=ut,ut=null):He=ut.sibling;var Ca=U(k,ut,Pt.value,j);if(Ca===null){ut===null&&(ut=He);break}t&&ut&&Ca.alternate===null&&s(k,ut),L=p(Ca,L,ft),Dt===null?lt=Ca:Dt.sibling=Ca,Dt=Ca,ut=He}if(Pt.done)return a(k,ut),Bt&&pl(k,ft),lt;if(ut===null){for(;!Pt.done;ft++,Pt=H.next())Pt=Y(k,Pt.value,j),Pt!==null&&(L=p(Pt,L,ft),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return Bt&&pl(k,ft),lt}for(ut=r(ut);!Pt.done;ft++,Pt=H.next())Pt=q(ut,k,ft,Pt.value,j),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?ft:Pt.key),L=p(Pt,L,ft),Dt===null?lt=Pt:Dt.sibling=Pt,Dt=Pt);return t&&ut.forEach(function(kw){return s(k,kw)}),Bt&&pl(k,ft),lt}function fe(k,L,H,j){if(typeof H=="object"&&H!==null&&H.type===f&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case u:t:{for(var lt=H.key;L!==null;){if(L.key===lt){if(lt=H.type,lt===f){if(L.tag===7){a(k,L.sibling),j=h(L,H.props.children),j.return=k,k=j;break t}}else if(L.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===z&&iy(lt)===L.type){a(k,L.sibling),j=h(L,H.props),Jc(j,H),j.return=k,k=j;break t}a(k,L);break}else s(k,L);L=L.sibling}H.type===f?(j=Cl(H.props.children,k.mode,j,H.key),j.return=k,k=j):(j=uf(H.type,H.key,H.props,null,k.mode,j),Jc(j,H),j.return=k,k=j)}return A(k);case d:t:{for(lt=H.key;L!==null;){if(L.key===lt)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(k,L.sibling),j=h(L,H.children||[]),j.return=k,k=j;break t}else{a(k,L);break}else s(k,L);L=L.sibling}j=ym(H,k.mode,j),j.return=k,k=j}return A(k);case z:return lt=H._init,H=lt(H._payload),fe(k,L,H,j)}if(it(H))return ot(k,L,H,j);if(I(H)){if(lt=I(H),typeof lt!="function")throw Error(n(150));return H=lt.call(H),mt(k,L,H,j)}if(typeof H.then=="function")return fe(k,L,jd(H),j);if(H.$$typeof===E)return fe(k,L,rf(k,H),j);Xd(k,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(k,L.sibling),j=h(L,H),j.return=k,k=j):(a(k,L),j=vm(H,k.mode,j),j.return=k,k=j),A(k)):a(k,L)}return function(k,L,H,j){try{$c=0;var lt=fe(k,L,H,j);return io=null,lt}catch(ut){if(ut===Wc)throw ut;var Dt=Ji(29,ut,null,k.mode);return Dt.lanes=j,Dt.return=k,Dt}finally{}}}var bl=sy(!0),ny=sy(!1),so=Nt(null),Yd=Nt(0);function ay(t,s){t=yn,Zt(Yd,t),Zt(so,s),yn=t|s.baseLanes}function wp(){Zt(Yd,yn),Zt(so,so.current)}function Cp(){yn=Yd.current,ie(so),ie(Yd)}var Wi=Nt(null),zs=null;function oa(t){var s=t.alternate;Zt(Te,Te.current&1),Zt(Wi,t),zs===null&&(s===null||so.current!==null||s.memoizedState!==null)&&(zs=t)}function ly(t){if(t.tag===22){if(Zt(Te,Te.current),Zt(Wi,t),zs===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(zs=t)}}else ca()}function ca(){Zt(Te,Te.current),Zt(Wi,Wi.current)}function cn(t){ie(Wi),zs===t&&(zs=null),ie(Te)}var Te=Nt(0);function Vd(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ST=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},_T=b.unstable_scheduleCallback,ET=b.unstable_NormalPriority,we={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xp(){return{controller:new ST,data:new Map,refCount:0}}function tu(t){t.refCount--,t.refCount===0&&_T(ET,function(){t.controller.abort()})}var eu=null,Mp=0,no=0,ao=null;function TT(t,s){if(eu===null){var a=eu=[];Mp=0,no=km(),ao={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Mp++,s.then(ry,ry),s}function ry(){if(--Mp===0&&eu!==null){ao!==null&&(ao.status="fulfilled");var t=eu;eu=null,no=0,ao=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function wT(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var h=0;h<a.length;h++)(0,a[h])(s)},function(h){for(r.status="rejected",r.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),r}var oy=V.S;V.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&TT(t,s),oy!==null&&oy(t,s)};var vl=Nt(null);function Rp(){var t=vl.current;return t!==null?t:$t.pooledCache}function Kd(t,s){s===null?Zt(vl,vl.current):Zt(vl,s.pool)}function cy(){var t=Rp();return t===null?null:{parent:we._currentValue,pool:t}}var ua=0,xt=null,Yt=null,ve=null,Qd=!1,lo=!1,yl=!1,Wd=0,iu=0,ro=null,CT=0;function pe(){throw Error(n(321))}function Dp(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!xi(t[a],s[a]))return!1;return!0}function Op(t,s,a,r,h,p){return ua=p,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=t===null||t.memoizedState===null?Al:ha,yl=!1,p=a(r,h),yl=!1,lo&&(p=hy(s,a,r,h)),uy(t),p}function uy(t){V.H=Hs;var s=Yt!==null&&Yt.next!==null;if(ua=0,ve=Yt=xt=null,Qd=!1,iu=0,ro=null,s)throw Error(n(300));t===null||ke||(t=t.dependencies,t!==null&&lf(t)&&(ke=!0))}function hy(t,s,a,r){xt=t;var h=0;do{if(lo&&(ro=null),iu=0,lo=!1,25<=h)throw Error(n(301));if(h+=1,ve=Yt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}V.H=Sl,p=s(a,r)}while(lo);return p}function xT(){var t=V.H,s=t.useState()[0];return s=typeof s.then=="function"?su(s):s,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(xt.flags|=1024),s}function Lp(){var t=Wd!==0;return Wd=0,t}function Np(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function kp(t){if(Qd){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Qd=!1}ua=0,ve=Yt=xt=null,lo=!1,iu=Wd=0,ro=null}function bi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?xt.memoizedState=ve=t:ve=ve.next=t,ve}function ye(){if(Yt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var s=ve===null?xt.memoizedState:ve.next;if(s!==null)ve=s,Yt=t;else{if(t===null)throw xt.alternate===null?Error(n(467)):Error(n(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},ve===null?xt.memoizedState=ve=t:ve=ve.next=t}return ve}var Zd;Zd=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function su(t){var s=iu;return iu+=1,ro===null&&(ro=[]),t=ty(ro,t,s),s=xt,(ve===null?s.memoizedState:ve.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?Al:ha),t}function $d(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return su(t);if(t.$$typeof===E)return Ze(t)}throw Error(n(438,String(t)))}function zp(t){var s=null,a=xt.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=xt.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Zd(),xt.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=B;return s.index++,a}function un(t,s){return typeof s=="function"?s(t):s}function Jd(t){var s=ye();return Hp(s,Yt,t)}function Hp(t,s,a){var r=t.queue;if(r===null)throw Error(n(311));r.lastRenderedReducer=a;var h=t.baseQueue,p=r.pending;if(p!==null){if(h!==null){var A=h.next;h.next=p.next,p.next=A}s.baseQueue=h=p,r.pending=null}if(p=t.baseState,h===null)t.memoizedState=p;else{s=h.next;var w=A=null,M=null,N=s,G=!1;do{var Y=N.lane&-536870913;if(Y!==N.lane?(Ut&Y)===Y:(ua&Y)===Y){var U=N.revertLane;if(U===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),Y===no&&(G=!0);else if((ua&U)===U){N=N.next,U===no&&(G=!0);continue}else Y={lane:0,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},M===null?(w=M=Y,A=p):M=M.next=Y,xt.lanes|=U,Aa|=U;Y=N.action,yl&&a(p,Y),p=N.hasEagerState?N.eagerState:a(p,Y)}else U={lane:Y,revertLane:N.revertLane,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},M===null?(w=M=U,A=p):M=M.next=U,xt.lanes|=Y,Aa|=Y;N=N.next}while(N!==null&&N!==s);if(M===null?A=p:M.next=w,!xi(p,t.memoizedState)&&(ke=!0,G&&(a=ao,a!==null)))throw a;t.memoizedState=p,t.baseState=A,t.baseQueue=M,r.lastRenderedState=p}return h===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Fp(t){var s=ye(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var r=a.dispatch,h=a.pending,p=s.memoizedState;if(h!==null){a.pending=null;var A=h=h.next;do p=t(p,A.action),A=A.next;while(A!==h);xi(p,s.memoizedState)||(ke=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),a.lastRenderedState=p}return[p,r]}function dy(t,s,a){var r=xt,h=ye(),p=Bt;if(p){if(a===void 0)throw Error(n(407));a=a()}else a=s();var A=!xi((Yt||h).memoizedState,a);if(A&&(h.memoizedState=a,ke=!0),h=h.queue,Pp(py.bind(null,r,h,t),[t]),h.getSnapshot!==s||A||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,oo(9,gy.bind(null,r,h,a,s),{destroy:void 0},null),$t===null)throw Error(n(349));p||ua&60||fy(r,s,a)}return a}function fy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=xt.updateQueue,s===null?(s=Zd(),xt.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function gy(t,s,a,r){s.value=a,s.getSnapshot=r,my(s)&&by(t)}function py(t,s,a){return a(function(){my(s)&&by(t)})}function my(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!xi(t,a)}catch{return!0}}function by(t){var s=ra(t,2);s!==null&&ri(s,t,2)}function Up(t){var s=bi();if(typeof t=="function"){var a=t;if(t=a(),yl){na(!0);try{a()}finally{na(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:t},s}function vy(t,s,a,r){return t.baseState=a,Hp(t,Yt,typeof r=="function"?r:un)}function MT(t,s,a,r,h){if(sf(t))throw Error(n(485));if(t=s.action,t!==null){var p={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){p.listeners.push(A)}};V.T!==null?a(!0):p.isTransition=!1,r(p),a=s.pending,a===null?(p.next=s.pending=p,yy(s,p)):(p.next=a.next,s.pending=a.next=p)}}function yy(t,s){var a=s.action,r=s.payload,h=t.state;if(s.isTransition){var p=V.T,A={};V.T=A;try{var w=a(h,r),M=V.S;M!==null&&M(A,w),Ay(t,s,w)}catch(N){Bp(t,s,N)}finally{V.T=p}}else try{p=a(h,r),Ay(t,s,p)}catch(N){Bp(t,s,N)}}function Ay(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Sy(t,s,r)},function(r){return Bp(t,s,r)}):Sy(t,s,a)}function Sy(t,s,a){s.status="fulfilled",s.value=a,_y(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,yy(t,a)))}function Bp(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,_y(s),s=s.next;while(s!==r)}t.action=null}function _y(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Ey(t,s){return s}function Ty(t,s){if(Bt){var a=$t.formState;if(a!==null){t:{var r=xt;if(Bt){if(qe){e:{for(var h=qe,p=ks;h.nodeType!==8;){if(!p){h=null;break e}if(h=ps(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){qe=ps(h.nextSibling),r=h.data==="F!";break t}}ml(r)}r=!1}r&&(s=a[0])}}return a=bi(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:s},a.queue=r,a=qy.bind(null,xt,r),r.dispatch=a,r=Up(!1),p=Xp.bind(null,xt,!1,r.queue),r=bi(),h={state:s,dispatch:null,action:t,pending:null},r.queue=h,a=MT.bind(null,xt,h,p,a),h.dispatch=a,r.memoizedState=t,[s,a,!1]}function wy(t){var s=ye();return Cy(s,Yt,t)}function Cy(t,s,a){s=Hp(t,s,Ey)[0],t=Jd(un)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?su(s):s;var r=ye(),h=r.queue,p=h.dispatch;return a!==r.memoizedState&&(xt.flags|=2048,oo(9,RT.bind(null,h,a),{destroy:void 0},null)),[s,p,t]}function RT(t,s){t.action=s}function xy(t){var s=ye(),a=Yt;if(a!==null)return Cy(s,a,t);ye(),s=s.memoizedState,a=ye();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function oo(t,s,a,r){return t={tag:t,create:s,inst:a,deps:r,next:null},s=xt.updateQueue,s===null&&(s=Zd(),xt.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function My(){return ye().memoizedState}function tf(t,s,a,r){var h=bi();xt.flags|=t,h.memoizedState=oo(1|s,a,{destroy:void 0},r===void 0?null:r)}function ef(t,s,a,r){var h=ye();r=r===void 0?null:r;var p=h.memoizedState.inst;Yt!==null&&r!==null&&Dp(r,Yt.memoizedState.deps)?h.memoizedState=oo(s,a,p,r):(xt.flags|=t,h.memoizedState=oo(1|s,a,p,r))}function Ry(t,s){tf(8390656,8,t,s)}function Pp(t,s){ef(2048,8,t,s)}function Dy(t,s){return ef(4,2,t,s)}function Oy(t,s){return ef(4,4,t,s)}function Ly(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Ny(t,s,a){a=a!=null?a.concat([t]):null,ef(4,4,Ly.bind(null,s,t),a)}function Ip(){}function ky(t,s){var a=ye();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&Dp(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function zy(t,s){var a=ye();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&Dp(s,r[1]))return r[0];if(r=t(),yl){na(!0);try{t()}finally{na(!1)}}return a.memoizedState=[r,s],r}function qp(t,s,a){return a===void 0||ua&1073741824?t.memoizedState=s:(t.memoizedState=a,t=FA(),xt.lanes|=t,Aa|=t,a)}function Hy(t,s,a,r){return xi(a,s)?a:so.current!==null?(t=qp(t,a,r),xi(t,s)||(ke=!0),t):ua&42?(t=FA(),xt.lanes|=t,Aa|=t,s):(ke=!0,t.memoizedState=a)}function Fy(t,s,a,r,h){var p=et.p;et.p=p!==0&&8>p?p:8;var A=V.T,w={};V.T=w,Xp(t,!1,s,a);try{var M=h(),N=V.S;if(N!==null&&N(w,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=wT(M,r);nu(t,s,G,Oi(t))}else nu(t,s,r,Oi(t))}catch(Y){nu(t,s,{then:function(){},status:"rejected",reason:Y},Oi())}finally{et.p=p,V.T=A}}function DT(){}function Gp(t,s,a,r){if(t.tag!==5)throw Error(n(476));var h=Uy(t).queue;Fy(t,h,s,Et,a===null?DT:function(){return By(t),a(r)})}function Uy(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:Et},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:un,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function By(t){var s=Uy(t).next.queue;nu(t,s,{},Oi())}function jp(){return Ze(Tu)}function Py(){return ye().memoizedState}function Iy(){return ye().memoizedState}function OT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Oi();t=ga(a);var r=pa(s,t,a);r!==null&&(ri(r,s,a),ru(r,s,a)),s={cache:xp()},t.payload=s;return}s=s.return}}function LT(t,s,a){var r=Oi();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sf(t)?Gy(s,a):(a=Ap(t,s,a,r),a!==null&&(ri(a,t,r),jy(a,s,r)))}function qy(t,s,a){var r=Oi();nu(t,s,a,r)}function nu(t,s,a,r){var h={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sf(t))Gy(s,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var A=s.lastRenderedState,w=p(A,a);if(h.hasEagerState=!0,h.eagerState=w,xi(w,A))return Bd(t,s,h,0),$t===null&&Ud(),!1}catch{}finally{}if(a=Ap(t,s,h,r),a!==null)return ri(a,t,r),jy(a,s,r),!0}return!1}function Xp(t,s,a,r){if(r={lane:2,revertLane:km(),action:r,hasEagerState:!1,eagerState:null,next:null},sf(t)){if(s)throw Error(n(479))}else s=Ap(t,a,r,2),s!==null&&ri(s,t,2)}function sf(t){var s=t.alternate;return t===xt||s!==null&&s===xt}function Gy(t,s){lo=Qd=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function jy(t,s,a){if(a&4194176){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,ev(t,a)}}var Hs={readContext:Ze,use:$d,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe};Hs.useCacheRefresh=pe,Hs.useMemoCache=pe,Hs.useHostTransitionStatus=pe,Hs.useFormState=pe,Hs.useActionState=pe,Hs.useOptimistic=pe;var Al={readContext:Ze,use:$d,useCallback:function(t,s){return bi().memoizedState=[t,s===void 0?null:s],t},useContext:Ze,useEffect:Ry,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,tf(4194308,4,Ly.bind(null,s,t),a)},useLayoutEffect:function(t,s){return tf(4194308,4,t,s)},useInsertionEffect:function(t,s){tf(4,2,t,s)},useMemo:function(t,s){var a=bi();s=s===void 0?null:s;var r=t();if(yl){na(!0);try{t()}finally{na(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=bi();if(a!==void 0){var h=a(s);if(yl){na(!0);try{a(s)}finally{na(!1)}}}else h=s;return r.memoizedState=r.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},r.queue=t,t=t.dispatch=LT.bind(null,xt,t),[r.memoizedState,t]},useRef:function(t){var s=bi();return t={current:t},s.memoizedState=t},useState:function(t){t=Up(t);var s=t.queue,a=qy.bind(null,xt,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Ip,useDeferredValue:function(t,s){var a=bi();return qp(a,t,s)},useTransition:function(){var t=Up(!1);return t=Fy.bind(null,xt,t.queue,!0,!1),bi().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=xt,h=bi();if(Bt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),$t===null)throw Error(n(349));Ut&60||fy(r,s,a)}h.memoizedState=a;var p={value:a,getSnapshot:s};return h.queue=p,Ry(py.bind(null,r,p,t),[t]),r.flags|=2048,oo(9,gy.bind(null,r,p,a,s),{destroy:void 0},null),a},useId:function(){var t=bi(),s=$t.identifierPrefix;if(Bt){var a=on,r=rn;a=(r&~(1<<32-Ci(r)-1)).toString(32)+a,s=":"+s+"R"+a,a=Wd++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=CT++,s=":"+s+"r"+a.toString(32)+":";return t.memoizedState=s},useCacheRefresh:function(){return bi().memoizedState=OT.bind(null,xt)}};Al.useMemoCache=zp,Al.useHostTransitionStatus=jp,Al.useFormState=Ty,Al.useActionState=Ty,Al.useOptimistic=function(t){var s=bi();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Xp.bind(null,xt,!0,a),a.dispatch=s,[t,s]};var ha={readContext:Ze,use:$d,useCallback:ky,useContext:Ze,useEffect:Pp,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:zy,useReducer:Jd,useRef:My,useState:function(){return Jd(un)},useDebugValue:Ip,useDeferredValue:function(t,s){var a=ye();return Hy(a,Yt.memoizedState,t,s)},useTransition:function(){var t=Jd(un)[0],s=ye().memoizedState;return[typeof t=="boolean"?t:su(t),s]},useSyncExternalStore:dy,useId:Py};ha.useCacheRefresh=Iy,ha.useMemoCache=zp,ha.useHostTransitionStatus=jp,ha.useFormState=wy,ha.useActionState=wy,ha.useOptimistic=function(t,s){var a=ye();return vy(a,Yt,t,s)};var Sl={readContext:Ze,use:$d,useCallback:ky,useContext:Ze,useEffect:Pp,useImperativeHandle:Ny,useInsertionEffect:Dy,useLayoutEffect:Oy,useMemo:zy,useReducer:Fp,useRef:My,useState:function(){return Fp(un)},useDebugValue:Ip,useDeferredValue:function(t,s){var a=ye();return Yt===null?qp(a,t,s):Hy(a,Yt.memoizedState,t,s)},useTransition:function(){var t=Fp(un)[0],s=ye().memoizedState;return[typeof t=="boolean"?t:su(t),s]},useSyncExternalStore:dy,useId:Py};Sl.useCacheRefresh=Iy,Sl.useMemoCache=zp,Sl.useHostTransitionStatus=jp,Sl.useFormState=xy,Sl.useActionState=xy,Sl.useOptimistic=function(t,s){var a=ye();return Yt!==null?vy(a,Yt,t,s):(a.baseState=t,[t,a.queue.dispatch])};function Yp(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:st({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vp={isMounted:function(t){return(t=t._reactInternals)?W(t)===t:!1},enqueueSetState:function(t,s,a){t=t._reactInternals;var r=Oi(),h=ga(r);h.payload=s,a!=null&&(h.callback=a),s=pa(t,h,r),s!==null&&(ri(s,t,r),ru(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=Oi(),h=ga(r);h.tag=1,h.payload=s,a!=null&&(h.callback=a),s=pa(t,h,r),s!==null&&(ri(s,t,r),ru(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Oi(),r=ga(a);r.tag=2,s!=null&&(r.callback=s),s=pa(t,r,a),s!==null&&(ri(s,t,a),ru(s,t,a))}};function Xy(t,s,a,r,h,p,A){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,A):s.prototype&&s.prototype.isPureReactComponent?!Xc(a,r)||!Xc(h,p):!0}function Yy(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&Vp.enqueueReplaceState(s,s.state,null)}function _l(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=st({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var nf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){nf(t)}function Ky(t){console.error(t)}function Qy(t){nf(t)}function af(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function Wy(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kp(t,s,a){return a=ga(a),a.tag=3,a.payload={element:null},a.callback=function(){af(t,s)},a}function Zy(t){return t=ga(t),t.tag=3,t}function $y(t,s,a,r){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=r.value;t.payload=function(){return h(p)},t.callback=function(){Wy(s,a,r)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(t.callback=function(){Wy(s,a,r),typeof h!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function NT(t,s,a,r,h){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&lu(s,a,h,!0),a=Wi.current,a!==null){switch(a.tag){case 13:return zs===null?Rm():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,r===Tp?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),Om(t,r,h)),!1;case 22:return a.flags|=65536,r===Tp?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),Om(t,r,h)),!1}throw Error(n(435,a.tag))}return Om(t,r,h),Rm(),!1}if(Bt)return s=Wi.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=h,r!==Ep&&(t=Error(n(422),{cause:r}),Qc(Vi(t,a)))):(r!==Ep&&(s=Error(n(423),{cause:r}),Qc(Vi(s,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,r=Vi(r,a),h=Kp(t.stateNode,r,h),cm(t,h),de!==4&&(de=2)),!1;var p=Error(n(520),{cause:r});if(p=Vi(p,a),pu===null?pu=[p]:pu.push(p),de!==4&&(de=2),s===null)return!0;r=Vi(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kp(a.stateNode,r,t),cm(a,t),!1;case 1:if(s=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Sa===null||!Sa.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Zy(h),$y(h,t,a,r),cm(a,h),!1}a=a.return}while(a!==null);return!1}var Jy=Error(n(461)),ke=!1;function Ge(t,s,a,r){s.child=t===null?ny(s,null,a,r):bl(s,t.child,a,r)}function tA(t,s,a,r,h){a=a.render;var p=s.ref;if("ref"in r){var A={};for(var w in r)w!=="ref"&&(A[w]=r[w])}else A=r;return Tl(s),r=Op(t,s,a,A,p,h),w=Lp(),t!==null&&!ke?(Np(t,s,h),hn(t,s,h)):(Bt&&w&&Sp(s),s.flags|=1,Ge(t,s,r,h),s.child)}function eA(t,s,a,r,h){if(t===null){var p=a.type;return typeof p=="function"&&!bm(p)&&p.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=p,iA(t,s,p,r,h)):(t=uf(a.type,null,r,s,s.mode,h),t.ref=s.ref,t.return=s,s.child=t)}if(p=t.child,!sm(t,h)){var A=p.memoizedProps;if(a=a.compare,a=a!==null?a:Xc,a(A,r)&&t.ref===s.ref)return hn(t,s,h)}return s.flags|=1,t=ya(p,r),t.ref=s.ref,t.return=s,s.child=t}function iA(t,s,a,r,h){if(t!==null){var p=t.memoizedProps;if(Xc(p,r)&&t.ref===s.ref)if(ke=!1,s.pendingProps=r=p,sm(t,h))t.flags&131072&&(ke=!0);else return s.lanes=t.lanes,hn(t,s,h)}return Qp(t,s,a,r,h)}function sA(t,s,a){var r=s.pendingProps,h=r.children,p=(s.stateNode._pendingVisibility&2)!==0,A=t!==null?t.memoizedState:null;if(au(t,s),r.mode==="hidden"||p){if(s.flags&128){if(r=A!==null?A.baseLanes|a:a,t!==null){for(h=s.child=t.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~r}else s.childLanes=0,s.child=null;return nA(t,s,r,a)}if(a&536870912)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Kd(s,A!==null?A.cachePool:null),A!==null?ay(s,A):wp(),ly(s);else return s.lanes=s.childLanes=536870912,nA(t,s,A!==null?A.baseLanes|a:a,a)}else A!==null?(Kd(s,A.cachePool),ay(s,A),ca(),s.memoizedState=null):(t!==null&&Kd(s,null),wp(),ca());return Ge(t,s,h,a),s.child}function nA(t,s,a,r){var h=Rp();return h=h===null?null:{parent:we._currentValue,pool:h},s.memoizedState={baseLanes:a,cachePool:h},t!==null&&Kd(s,null),wp(),ly(s),t!==null&&lu(t,s,r,!0),null}function au(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(n(284));(t===null||t.ref!==a)&&(s.flags|=2097664)}}function Qp(t,s,a,r,h){return Tl(s),a=Op(t,s,a,r,void 0,h),r=Lp(),t!==null&&!ke?(Np(t,s,h),hn(t,s,h)):(Bt&&r&&Sp(s),s.flags|=1,Ge(t,s,a,h),s.child)}function aA(t,s,a,r,h,p){return Tl(s),s.updateQueue=null,a=hy(s,r,a,h),uy(t),r=Lp(),t!==null&&!ke?(Np(t,s,p),hn(t,s,p)):(Bt&&r&&Sp(s),s.flags|=1,Ge(t,s,a,p),s.child)}function lA(t,s,a,r,h){if(Tl(s),s.stateNode===null){var p=Jr,A=a.contextType;typeof A=="object"&&A!==null&&(p=Ze(A)),p=new a(r,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Vp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=r,p.state=s.memoizedState,p.refs={},rm(s),A=a.contextType,p.context=typeof A=="object"&&A!==null?Ze(A):Jr,p.state=s.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Yp(s,a,A,r),p.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(A=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),A!==p.state&&Vp.enqueueReplaceState(p,p.state,null),cu(s,r,p,h),ou(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){p=s.stateNode;var w=s.memoizedProps,M=_l(a,w);p.props=M;var N=p.context,G=a.contextType;A=Jr,typeof G=="object"&&G!==null&&(A=Ze(G));var Y=a.getDerivedStateFromProps;G=typeof Y=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||N!==A)&&Yy(s,p,r,A),fa=!1;var U=s.memoizedState;p.state=U,cu(s,r,p,h),ou(),N=s.memoizedState,w||U!==N||fa?(typeof Y=="function"&&(Yp(s,a,Y,r),N=s.memoizedState),(M=fa||Xy(s,a,M,r,U,N,A))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=N),p.props=r,p.state=N,p.context=A,r=M):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{p=s.stateNode,om(t,s),A=s.memoizedProps,G=_l(a,A),p.props=G,Y=s.pendingProps,U=p.context,N=a.contextType,M=Jr,typeof N=="object"&&N!==null&&(M=Ze(N)),w=a.getDerivedStateFromProps,(N=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(A!==Y||U!==M)&&Yy(s,p,r,M),fa=!1,U=s.memoizedState,p.state=U,cu(s,r,p,h),ou();var q=s.memoizedState;A!==Y||U!==q||fa||t!==null&&t.dependencies!==null&&lf(t.dependencies)?(typeof w=="function"&&(Yp(s,a,w,r),q=s.memoizedState),(G=fa||Xy(s,a,G,r,U,q,M)||t!==null&&t.dependencies!==null&&lf(t.dependencies))?(N||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,q,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,q,M)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=q),p.props=r,p.state=q,p.context=M,r=G):(typeof p.componentDidUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||A===t.memoizedProps&&U===t.memoizedState||(s.flags|=1024),r=!1)}return p=r,au(t,s),r=(s.flags&128)!==0,p||r?(p=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,t!==null&&r?(s.child=bl(s,t.child,null,h),s.child=bl(s,null,a,h)):Ge(t,s,a,h),s.memoizedState=p.state,t=s.child):t=hn(t,s,h),t}function rA(t,s,a,r){return Kc(),s.flags|=256,Ge(t,s,a,r),s.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Zp(t){return{baseLanes:t,cachePool:cy()}}function $p(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=ts),t}function oA(t,s,a){var r=s.pendingProps,h=!1,p=(s.flags&128)!==0,A;if((A=p)||(A=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),A&&(h=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,t===null){if(Bt){if(h?oa(s):ca(),Bt){var w=qe,M;if(M=w){t:{for(M=w,w=ks;M.nodeType!==8;){if(!w){w=null;break t}if(M=ps(M.nextSibling),M===null){w=null;break t}}w=M}w!==null?(s.memoizedState={dehydrated:w,treeContext:gl!==null?{id:rn,overflow:on}:null,retryLane:536870912},M=Ji(18,null,null,0),M.stateNode=w,M.return=s,s.child=M,li=s,qe=null,M=!0):M=!1}M||ml(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;cn(s)}return w=r.children,r=r.fallback,h?(ca(),h=s.mode,w=tm({mode:"hidden",children:w},h),r=Cl(r,h,a,null),w.return=s,r.return=s,w.sibling=r,s.child=w,h=s.child,h.memoizedState=Zp(a),h.childLanes=$p(t,A,a),s.memoizedState=Wp,r):(oa(s),Jp(s,w))}if(M=t.memoizedState,M!==null&&(w=M.dehydrated,w!==null)){if(p)s.flags&256?(oa(s),s.flags&=-257,s=em(t,s,a)):s.memoizedState!==null?(ca(),s.child=t.child,s.flags|=128,s=null):(ca(),h=r.fallback,w=s.mode,r=tm({mode:"visible",children:r.children},w),h=Cl(h,w,a,null),h.flags|=2,r.return=s,h.return=s,r.sibling=h,s.child=r,bl(s,t.child,null,a),r=s.child,r.memoizedState=Zp(a),r.childLanes=$p(t,A,a),s.memoizedState=Wp,s=h);else if(oa(s),w.data==="$!"){if(A=w.nextSibling&&w.nextSibling.dataset,A)var N=A.dgst;A=N,r=Error(n(419)),r.stack="",r.digest=A,Qc({value:r,source:null,stack:null}),s=em(t,s,a)}else if(ke||lu(t,s,a,!1),A=(a&t.childLanes)!==0,ke||A){if(A=$t,A!==null){if(r=a&-a,r&42)r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(r=r&(A.suspendedLanes|a)?0:r,r!==0&&r!==M.retryLane)throw M.retryLane=r,ra(t,r),ri(A,t,r),Jy}w.data==="$?"||Rm(),s=em(t,s,a)}else w.data==="$?"?(s.flags|=128,s.child=t.child,s=KT.bind(null,t),w._reactRetry=s,s=null):(t=M.treeContext,qe=ps(w.nextSibling),li=s,Bt=!0,fs=null,ks=!1,t!==null&&(Ki[Qi++]=rn,Ki[Qi++]=on,Ki[Qi++]=gl,rn=t.id,on=t.overflow,gl=s),s=Jp(s,r.children),s.flags|=4096);return s}return h?(ca(),h=r.fallback,w=s.mode,M=t.child,N=M.sibling,r=ya(M,{mode:"hidden",children:r.children}),r.subtreeFlags=M.subtreeFlags&31457280,N!==null?h=ya(N,h):(h=Cl(h,w,a,null),h.flags|=2),h.return=s,r.return=s,r.sibling=h,s.child=r,r=h,h=s.child,w=t.child.memoizedState,w===null?w=Zp(a):(M=w.cachePool,M!==null?(N=we._currentValue,M=M.parent!==N?{parent:N,pool:N}:M):M=cy(),w={baseLanes:w.baseLanes|a,cachePool:M}),h.memoizedState=w,h.childLanes=$p(t,A,a),s.memoizedState=Wp,r):(oa(s),a=t.child,t=a.sibling,a=ya(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(A=s.deletions,A===null?(s.deletions=[t],s.flags|=16):A.push(t)),s.child=a,s.memoizedState=null,a)}function Jp(t,s){return s=tm({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function tm(t,s){return kA(t,s,0,null)}function em(t,s,a){return bl(s,t.child,null,a),t=Jp(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function cA(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),am(t.return,s,a)}function im(t,s,a,r,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=a,p.tailMode=h)}function uA(t,s,a){var r=s.pendingProps,h=r.revealOrder,p=r.tail;if(Ge(t,s,r.children,a),r=Te.current,r&2)r=r&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cA(t,a,s);else if(t.tag===19)cA(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break t;for(;t.sibling===null;){if(t.return===null||t.return===s)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Zt(Te,r),h){case"forwards":for(a=s.child,h=null;a!==null;)t=a.alternate,t!==null&&Vd(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),im(s,!1,h,a,p);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(t=h.alternate,t!==null&&Vd(t)===null){s.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}im(s,!0,a,null,p);break;case"together":im(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function hn(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Aa|=s.lanes,!(a&s.childLanes))if(t!==null){if(lu(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(n(153));if(s.child!==null){for(t=s.child,a=ya(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ya(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function sm(t,s){return t.lanes&s?!0:(t=t.dependencies,!!(t!==null&&lf(t)))}function kT(t,s,a){switch(s.tag){case 3:Sd(s,s.stateNode.containerInfo),da(s,we,t.memoizedState.cache),Kc();break;case 27:case 5:Vg(s);break;case 4:Sd(s,s.stateNode.containerInfo);break;case 10:da(s,s.type,s.memoizedProps.value);break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(oa(s),s.flags|=128,null):a&s.child.childLanes?oA(t,s,a):(oa(s),t=hn(t,s,a),t!==null?t.sibling:null);oa(s);break;case 19:var h=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(lu(t,s,a,!1),r=(a&s.childLanes)!==0),h){if(r)return uA(t,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Zt(Te,Te.current),r)break;return null;case 22:case 23:return s.lanes=0,sA(t,s,a);case 24:da(s,we,t.memoizedState.cache)}return hn(t,s,a)}function hA(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)ke=!0;else{if(!sm(t,a)&&!(s.flags&128))return ke=!1,kT(t,s,a);ke=!!(t.flags&131072)}else ke=!1,Bt&&s.flags&1048576&&Qv(s,qd,s.index);switch(s.lanes=0,s.tag){case 16:t:{t=s.pendingProps;var r=s.elementType,h=r._init;if(r=h(r._payload),s.type=r,typeof r=="function")bm(r)?(t=_l(r,t),s.tag=1,s=lA(null,s,r,t,a)):(s.tag=0,s=Qp(null,s,r,t,a));else{if(r!=null){if(h=r.$$typeof,h===C){s.tag=11,s=tA(null,s,r,t,a);break t}else if(h===R){s.tag=14,s=eA(null,s,r,t,a);break t}}throw s=J(r)||r,Error(n(306,s,""))}}return s;case 0:return Qp(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,h=_l(r,s.pendingProps),lA(t,s,r,h,a);case 3:t:{if(Sd(s,s.stateNode.containerInfo),t===null)throw Error(n(387));var p=s.pendingProps;h=s.memoizedState,r=h.element,om(t,s),cu(s,p,null,a);var A=s.memoizedState;if(p=A.cache,da(s,we,p),p!==h.cache&&lm(s,[we],a,!0),ou(),p=A.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=rA(t,s,p,a);break t}else if(p!==r){r=Vi(Error(n(424)),s),Qc(r),s=rA(t,s,p,a);break t}else for(qe=ps(s.stateNode.containerInfo.firstChild),li=s,Bt=!0,fs=null,ks=!0,a=ny(s,null,p,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Kc(),p===r){s=hn(t,s,a);break t}Ge(t,s,p,a)}s=s.child}return s;case 26:return au(t,s),t===null?(a=gS(s.type,null,s.pendingProps,null))?s.memoizedState=a:Bt||(a=s.type,t=s.pendingProps,r=_f(sa.current).createElement(a),r[We]=s,r[pi]=t,je(r,a,t),Ne(r),s.stateNode=r):s.memoizedState=gS(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Vg(s),t===null&&Bt&&(r=s.stateNode=hS(s.type,s.pendingProps,sa.current),li=s,ks=!0,qe=ps(r.firstChild)),r=s.pendingProps.children,t!==null||Bt?Ge(t,s,r,a):s.child=bl(s,null,r,a),au(t,s),s.child;case 5:return t===null&&Bt&&((h=r=qe)&&(r=uw(r,s.type,s.pendingProps,ks),r!==null?(s.stateNode=r,li=s,qe=ps(r.firstChild),ks=!1,h=!0):h=!1),h||ml(s)),Vg(s),h=s.type,p=s.pendingProps,A=t!==null?t.memoizedProps:null,r=p.children,Gm(h,p)?r=null:A!==null&&Gm(h,A)&&(s.flags|=32),s.memoizedState!==null&&(h=Op(t,s,xT,null,null,a),Tu._currentValue=h),au(t,s),Ge(t,s,r,a),s.child;case 6:return t===null&&Bt&&((t=a=qe)&&(a=hw(a,s.pendingProps,ks),a!==null?(s.stateNode=a,li=s,qe=null,t=!0):t=!1),t||ml(s)),null;case 13:return oA(t,s,a);case 4:return Sd(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=bl(s,null,r,a):Ge(t,s,r,a),s.child;case 11:return tA(t,s,s.type,s.pendingProps,a);case 7:return Ge(t,s,s.pendingProps,a),s.child;case 8:return Ge(t,s,s.pendingProps.children,a),s.child;case 12:return Ge(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,da(s,s.type,r.value),Ge(t,s,r.children,a),s.child;case 9:return h=s.type._context,r=s.pendingProps.children,Tl(s),h=Ze(h),r=r(h),s.flags|=1,Ge(t,s,r,a),s.child;case 14:return eA(t,s,s.type,s.pendingProps,a);case 15:return iA(t,s,s.type,s.pendingProps,a);case 19:return uA(t,s,a);case 22:return sA(t,s,a);case 24:return Tl(s),r=Ze(we),t===null?(h=Rp(),h===null&&(h=$t,p=xp(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),s.memoizedState={parent:r,cache:h},rm(s),da(s,we,h)):(t.lanes&a&&(om(t,s),cu(s,null,null,a),ou()),h=t.memoizedState,p=s.memoizedState,h.parent!==r?(h={parent:r,cache:r},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),da(s,we,r)):(r=p.cache,da(s,we,r),r!==h.cache&&lm(s,[we],a,!0))),Ge(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}var nm=Nt(null),El=null,dn=null;function da(t,s,a){Zt(nm,s._currentValue),s._currentValue=a}function fn(t){t._currentValue=nm.current,ie(nm)}function am(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function lm(t,s,a,r){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var p=h.dependencies;if(p!==null){var A=h.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=h;for(var M=0;M<s.length;M++)if(w.context===s[M]){p.lanes|=a,w=p.alternate,w!==null&&(w.lanes|=a),am(p.return,a,t),r||(A=null);break t}p=w.next}}else if(h.tag===18){if(A=h.return,A===null)throw Error(n(341));A.lanes|=a,p=A.alternate,p!==null&&(p.lanes|=a),am(A,a,t),A=null}else A=h.child;if(A!==null)A.return=h;else for(A=h;A!==null;){if(A===t){A=null;break}if(h=A.sibling,h!==null){h.return=A.return,A=h;break}A=A.return}h=A}}function lu(t,s,a,r){t=null;for(var h=s,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var A=h.alternate;if(A===null)throw Error(n(387));if(A=A.memoizedProps,A!==null){var w=h.type;xi(h.pendingProps.value,A.value)||(t!==null?t.push(w):t=[w])}}else if(h===Ad.current){if(A=h.alternate,A===null)throw Error(n(387));A.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Tu):t=[Tu])}h=h.return}t!==null&&lm(s,t,a,r),s.flags|=262144}function lf(t){for(t=t.firstContext;t!==null;){if(!xi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Tl(t){El=t,dn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ze(t){return dA(El,t)}function rf(t,s){return El===null&&Tl(t),dA(t,s)}function dA(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},dn===null){if(t===null)throw Error(n(308));dn=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else dn=dn.next=s;return a}var fa=!1;function rm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function om(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ga(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function pa(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var h=r.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),r.pending=s,s=Pd(t),Vv(t,null,a),s}return Bd(t,r,s,a),Pd(t)}function ru(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194176)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,ev(t,a)}}function cm(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=A:p=p.next=A,a=a.next}while(a!==null);p===null?h=p=s:p=p.next=s}else h=p=s;a={baseState:r.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var um=!1;function ou(){if(um){var t=ao;if(t!==null)throw t}}function cu(t,s,a,r){um=!1;var h=t.updateQueue;fa=!1;var p=h.firstBaseUpdate,A=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var M=w,N=M.next;M.next=null,A===null?p=N:A.next=N,A=M;var G=t.alternate;G!==null&&(G=G.updateQueue,w=G.lastBaseUpdate,w!==A&&(w===null?G.firstBaseUpdate=N:w.next=N,G.lastBaseUpdate=M))}if(p!==null){var Y=h.baseState;A=0,G=N=M=null,w=p;do{var U=w.lane&-536870913,q=U!==w.lane;if(q?(Ut&U)===U:(r&U)===U){U!==0&&U===no&&(um=!0),G!==null&&(G=G.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var ot=t,mt=w;U=s;var fe=a;switch(mt.tag){case 1:if(ot=mt.payload,typeof ot=="function"){Y=ot.call(fe,Y,U);break t}Y=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=mt.payload,U=typeof ot=="function"?ot.call(fe,Y,U):ot,U==null)break t;Y=st({},Y,U);break t;case 2:fa=!0}}U=w.callback,U!==null&&(t.flags|=64,q&&(t.flags|=8192),q=h.callbacks,q===null?h.callbacks=[U]:q.push(U))}else q={lane:U,tag:w.tag,payload:w.payload,callback:w.callback,next:null},G===null?(N=G=q,M=Y):G=G.next=q,A|=U;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;q=w,w=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(M=Y),h.baseState=M,h.firstBaseUpdate=N,h.lastBaseUpdate=G,p===null&&(h.shared.lanes=0),Aa|=A,t.lanes=A,t.memoizedState=Y}}function fA(t,s){if(typeof t!="function")throw Error(n(191,t));t.call(s)}function gA(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fA(a[t],s)}function uu(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var h=r.next;a=h;do{if((a.tag&t)===t){r=void 0;var p=a.create,A=a.inst;r=p(),A.destroy=r}a=a.next}while(a!==h)}}catch(w){Wt(s,s.return,w)}}function ma(t,s,a){try{var r=s.updateQueue,h=r!==null?r.lastEffect:null;if(h!==null){var p=h.next;r=p;do{if((r.tag&t)===t){var A=r.inst,w=A.destroy;if(w!==void 0){A.destroy=void 0,h=s;var M=a;try{w()}catch(N){Wt(h,M,N)}}}r=r.next}while(r!==p)}}catch(N){Wt(s,s.return,N)}}function pA(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{gA(s,a)}catch(r){Wt(t,t.return,r)}}}function mA(t,s,a){a.props=_l(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Wt(t,s,r)}}function wl(t,s){try{var a=t.ref;if(a!==null){var r=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=r;break;default:h=r}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(p){Wt(t,s,p)}}function Mi(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(h){Wt(t,s,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Wt(t,s,h)}else a.current=null}function bA(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break t;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(h){Wt(t,t.return,h)}}function vA(t,s,a){try{var r=t.stateNode;aw(r,t.type,a,s),r[pi]=s}catch(h){Wt(t,t.return,h)}}function yA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hm(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||yA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dm(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(t,s):a.insertBefore(t,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(t,a)):(s=a,s.appendChild(t)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Sf));else if(r!==4&&r!==27&&(t=t.child,t!==null))for(dm(t,s,a),t=t.sibling;t!==null;)dm(t,s,a),t=t.sibling}function of(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&r!==27&&(t=t.child,t!==null))for(of(t,s,a),t=t.sibling;t!==null;)of(t,s,a),t=t.sibling}var gn=!1,he=!1,fm=!1,AA=typeof WeakSet=="function"?WeakSet:Set,ze=null,SA=!1;function zT(t,s){if(t=t.containerInfo,Im=Mf,t=Uv(t),pp(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var h=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var A=0,w=-1,M=-1,N=0,G=0,Y=t,U=null;e:for(;;){for(var q;Y!==a||h!==0&&Y.nodeType!==3||(w=A+h),Y!==p||r!==0&&Y.nodeType!==3||(M=A+r),Y.nodeType===3&&(A+=Y.nodeValue.length),(q=Y.firstChild)!==null;)U=Y,Y=q;for(;;){if(Y===t)break e;if(U===a&&++N===h&&(w=A),U===p&&++G===r&&(M=A),(q=Y.nextSibling)!==null)break;Y=U,U=Y.parentNode}Y=q}a=w===-1||M===-1?null:{start:w,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(qm={focusedElem:t,selectionRange:a},Mf=!1,ze=s;ze!==null;)if(s=ze,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ze=t;else for(;ze!==null;){switch(s=ze,p=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&p!==null){t=void 0,a=s,h=p.memoizedProps,p=p.memoizedState,r=a.stateNode;try{var ot=_l(a.type,h,a.elementType===a.type);t=r.getSnapshotBeforeUpdate(ot,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Wt(a,a.return,mt)}}break;case 3:if(t&1024){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)Ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(n(163))}if(t=s.sibling,t!==null){t.return=s.return,ze=t;break}ze=s.return}return ot=SA,SA=!1,ot}function _A(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:mn(t,a),r&4&&uu(5,a);break;case 1:if(mn(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(w){Wt(a,a.return,w)}else{var h=_l(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(h,s,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Wt(a,a.return,w)}}r&64&&pA(a),r&512&&wl(a,a.return);break;case 3:if(mn(t,a),r&64&&(r=a.updateQueue,r!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{gA(r,t)}catch(w){Wt(a,a.return,w)}}break;case 26:mn(t,a),r&512&&wl(a,a.return);break;case 27:case 5:mn(t,a),s===null&&r&4&&bA(a),r&512&&wl(a,a.return);break;case 12:mn(t,a);break;case 13:mn(t,a),r&4&&wA(t,a);break;case 22:if(h=a.memoizedState!==null||gn,!h){s=s!==null&&s.memoizedState!==null||he;var p=gn,A=he;gn=h,(he=s)&&!A?ba(t,a,(a.subtreeFlags&8772)!==0):mn(t,a),gn=p,he=A}r&512&&(a.memoizedProps.mode==="manual"?wl(a,a.return):Mi(a,a.return));break;default:mn(t,a)}}function EA(t){var s=t.alternate;s!==null&&(t.alternate=null,EA(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Jg(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ae=null,Ri=!1;function pn(t,s,a){for(a=a.child;a!==null;)TA(t,s,a),a=a.sibling}function TA(t,s,a){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(Nc,a)}catch{}switch(a.tag){case 26:he||Mi(a,s),pn(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||Mi(a,s);var r=Ae,h=Ri;for(Ae=a.stateNode,pn(t,s,a),a=a.stateNode,s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Jg(a),Ae=r,Ri=h;break;case 5:he||Mi(a,s);case 6:h=Ae;var p=Ri;if(Ae=null,pn(t,s,a),Ae=h,Ri=p,Ae!==null)if(Ri)try{t=Ae,r=a.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)}catch(A){Wt(a,s,A)}else try{Ae.removeChild(a.stateNode)}catch(A){Wt(a,s,A)}break;case 18:Ae!==null&&(Ri?(s=Ae,a=a.stateNode,s.nodeType===8?Xm(s.parentNode,a):s.nodeType===1&&Xm(s,a),Mu(s)):Xm(Ae,a.stateNode));break;case 4:r=Ae,h=Ri,Ae=a.stateNode.containerInfo,Ri=!0,pn(t,s,a),Ae=r,Ri=h;break;case 0:case 11:case 14:case 15:he||ma(2,a,s),he||ma(4,a,s),pn(t,s,a);break;case 1:he||(Mi(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&mA(a,s,r)),pn(t,s,a);break;case 21:pn(t,s,a);break;case 22:he||Mi(a,s),he=(r=he)||a.memoizedState!==null,pn(t,s,a),he=r;break;default:pn(t,s,a)}}function wA(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Mu(t)}catch(a){Wt(s,s.return,a)}}function HT(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new AA),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new AA),s;default:throw Error(n(435,t.tag))}}function gm(t,s){var a=HT(t);s.forEach(function(r){var h=QT.bind(null,t,r);a.has(r)||(a.add(r),r.then(h,h))})}function Zi(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var h=a[r],p=t,A=s,w=A;t:for(;w!==null;){switch(w.tag){case 27:case 5:Ae=w.stateNode,Ri=!1;break t;case 3:Ae=w.stateNode.containerInfo,Ri=!0;break t;case 4:Ae=w.stateNode.containerInfo,Ri=!0;break t}w=w.return}if(Ae===null)throw Error(n(160));TA(p,A,h),Ae=null,Ri=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)CA(s,t),s=s.sibling}var gs=null;function CA(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zi(s,t),$i(t),r&4&&(ma(3,t,t.return),uu(3,t),ma(5,t,t.return));break;case 1:Zi(s,t),$i(t),r&512&&(he||a===null||Mi(a,a.return)),r&64&&gn&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var h=gs;if(Zi(s,t),$i(t),r&512&&(he||a===null||Mi(a,a.return)),r&4){var p=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){t:{r=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(r){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Hc]||p[We]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(r),h.head.insertBefore(p,h.querySelector("head > title"))),je(p,r,a),p[We]=t,Ne(p),r=p;break t;case"link":var A=bS("link","href",h).get(r+(a.href||""));if(A){for(var w=0;w<A.length;w++)if(p=A[w],p.getAttribute("href")===(a.href==null?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(w,1);break e}}p=h.createElement(r),je(p,r,a),h.head.appendChild(p);break;case"meta":if(A=bS("meta","content",h).get(r+(a.content||""))){for(w=0;w<A.length;w++)if(p=A[w],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(w,1);break e}}p=h.createElement(r),je(p,r,a),h.head.appendChild(p);break;default:throw Error(n(468,r))}p[We]=t,Ne(p),r=p}t.stateNode=r}else vS(h,t.type,t.stateNode);else t.stateNode=mS(h,r,t.memoizedProps);else p!==r?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,r===null?vS(h,t.type,t.stateNode):mS(h,r,t.memoizedProps)):r===null&&t.stateNode!==null&&vA(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(r&4&&t.alternate===null){h=t.stateNode,p=t.memoizedProps;try{for(var M=h.firstChild;M;){var N=M.nextSibling,G=M.nodeName;M[Hc]||G==="HEAD"||G==="BODY"||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&M.rel.toLowerCase()==="stylesheet"||h.removeChild(M),M=N}for(var Y=t.type,U=h.attributes;U.length;)h.removeAttributeNode(U[0]);je(h,Y,p),h[We]=t,h[pi]=p}catch(ot){Wt(t,t.return,ot)}}case 5:if(Zi(s,t),$i(t),r&512&&(he||a===null||Mi(a,a.return)),t.flags&32){h=t.stateNode;try{Yr(h,"")}catch(ot){Wt(t,t.return,ot)}}r&4&&t.stateNode!=null&&(h=t.memoizedProps,vA(t,h,a!==null?a.memoizedProps:h)),r&1024&&(fm=!0);break;case 6:if(Zi(s,t),$i(t),r&4){if(t.stateNode===null)throw Error(n(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(ot){Wt(t,t.return,ot)}}break;case 3:if(wf=null,h=gs,gs=Ef(s.containerInfo),Zi(s,t),gs=h,$i(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Mu(s.containerInfo)}catch(ot){Wt(t,t.return,ot)}fm&&(fm=!1,xA(t));break;case 4:r=gs,gs=Ef(t.stateNode.containerInfo),Zi(s,t),$i(t),gs=r;break;case 12:Zi(s,t),$i(t);break;case 13:Zi(s,t),$i(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Em=Ns()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gm(t,r)));break;case 22:if(r&512&&(he||a===null||Mi(a,a.return)),M=t.memoizedState!==null,N=a!==null&&a.memoizedState!==null,G=gn,Y=he,gn=G||M,he=Y||N,Zi(s,t),he=Y,gn=G,$i(t),s=t.stateNode,s._current=t,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,r&8192&&(s._visibility=M?s._visibility&-2:s._visibility|1,M&&(s=gn||he,a===null||N||s||co(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,s=t;;){if(s.tag===5||s.tag===26||s.tag===27){if(a===null){N=a=s;try{if(h=N.stateNode,M)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{A=N.stateNode,w=N.memoizedProps.style;var q=w!=null&&w.hasOwnProperty("display")?w.display:null;A.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ot){Wt(N,N.return,ot)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=M?"":N.memoizedProps}catch(ot){Wt(N,N.return,ot)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break t;for(;s.sibling===null;){if(s.return===null||s.return===t)break t;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,gm(t,a))));break;case 19:Zi(s,t),$i(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,gm(t,r)));break;case 21:break;default:Zi(s,t),$i(t)}}function $i(t){var s=t.flags;if(s&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(yA(a)){var r=a;break t}a=a.return}throw Error(n(160))}switch(r.tag){case 27:var h=r.stateNode,p=hm(t);of(t,p,h);break;case 5:var A=r.stateNode;r.flags&32&&(Yr(A,""),r.flags&=-33);var w=hm(t);of(t,w,A);break;case 3:case 4:var M=r.stateNode.containerInfo,N=hm(t);dm(t,N,M);break;default:throw Error(n(161))}}}catch(G){Wt(t,t.return,G)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function xA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;xA(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function mn(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_A(t,s.alternate,s),s=s.sibling}function co(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:ma(4,s,s.return),co(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&mA(s,s.return,a),co(s);break;case 26:case 27:case 5:Mi(s,s.return),co(s);break;case 22:Mi(s,s.return),s.memoizedState===null&&co(s);break;default:co(s)}t=t.sibling}}function ba(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,h=t,p=s,A=p.flags;switch(p.tag){case 0:case 11:case 15:ba(h,p,a),uu(4,p);break;case 1:if(ba(h,p,a),r=p,h=r.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(N){Wt(r,r.return,N)}if(r=p,h=r.updateQueue,h!==null){var w=r.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)fA(M[h],w)}catch(N){Wt(r,r.return,N)}}a&&A&64&&pA(p),wl(p,p.return);break;case 26:case 27:case 5:ba(h,p,a),a&&r===null&&A&4&&bA(p),wl(p,p.return);break;case 12:ba(h,p,a);break;case 13:ba(h,p,a),a&&A&4&&wA(h,p);break;case 22:p.memoizedState===null&&ba(h,p,a),wl(p,p.return);break;default:ba(h,p,a)}s=s.sibling}}function pm(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tu(a))}function mm(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tu(t))}function va(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)MA(t,s,a,r),s=s.sibling}function MA(t,s,a,r){var h=s.flags;switch(s.tag){case 0:case 11:case 15:va(t,s,a,r),h&2048&&uu(9,s);break;case 3:va(t,s,a,r),h&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&tu(t)));break;case 12:if(h&2048){va(t,s,a,r),t=s.stateNode;try{var p=s.memoizedProps,A=p.id,w=p.onPostCommit;typeof w=="function"&&w(A,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){Wt(s,s.return,M)}}else va(t,s,a,r);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?va(t,s,a,r):hu(t,s):p._visibility&4?va(t,s,a,r):(p._visibility|=4,uo(t,s,a,r,(s.subtreeFlags&10256)!==0)),h&2048&&pm(s.alternate,s);break;case 24:va(t,s,a,r),h&2048&&mm(s.alternate,s);break;default:va(t,s,a,r)}}function uo(t,s,a,r,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=t,A=s,w=a,M=r,N=A.flags;switch(A.tag){case 0:case 11:case 15:uo(p,A,w,M,h),uu(8,A);break;case 23:break;case 22:var G=A.stateNode;A.memoizedState!==null?G._visibility&4?uo(p,A,w,M,h):hu(p,A):(G._visibility|=4,uo(p,A,w,M,h)),h&&N&2048&&pm(A.alternate,A);break;case 24:uo(p,A,w,M,h),h&&N&2048&&mm(A.alternate,A);break;default:uo(p,A,w,M,h)}s=s.sibling}}function hu(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,h=r.flags;switch(r.tag){case 22:hu(a,r),h&2048&&pm(r.alternate,r);break;case 24:hu(a,r),h&2048&&mm(r.alternate,r);break;default:hu(a,r)}s=s.sibling}}var du=8192;function ho(t){if(t.subtreeFlags&du)for(t=t.child;t!==null;)RA(t),t=t.sibling}function RA(t){switch(t.tag){case 26:ho(t),t.flags&du&&t.memoizedState!==null&&Tw(gs,t.memoizedState,t.memoizedProps);break;case 5:ho(t);break;case 3:case 4:var s=gs;gs=Ef(t.stateNode.containerInfo),ho(t),gs=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=du,du=16777216,ho(t),du=s):ho(t));break;default:ho(t)}}function DA(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function fu(t){var s=t.deletions;if(t.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ze=r,LA(r,t)}DA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)OA(t),t=t.sibling}function OA(t){switch(t.tag){case 0:case 11:case 15:fu(t),t.flags&2048&&ma(9,t,t.return);break;case 3:fu(t);break;case 12:fu(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&4&&(t.return===null||t.return.tag!==13)?(s._visibility&=-5,cf(t)):fu(t);break;default:fu(t)}}function cf(t){var s=t.deletions;if(t.flags&16){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];ze=r,LA(r,t)}DA(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:ma(8,s,s.return),cf(s);break;case 22:a=s.stateNode,a._visibility&4&&(a._visibility&=-5,cf(s));break;default:cf(s)}t=t.sibling}}function LA(t,s){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:ma(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:tu(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,ze=r;else t:for(a=t;ze!==null;){r=ze;var h=r.sibling,p=r.return;if(EA(r),r===a){ze=null;break t}if(h!==null){h.return=p,ze=h;break t}ze=p}}}function FT(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ji(t,s,a,r){return new FT(t,s,a,r)}function bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ya(t,s){var a=t.alternate;return a===null?(a=Ji(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function NA(t,s){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function uf(t,s,a,r,h,p){var A=0;if(r=t,typeof t=="function")bm(t)&&(A=1);else if(typeof t=="string")A=_w(t,a,Ls.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case f:return Cl(a.children,h,p,s);case g:A=8,h|=24;break;case m:return t=Ji(12,a,s,h|2),t.elementType=m,t.lanes=p,t;case x:return t=Ji(13,a,s,h),t.elementType=x,t.lanes=p,t;case O:return t=Ji(19,a,s,h),t.elementType=O,t.lanes=p,t;case F:return kA(a,h,p,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v:case E:A=10;break t;case y:A=9;break t;case C:A=11;break t;case R:A=14;break t;case z:A=16,r=null;break t}A=29,a=Error(n(130,t===null?"null":typeof t,"")),r=null}return s=Ji(A,a,s,h),s.elementType=t,s.type=r,s.lanes=p,s}function Cl(t,s,a,r){return t=Ji(7,t,r,s),t.lanes=a,t}function kA(t,s,a,r){t=Ji(22,t,r,s),t.elementType=F,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(n(456));if(!(h._pendingVisibility&2)){var A=ra(p,2);A!==null&&(h._pendingVisibility|=2,ri(A,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(n(456));if(h._pendingVisibility&2){var A=ra(p,2);A!==null&&(h._pendingVisibility&=-3,ri(A,p,2))}}};return t.stateNode=h,t}function vm(t,s,a){return t=Ji(6,t,null,s),t.lanes=a,t}function ym(t,s,a){return s=Ji(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function bn(t){t.flags|=4}function zA(t,s){if(s.type!=="stylesheet"||s.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!yS(s)){if(s=Wi.current,s!==null&&((Ut&4194176)===Ut?zs!==null:(Ut&62914560)!==Ut&&!(Ut&536870912)||s!==zs))throw Zc=Tp,$v;t.flags|=8192}}function hf(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?J0():536870912,t.lanes|=s,go|=s)}function gu(t,s){if(!Bt)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ne(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags&31457280,r|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,r|=h.subtreeFlags,r|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function UT(t,s,a){var r=s.pendingProps;switch(_p(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(s),null;case 1:return ne(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),fn(we),Pr(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Vc(s)?bn(s):t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,fs!==null&&(xm(fs),fs=null))),ne(s),null;case 26:return a=s.memoizedState,t===null?(bn(s),a!==null?(ne(s),zA(s,a)):(ne(s),s.flags&=-16777217)):a?a!==t.memoizedState?(bn(s),ne(s),zA(s,a)):(ne(s),s.flags&=-16777217):(t.memoizedProps!==r&&bn(s),ne(s),s.flags&=-16777217),null;case 27:_d(s),a=sa.current;var h=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==r&&bn(s);else{if(!r){if(s.stateNode===null)throw Error(n(166));return ne(s),null}t=Ls.current,Vc(s)?Wv(s):(t=hS(h,r,a),s.stateNode=t,bn(s))}return ne(s),null;case 5:if(_d(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&bn(s);else{if(!r){if(s.stateNode===null)throw Error(n(166));return ne(s),null}if(t=Ls.current,Vc(s))Wv(s);else{switch(h=_f(sa.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?h.createElement("select",{is:r.is}):h.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?h.createElement(a,{is:r.is}):h.createElement(a)}}t[We]=s,t[pi]=r;t:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break t;for(;h.sibling===null;){if(h.return===null||h.return===s)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=t;t:switch(je(t,a,r),a){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&bn(s)}}return ne(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&bn(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(n(166));if(t=sa.current,Vc(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,h=li,h!==null)switch(h.tag){case 27:case 5:r=h.memoizedProps}t[We]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||aS(t.nodeValue,a)),t||ml(s)}else t=_f(t).createTextNode(r),t[We]=s,s.stateNode=t}return ne(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Vc(s),r!==null&&r.dehydrated!==null){if(t===null){if(!h)throw Error(n(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));h[We]=s}else Kc(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;ne(s),h=!1}else fs!==null&&(xm(fs),fs=null),h=!0;if(!h)return s.flags&256?(cn(s),s):(cn(s),null)}if(cn(s),s.flags&128)return s.lanes=a,s;if(a=r!==null,t=t!==null&&t.memoizedState!==null,a){r=s.child,h=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(h=r.alternate.memoizedState.cachePool.pool);var p=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==h&&(r.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),hf(s,s.updateQueue),ne(s),null;case 4:return Pr(),t===null&&Um(s.stateNode.containerInfo),ne(s),null;case 10:return fn(s.type),ne(s),null;case 19:if(ie(Te),h=s.memoizedState,h===null)return ne(s),null;if(r=(s.flags&128)!==0,p=h.rendering,p===null)if(r)gu(h,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(p=Vd(t),p!==null){for(s.flags|=128,gu(h,!1),t=p.updateQueue,s.updateQueue=t,hf(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)NA(a,t),a=a.sibling;return Zt(Te,Te.current&1|2),s.child}t=t.sibling}h.tail!==null&&Ns()>df&&(s.flags|=128,r=!0,gu(h,!1),s.lanes=4194304)}else{if(!r)if(t=Vd(p),t!==null){if(s.flags|=128,r=!0,t=t.updateQueue,s.updateQueue=t,hf(s,t),gu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Bt)return ne(s),null}else 2*Ns()-h.renderingStartTime>df&&a!==536870912&&(s.flags|=128,r=!0,gu(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(t=h.last,t!==null?t.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Ns(),s.sibling=null,t=Te.current,Zt(Te,r?t&1|2:t&1),s):(ne(s),null);case 22:case 23:return cn(s),Cp(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?a&536870912&&!(s.flags&128)&&(ne(s),s.subtreeFlags&6&&(s.flags|=8192)):ne(s),a=s.updateQueue,a!==null&&hf(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&ie(vl),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),fn(we),ne(s),null;case 25:return null}throw Error(n(156,s.tag))}function BT(t,s){switch(_p(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return fn(we),Pr(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return _d(s),null;case 13:if(cn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Kc()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ie(Te),null;case 4:return Pr(),null;case 10:return fn(s.type),null;case 22:case 23:return cn(s),Cp(),t!==null&&ie(vl),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return fn(we),null;case 25:return null;default:return null}}function HA(t,s){switch(_p(s),s.tag){case 3:fn(we),Pr();break;case 26:case 27:case 5:_d(s);break;case 4:Pr();break;case 13:cn(s);break;case 19:ie(Te);break;case 10:fn(s.type);break;case 22:case 23:cn(s),Cp(),t!==null&&ie(vl);break;case 24:fn(we)}}var PT={getCacheForType:function(t){var s=Ze(we),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},IT=typeof WeakMap=="function"?WeakMap:Map,ae=0,$t=null,Lt=null,Ut=0,Jt=0,Di=null,vn=!1,fo=!1,Am=!1,yn=0,de=0,Aa=0,xl=0,Sm=0,ts=0,go=0,pu=null,Fs=null,_m=!1,Em=0,df=1/0,ff=null,Sa=null,gf=!1,Ml=null,mu=0,Tm=0,wm=null,bu=0,Cm=null;function Oi(){if(ae&2&&Ut!==0)return Ut&-Ut;if(V.T!==null){var t=no;return t!==0?t:km()}return sv()}function FA(){ts===0&&(ts=!(Ut&536870912)||Bt?$0():536870912);var t=Wi.current;return t!==null&&(t.flags|=32),ts}function ri(t,s,a){(t===$t&&Jt===2||t.cancelPendingCommit!==null)&&(po(t,0),An(t,Ut,ts,!1)),zc(t,a),(!(ae&2)||t!==$t)&&(t===$t&&(!(ae&2)&&(xl|=a),de===4&&An(t,Ut,ts,!1)),Us(t))}function UA(t,s,a){if(ae&6)throw Error(n(327));var r=!a&&(s&60)===0&&(s&t.expiredLanes)===0||kc(t,s),h=r?jT(t,s):Dm(t,s,!0),p=r;do{if(h===0){fo&&!r&&An(t,s,0,!1);break}else if(h===6)An(t,s,0,!vn);else{if(a=t.current.alternate,p&&!qT(a)){h=Dm(t,s,!1),p=!1;continue}if(h===2){if(p=s,t.errorRecoveryDisabledLanes&p)var A=0;else A=t.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;t:{var w=t;h=pu;var M=w.current.memoizedState.isDehydrated;if(M&&(po(w,A).flags|=256),A=Dm(w,A,!1),A!==2){if(Am&&!M){w.errorRecoveryDisabledLanes|=p,xl|=p,h=4;break t}p=Fs,Fs=h,p!==null&&xm(p)}h=A}if(p=!1,h!==2)continue}}if(h===1){po(t,0),An(t,s,0,!0);break}t:{switch(r=t,h){case 0:case 1:throw Error(n(345));case 4:if((s&4194176)===s){An(r,s,ts,!vn);break t}break;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(n(329))}if(r.finishedWork=a,r.finishedLanes=s,(s&62914560)===s&&(p=Em+300-Ns(),10<p)){if(An(r,s,ts,!vn),Cd(r,0)!==0)break t;r.timeoutHandle=oS(BA.bind(null,r,a,Fs,ff,_m,s,ts,xl,go,vn,2,-0,0),p);break t}BA(r,a,Fs,ff,_m,s,ts,xl,go,vn,0,-0,0)}}break}while(!0);Us(t)}function xm(t){Fs===null?Fs=t:Fs.push.apply(Fs,t)}function BA(t,s,a,r,h,p,A,w,M,N,G,Y,U){var q=s.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Eu={stylesheets:null,count:0,unsuspend:Ew},RA(s),s=ww(),s!==null)){t.cancelPendingCommit=s(YA.bind(null,t,a,r,h,A,w,M,1,Y,U)),An(t,p,A,!N);return}YA(t,a,r,h,A,w,M,G,Y,U)}function qT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var h=a[r],p=h.getSnapshot;h=h.value;try{if(!xi(p(),h))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function An(t,s,a,r){s&=~Sm,s&=~xl,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var h=s;0<h;){var p=31-Ci(h),A=1<<p;r[p]=-1,h&=~A}a!==0&&tv(t,a,s)}function pf(){return ae&6?!0:(vu(0),!1)}function Mm(){if(Lt!==null){if(Jt===0)var t=Lt.return;else t=Lt,dn=El=null,kp(t),io=null,$c=0,t=Lt;for(;t!==null;)HA(t.alternate,t),t=t.return;Lt=null}}function po(t,s){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Mm(),$t=t,Lt=a=ya(t.current,null),Ut=s,Jt=0,Di=null,vn=!1,fo=kc(t,s),Am=!1,go=ts=Sm=xl=Aa=de=0,Fs=pu=null,_m=!1,s&8&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var h=31-Ci(r),p=1<<h;s|=t[h],r&=~p}return yn=s,Ud(),a}function PA(t,s){xt=null,V.H=Hs,s===Wc?(s=ey(),Jt=3):s===$v?(s=ey(),Jt=4):Jt=s===Jy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Di=s,Lt===null&&(de=1,af(t,Vi(s,t.current)))}function IA(){var t=V.H;return V.H=Hs,t===null?Hs:t}function qA(){var t=V.A;return V.A=PT,t}function Rm(){de=4,vn||(Ut&4194176)!==Ut&&Wi.current!==null||(fo=!0),!(Aa&134217727)&&!(xl&134217727)||$t===null||An($t,Ut,ts,!1)}function Dm(t,s,a){var r=ae;ae|=2;var h=IA(),p=qA();($t!==t||Ut!==s)&&(ff=null,po(t,s)),s=!1;var A=de;t:do try{if(Jt!==0&&Lt!==null){var w=Lt,M=Di;switch(Jt){case 8:Mm(),A=6;break t;case 3:case 2:case 6:Wi.current===null&&(s=!0);var N=Jt;if(Jt=0,Di=null,mo(t,w,M,N),a&&fo){A=0;break t}break;default:N=Jt,Jt=0,Di=null,mo(t,w,M,N)}}GT(),A=de;break}catch(G){PA(t,G)}while(!0);return s&&t.shellSuspendCounter++,dn=El=null,ae=r,V.H=h,V.A=p,Lt===null&&($t=null,Ut=0,Ud()),A}function GT(){for(;Lt!==null;)GA(Lt)}function jT(t,s){var a=ae;ae|=2;var r=IA(),h=qA();$t!==t||Ut!==s?(ff=null,df=Ns()+500,po(t,s)):fo=kc(t,s);t:do try{if(Jt!==0&&Lt!==null){s=Lt;var p=Di;e:switch(Jt){case 1:Jt=0,Di=null,mo(t,s,p,1);break;case 2:if(Jv(p)){Jt=0,Di=null,jA(s);break}s=function(){Jt===2&&$t===t&&(Jt=7),Us(t)},p.then(s,s);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Jv(p)?(Jt=0,Di=null,jA(s)):(Jt=0,Di=null,mo(t,s,p,7));break;case 5:var A=null;switch(Lt.tag){case 26:A=Lt.memoizedState;case 5:case 27:var w=Lt;if(!A||yS(A)){Jt=0,Di=null;var M=w.sibling;if(M!==null)Lt=M;else{var N=w.return;N!==null?(Lt=N,mf(N)):Lt=null}break e}}Jt=0,Di=null,mo(t,s,p,5);break;case 6:Jt=0,Di=null,mo(t,s,p,6);break;case 8:Mm(),de=6;break t;default:throw Error(n(462))}}XT();break}catch(G){PA(t,G)}while(!0);return dn=El=null,V.H=r,V.A=h,ae=a,Lt!==null?0:($t=null,Ut=0,Ud(),de)}function XT(){for(;Lt!==null&&!f1();)GA(Lt)}function GA(t){var s=hA(t.alternate,t,yn);t.memoizedProps=t.pendingProps,s===null?mf(t):Lt=s}function jA(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=aA(a,s,s.pendingProps,s.type,void 0,Ut);break;case 11:s=aA(a,s,s.pendingProps,s.type.render,s.ref,Ut);break;case 5:kp(s);default:HA(a,s),s=Lt=NA(s,yn),s=hA(a,s,yn)}t.memoizedProps=t.pendingProps,s===null?mf(t):Lt=s}function mo(t,s,a,r){dn=El=null,kp(s),io=null,$c=0;var h=s.return;try{if(NT(t,h,s,a,Ut)){de=1,af(t,Vi(a,t.current)),Lt=null;return}}catch(p){if(h!==null)throw Lt=h,p;de=1,af(t,Vi(a,t.current)),Lt=null;return}s.flags&32768?(Bt||r===1?t=!0:fo||Ut&536870912?t=!1:(vn=t=!0,(r===2||r===3||r===6)&&(r=Wi.current,r!==null&&r.tag===13&&(r.flags|=16384))),XA(s,t)):mf(s)}function mf(t){var s=t;do{if(s.flags&32768){XA(s,vn);return}t=s.return;var a=UT(s.alternate,s,yn);if(a!==null){Lt=a;return}if(s=s.sibling,s!==null){Lt=s;return}Lt=s=t}while(s!==null);de===0&&(de=5)}function XA(t,s){do{var a=BT(t.alternate,t);if(a!==null){a.flags&=32767,Lt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=a}while(t!==null);de=6,Lt=null}function YA(t,s,a,r,h,p,A,w,M,N){var G=V.T,Y=et.p;try{et.p=2,V.T=null,YT(t,s,a,r,Y,h,p,A,w,M,N)}finally{V.T=G,et.p=Y}}function YT(t,s,a,r,h,p,A,w){do bo();while(Ml!==null);if(ae&6)throw Error(n(327));var M=t.finishedWork;if(r=t.finishedLanes,M===null)return null;if(t.finishedWork=null,t.finishedLanes=0,M===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var N=M.lanes|M.childLanes;if(N|=yp,T1(t,r,N,p,A,w),t===$t&&(Lt=$t=null,Ut=0),!(M.subtreeFlags&10256)&&!(M.flags&10256)||gf||(gf=!0,Tm=N,wm=a,WT(Ed,function(){return bo(),null})),a=(M.flags&15990)!==0,M.subtreeFlags&15990||a?(a=V.T,V.T=null,p=et.p,et.p=2,A=ae,ae|=4,zT(t,M),CA(M,t),mT(qm,t.containerInfo),Mf=!!Im,qm=Im=null,t.current=M,_A(t,M.alternate,M),g1(),ae=A,et.p=p,V.T=a):t.current=M,gf?(gf=!1,Ml=t,mu=r):VA(t,N),N=t.pendingLanes,N===0&&(Sa=null),y1(M.stateNode),Us(t),s!==null)for(h=t.onRecoverableError,M=0;M<s.length;M++)N=s[M],h(N.value,{componentStack:N.stack});return mu&3&&bo(),N=t.pendingLanes,r&4194218&&N&42?t===Cm?bu++:(bu=0,Cm=t):bu=0,vu(0),null}function VA(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,tu(s)))}function bo(){if(Ml!==null){var t=Ml,s=Tm;Tm=0;var a=iv(mu),r=V.T,h=et.p;try{if(et.p=32>a?32:a,V.T=null,Ml===null)var p=!1;else{a=wm,wm=null;var A=Ml,w=mu;if(Ml=null,mu=0,ae&6)throw Error(n(331));var M=ae;if(ae|=4,OA(A.current),MA(A,A.current,w,a),ae=M,vu(0,!1),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(Nc,A)}catch{}p=!0}return p}finally{et.p=h,V.T=r,VA(t,s)}}return!1}function KA(t,s,a){s=Vi(a,s),s=Kp(t.stateNode,s,2),t=pa(t,s,2),t!==null&&(zc(t,2),Us(t))}function Wt(t,s,a){if(t.tag===3)KA(t,t,a);else for(;s!==null;){if(s.tag===3){KA(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Sa===null||!Sa.has(r))){t=Vi(a,t),a=Zy(2),r=pa(s,a,2),r!==null&&($y(a,r,s,t),zc(r,2),Us(r));break}}s=s.return}}function Om(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new IT;var h=new Set;r.set(s,h)}else h=r.get(s),h===void 0&&(h=new Set,r.set(s,h));h.has(a)||(Am=!0,h.add(a),t=VT.bind(null,t,s,a),s.then(t,t))}function VT(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ut&a)===a&&(de===4||de===3&&(Ut&62914560)===Ut&&300>Ns()-Em?!(ae&2)&&po(t,0):Sm|=a,go===Ut&&(go=0)),Us(t)}function QA(t,s){s===0&&(s=J0()),t=ra(t,s),t!==null&&(zc(t,s),Us(t))}function KT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),QA(t,a)}function QT(t,s){var a=0;switch(t.tag){case 13:var r=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(n(314))}r!==null&&r.delete(s),QA(t,a)}function WT(t,s){return Qg(t,s)}var bf=null,vo=null,Lm=!1,vf=!1,Nm=!1,Rl=0;function Us(t){t!==vo&&t.next===null&&(vo===null?bf=vo=t:vo=vo.next=t),vf=!0,Lm||(Lm=!0,$T(ZT))}function vu(t,s){if(!Nm&&vf){Nm=!0;do for(var a=!1,r=bf;r!==null;){if(t!==0){var h=r.pendingLanes;if(h===0)var p=0;else{var A=r.suspendedLanes,w=r.pingedLanes;p=(1<<31-Ci(42|t)+1)-1,p&=h&~(A&~w),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(a=!0,$A(r,p))}else p=Ut,p=Cd(r,r===$t?p:0),!(p&3)||kc(r,p)||(a=!0,$A(r,p));r=r.next}while(a);Nm=!1}}function ZT(){vf=Lm=!1;var t=0;Rl!==0&&(lw()&&(t=Rl),Rl=0);for(var s=Ns(),a=null,r=bf;r!==null;){var h=r.next,p=WA(r,s);p===0?(r.next=null,a===null?bf=h:a.next=h,h===null&&(vo=a)):(a=r,(t!==0||p&3)&&(vf=!0)),r=h}vu(t)}function WA(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var A=31-Ci(p),w=1<<A,M=h[A];M===-1?(!(w&a)||w&r)&&(h[A]=E1(w,s)):M<=s&&(t.expiredLanes|=w),p&=~w}if(s=$t,a=Ut,a=Cd(t,t===s?a:0),r=t.callbackNode,a===0||t===s&&Jt===2||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Wg(r),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||kc(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&Wg(r),iv(a)){case 2:case 8:a=W0;break;case 32:a=Ed;break;case 268435456:a=Z0;break;default:a=Ed}return r=ZA.bind(null,t),a=Qg(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&Wg(r),t.callbackPriority=2,t.callbackNode=null,2}function ZA(t,s){var a=t.callbackNode;if(bo()&&t.callbackNode!==a)return null;var r=Ut;return r=Cd(t,t===$t?r:0),r===0?null:(UA(t,r,s),WA(t,Ns()),t.callbackNode!=null&&t.callbackNode===a?ZA.bind(null,t):null)}function $A(t,s){if(bo())return null;UA(t,s,!0)}function $T(t){ow(function(){ae&6?Qg(Q0,t):t()})}function km(){return Rl===0&&(Rl=$0()),Rl}function JA(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Od(""+t)}function tS(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function JT(t,s,a,r,h){if(s==="submit"&&a&&a.stateNode===h){var p=JA((h[pi]||null).action),A=r.submitter;A&&(s=(s=A[pi]||null)?JA(s.formAction):A.getAttribute("formAction"),s!==null&&(p=s,A=null));var w=new zd("action","action",null,r,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Rl!==0){var M=A?tS(h,A):new FormData(h);Gp(a,{pending:!0,data:M,method:h.method,action:p},null,M)}}else typeof p=="function"&&(w.preventDefault(),M=A?tS(h,A):new FormData(h),Gp(a,{pending:!0,data:M,method:h.method,action:p},p,M))},currentTarget:h}]})}}for(var zm=0;zm<Yv.length;zm++){var Hm=Yv[zm],tw=Hm.toLowerCase(),ew=Hm[0].toUpperCase()+Hm.slice(1);ds(tw,"on"+ew)}ds(Iv,"onAnimationEnd"),ds(qv,"onAnimationIteration"),ds(Gv,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(vT,"onTransitionRun"),ds(yT,"onTransitionStart"),ds(AT,"onTransitionCancel"),ds(jv,"onTransitionEnd"),jr("onMouseEnter",["mouseout","mouseover"]),jr("onMouseLeave",["mouseout","mouseover"]),jr("onPointerEnter",["pointerout","pointerover"]),jr("onPointerLeave",["pointerout","pointerover"]),ul("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ul("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ul("onBeforeInput",["compositionend","keypress","textInput","paste"]),ul("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ul("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ul("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yu));function eS(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],h=r.event;r=r.listeners;t:{var p=void 0;if(s)for(var A=r.length-1;0<=A;A--){var w=r[A],M=w.instance,N=w.currentTarget;if(w=w.listener,M!==p&&h.isPropagationStopped())break t;p=w,h.currentTarget=N;try{p(h)}catch(G){nf(G)}h.currentTarget=null,p=M}else for(A=0;A<r.length;A++){if(w=r[A],M=w.instance,N=w.currentTarget,w=w.listener,M!==p&&h.isPropagationStopped())break t;p=w,h.currentTarget=N;try{p(h)}catch(G){nf(G)}h.currentTarget=null,p=M}}}}function Ht(t,s){var a=s[$g];a===void 0&&(a=s[$g]=new Set);var r=t+"__bubble";a.has(r)||(iS(s,t,2,!1),a.add(r))}function Fm(t,s,a){var r=0;s&&(r|=4),iS(a,t,r,s)}var yf="_reactListening"+Math.random().toString(36).slice(2);function Um(t){if(!t[yf]){t[yf]=!0,av.forEach(function(a){a!=="selectionchange"&&(iw.has(a)||Fm(a,!1,t),Fm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yf]||(s[yf]=!0,Fm("selectionchange",!1,s))}}function iS(t,s,a,r){switch(wS(s)){case 2:var h=Mw;break;case 8:h=Rw;break;default:h=Zm}a=h.bind(null,s,a,t),h=void 0,!lp||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),r?h!==void 0?t.addEventListener(s,a,{capture:!0,passive:h}):t.addEventListener(s,a,!0):h!==void 0?t.addEventListener(s,a,{passive:h}):t.addEventListener(s,a,!1)}function Bm(t,s,a,r,h){var p=r;if(!(s&1)&&!(s&2)&&r!==null)t:for(;;){if(r===null)return;var A=r.tag;if(A===3||A===4){var w=r.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(A===4)for(A=r.return;A!==null;){var M=A.tag;if((M===3||M===4)&&(M=A.stateNode.containerInfo,M===h||M.nodeType===8&&M.parentNode===h))return;A=A.return}for(;w!==null;){if(A=cl(w),A===null)return;if(M=A.tag,M===5||M===6||M===26||M===27){r=p=A;continue t}w=w.parentNode}}r=r.return}bv(function(){var N=p,G=np(a),Y=[];t:{var U=Xv.get(t);if(U!==void 0){var q=zd,ot=t;switch(t){case"keypress":if(Nd(a)===0)break t;case"keydown":case"keyup":q=Q1;break;case"focusin":ot="focus",q=up;break;case"focusout":ot="blur",q=up;break;case"beforeblur":case"afterblur":q=up;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Av;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=F1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=$1;break;case Iv:case qv:case Gv:q=P1;break;case jv:q=tT;break;case"scroll":case"scrollend":q=z1;break;case"wheel":q=iT;break;case"copy":case"cut":case"paste":q=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=_v;break;case"toggle":case"beforetoggle":q=nT}var mt=(s&4)!==0,fe=!mt&&(t==="scroll"||t==="scrollend"),k=mt?U!==null?U+"Capture":null:U;mt=[];for(var L=N,H;L!==null;){var j=L;if(H=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||H===null||k===null||(j=Uc(L,k),j!=null&&mt.push(Au(L,j,H))),fe)break;L=L.return}0<mt.length&&(U=new q(U,ot,null,a,G),Y.push({event:U,listeners:mt}))}}if(!(s&7)){t:{if(U=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",U&&a!==sp&&(ot=a.relatedTarget||a.fromElement)&&(cl(ot)||ot[Ir]))break t;if((q||U)&&(U=G.window===G?G:(U=G.ownerDocument)?U.defaultView||U.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=N,ot=ot?cl(ot):null,ot!==null&&(fe=W(ot),mt=ot.tag,ot!==fe||mt!==5&&mt!==27&&mt!==6)&&(ot=null)):(q=null,ot=N),q!==ot)){if(mt=Av,j="onMouseLeave",k="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(mt=_v,j="onPointerLeave",k="onPointerEnter",L="pointer"),fe=q==null?U:Fc(q),H=ot==null?U:Fc(ot),U=new mt(j,L+"leave",q,a,G),U.target=fe,U.relatedTarget=H,j=null,cl(G)===N&&(mt=new mt(k,L+"enter",ot,a,G),mt.target=H,mt.relatedTarget=fe,j=mt),fe=j,q&&ot)e:{for(mt=q,k=ot,L=0,H=mt;H;H=yo(H))L++;for(H=0,j=k;j;j=yo(j))H++;for(;0<L-H;)mt=yo(mt),L--;for(;0<H-L;)k=yo(k),H--;for(;L--;){if(mt===k||k!==null&&mt===k.alternate)break e;mt=yo(mt),k=yo(k)}mt=null}else mt=null;q!==null&&sS(Y,U,q,mt,!1),ot!==null&&fe!==null&&sS(Y,fe,ot,mt,!0)}}t:{if(U=N?Fc(N):window,q=U.nodeName&&U.nodeName.toLowerCase(),q==="select"||q==="input"&&U.type==="file")var lt=Dv;else if(Mv(U))if(Ov)lt=gT;else{lt=dT;var Dt=hT}else q=U.nodeName,!q||q.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?N&&ip(N.elementType)&&(lt=Dv):lt=fT;if(lt&&(lt=lt(t,N))){Rv(Y,lt,a,G);break t}Dt&&Dt(t,U,N),t==="focusout"&&N&&U.type==="number"&&N.memoizedProps.value!=null&&ep(U,"number",U.value)}switch(Dt=N?Fc(N):window,t){case"focusin":(Mv(Dt)||Dt.contentEditable==="true")&&(Wr=Dt,mp=N,Yc=null);break;case"focusout":Yc=mp=Wr=null;break;case"mousedown":bp=!0;break;case"contextmenu":case"mouseup":case"dragend":bp=!1,Bv(Y,a,G);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Bv(Y,a,G)}var ut;if(dp)t:{switch(t){case"compositionstart":var ft="onCompositionStart";break t;case"compositionend":ft="onCompositionEnd";break t;case"compositionupdate":ft="onCompositionUpdate";break t}ft=void 0}else Qr?Cv(t,a)&&(ft="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ft="onCompositionStart");ft&&(Ev&&a.locale!=="ko"&&(Qr||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Qr&&(ut=vv()):(la=G,rp="value"in la?la.value:la.textContent,Qr=!0)),Dt=Af(N,ft),0<Dt.length&&(ft=new Sv(ft,t,null,a,G),Y.push({event:ft,listeners:Dt}),ut?ft.data=ut:(ut=xv(a),ut!==null&&(ft.data=ut)))),(ut=lT?rT(t,a):oT(t,a))&&(ft=Af(N,"onBeforeInput"),0<ft.length&&(Dt=new Sv("onBeforeInput","beforeinput",null,a,G),Y.push({event:Dt,listeners:ft}),Dt.data=ut)),JT(Y,t,N,a,G)}eS(Y,s)})}function Au(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Af(t,s){for(var a=s+"Capture",r=[];t!==null;){var h=t,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Uc(t,a),h!=null&&r.unshift(Au(t,h,p)),h=Uc(t,s),h!=null&&r.push(Au(t,h,p))),t=t.return}return r}function yo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sS(t,s,a,r,h){for(var p=s._reactName,A=[];a!==null&&a!==r;){var w=a,M=w.alternate,N=w.stateNode;if(w=w.tag,M!==null&&M===r)break;w!==5&&w!==26&&w!==27||N===null||(M=N,h?(N=Uc(a,p),N!=null&&A.unshift(Au(a,N,M))):h||(N=Uc(a,p),N!=null&&A.push(Au(a,N,M)))),a=a.return}A.length!==0&&t.push({event:s,listeners:A})}var sw=/\r\n?/g,nw=/\u0000|\uFFFD/g;function nS(t){return(typeof t=="string"?t:""+t).replace(sw,`
`).replace(nw,"")}function aS(t,s){return s=nS(s),nS(t)===s}function Sf(){}function Vt(t,s,a,r,h,p){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||Yr(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&Yr(t,""+r);break;case"className":Md(t,"class",r);break;case"tabIndex":Md(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Md(t,a,r);break;case"style":pv(t,r,p);break;case"data":if(s!=="object"){Md(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Od(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(s!=="input"&&Vt(t,s,"name",h.name,h,null),Vt(t,s,"formEncType",h.formEncType,h,null),Vt(t,s,"formMethod",h.formMethod,h,null),Vt(t,s,"formTarget",h.formTarget,h,null)):(Vt(t,s,"encType",h.encType,h,null),Vt(t,s,"method",h.method,h,null),Vt(t,s,"target",h.target,h,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Od(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=Sf);break;case"onScroll":r!=null&&Ht("scroll",t);break;case"onScrollEnd":r!=null&&Ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(n(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(n(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Od(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ht("beforetoggle",t),Ht("toggle",t),xd(t,"popover",r);break;case"xlinkActuate":ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ln(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ln(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ln(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ln(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xd(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=N1.get(a)||a,xd(t,a,r))}}function Pm(t,s,a,r,h,p){switch(a){case"style":pv(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(n(61));if(a=r.__html,a!=null){if(h.children!=null)throw Error(n(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Yr(t,r):(typeof r=="number"||typeof r=="bigint")&&Yr(t,""+r);break;case"onScroll":r!=null&&Ht("scroll",t);break;case"onScrollEnd":r!=null&&Ht("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Sf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lv.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),s=a.slice(2,h?a.length-7:void 0),p=t[pi]||null,p=p!=null?p[a]:null,typeof p=="function"&&t.removeEventListener(s,p,h),typeof r=="function")){typeof p!="function"&&p!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,h);break t}a in t?t[a]=r:r===!0?t.setAttribute(a,""):xd(t,a,r)}}}function je(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",t),Ht("load",t);var r=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var A=a[p];if(A!=null)switch(p){case"src":r=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Vt(t,s,p,A,a,null)}}h&&Vt(t,s,"srcSet",a.srcSet,a,null),r&&Vt(t,s,"src",a.src,a,null);return;case"input":Ht("invalid",t);var w=p=A=h=null,M=null,N=null;for(r in a)if(a.hasOwnProperty(r)){var G=a[r];if(G!=null)switch(r){case"name":h=G;break;case"type":A=G;break;case"checked":M=G;break;case"defaultChecked":N=G;break;case"value":p=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(137,s));break;default:Vt(t,s,r,G,a,null)}}hv(t,p,w,M,N,A,h,!1),Rd(t);return;case"select":Ht("invalid",t),r=A=p=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":A=w;break;case"multiple":r=w;default:Vt(t,s,h,w,a,null)}s=p,a=A,t.multiple=!!r,s!=null?Xr(t,!!r,s,!1):a!=null&&Xr(t,!!r,a,!0);return;case"textarea":Ht("invalid",t),p=h=r=null;for(A in a)if(a.hasOwnProperty(A)&&(w=a[A],w!=null))switch(A){case"value":r=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(n(91));break;default:Vt(t,s,A,w,a,null)}fv(t,r,h,p),Rd(t);return;case"option":for(M in a)if(a.hasOwnProperty(M)&&(r=a[M],r!=null))switch(M){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Vt(t,s,M,r,a,null)}return;case"dialog":Ht("cancel",t),Ht("close",t);break;case"iframe":case"object":Ht("load",t);break;case"video":case"audio":for(r=0;r<yu.length;r++)Ht(yu[r],t);break;case"image":Ht("error",t),Ht("load",t);break;case"details":Ht("toggle",t);break;case"embed":case"source":case"link":Ht("error",t),Ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in a)if(a.hasOwnProperty(N)&&(r=a[N],r!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:Vt(t,s,N,r,a,null)}return;default:if(ip(s)){for(G in a)a.hasOwnProperty(G)&&(r=a[G],r!==void 0&&Pm(t,s,G,r,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(r=a[w],r!=null&&Vt(t,s,w,r,a,null))}function aw(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,A=null,w=null,M=null,N=null,G=null;for(q in a){var Y=a[q];if(a.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":M=Y;default:r.hasOwnProperty(q)||Vt(t,s,q,null,r,Y)}}for(var U in r){var q=r[U];if(Y=a[U],r.hasOwnProperty(U)&&(q!=null||Y!=null))switch(U){case"type":p=q;break;case"name":h=q;break;case"checked":N=q;break;case"defaultChecked":G=q;break;case"value":A=q;break;case"defaultValue":w=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(n(137,s));break;default:q!==Y&&Vt(t,s,U,q,r,Y)}}tp(t,A,w,M,N,G,p,h);return;case"select":q=A=w=U=null;for(p in a)if(M=a[p],a.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":q=M;default:r.hasOwnProperty(p)||Vt(t,s,p,null,r,M)}for(h in r)if(p=r[h],M=a[h],r.hasOwnProperty(h)&&(p!=null||M!=null))switch(h){case"value":U=p;break;case"defaultValue":w=p;break;case"multiple":A=p;default:p!==M&&Vt(t,s,h,p,r,M)}s=w,a=A,r=q,U!=null?Xr(t,!!a,U,!1):!!r!=!!a&&(s!=null?Xr(t,!!a,s,!0):Xr(t,!!a,a?[]:"",!1));return;case"textarea":q=U=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Vt(t,s,w,null,r,h)}for(A in r)if(h=r[A],p=a[A],r.hasOwnProperty(A)&&(h!=null||p!=null))switch(A){case"value":U=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(n(91));break;default:h!==p&&Vt(t,s,A,h,r,p)}dv(t,U,q);return;case"option":for(var ot in a)if(U=a[ot],a.hasOwnProperty(ot)&&U!=null&&!r.hasOwnProperty(ot))switch(ot){case"selected":t.selected=!1;break;default:Vt(t,s,ot,null,r,U)}for(M in r)if(U=r[M],q=a[M],r.hasOwnProperty(M)&&U!==q&&(U!=null||q!=null))switch(M){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Vt(t,s,M,U,r,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)U=a[mt],a.hasOwnProperty(mt)&&U!=null&&!r.hasOwnProperty(mt)&&Vt(t,s,mt,null,r,U);for(N in r)if(U=r[N],q=a[N],r.hasOwnProperty(N)&&U!==q&&(U!=null||q!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(n(137,s));break;default:Vt(t,s,N,U,r,q)}return;default:if(ip(s)){for(var fe in a)U=a[fe],a.hasOwnProperty(fe)&&U!==void 0&&!r.hasOwnProperty(fe)&&Pm(t,s,fe,void 0,r,U);for(G in r)U=r[G],q=a[G],!r.hasOwnProperty(G)||U===q||U===void 0&&q===void 0||Pm(t,s,G,U,r,q);return}}for(var k in a)U=a[k],a.hasOwnProperty(k)&&U!=null&&!r.hasOwnProperty(k)&&Vt(t,s,k,null,r,U);for(Y in r)U=r[Y],q=a[Y],!r.hasOwnProperty(Y)||U===q||U==null&&q==null||Vt(t,s,Y,U,r,q)}var Im=null,qm=null;function _f(t){return t.nodeType===9?t:t.ownerDocument}function lS(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rS(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function Gm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var jm=null;function lw(){var t=window.event;return t&&t.type==="popstate"?t===jm?!1:(jm=t,!0):(jm=null,!1)}var oS=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,cS=typeof Promise=="function"?Promise:void 0,ow=typeof queueMicrotask=="function"?queueMicrotask:typeof cS<"u"?function(t){return cS.resolve(null).then(t).catch(cw)}:oS;function cw(t){setTimeout(function(){throw t})}function Xm(t,s){var a=s,r=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(r===0){t.removeChild(h),Mu(s);return}r--}else a!=="$"&&a!=="$?"&&a!=="$!"||r++;a=h}while(a);Mu(s)}function Ym(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ym(a),Jg(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function uw(t,s,a,r){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Hc])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ps(t.nextSibling),t===null)break}return null}function hw(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ps(t.nextSibling),t===null))return null;return t}function ps(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}function uS(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function hS(t,s,a){switch(s=_f(a),t){case"html":if(t=s.documentElement,!t)throw Error(n(452));return t;case"head":if(t=s.head,!t)throw Error(n(453));return t;case"body":if(t=s.body,!t)throw Error(n(454));return t;default:throw Error(n(451))}}var es=new Map,dS=new Set;function Ef(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Sn=et.d;et.d={f:dw,r:fw,D:gw,C:pw,L:mw,m:bw,X:yw,S:vw,M:Aw};function dw(){var t=Sn.f(),s=pf();return t||s}function fw(t){var s=qr(t);s!==null&&s.tag===5&&s.type==="form"?By(s):Sn.r(t)}var Ao=typeof document>"u"?null:document;function fS(t,s,a){var r=Ao;if(r&&typeof s=="string"&&s){var h=Xi(s);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dS.has(h)||(dS.add(h),t={rel:t,crossOrigin:a,href:s},r.querySelector(h)===null&&(s=r.createElement("link"),je(s,"link",t),Ne(s),r.head.appendChild(s)))}}function gw(t){Sn.D(t),fS("dns-prefetch",t,null)}function pw(t,s){Sn.C(t,s),fS("preconnect",t,s)}function mw(t,s,a){Sn.L(t,s,a);var r=Ao;if(r&&t&&s){var h='link[rel="preload"][as="'+Xi(s)+'"]';s==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Xi(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Xi(a.imageSizes)+'"]')):h+='[href="'+Xi(t)+'"]';var p=h;switch(s){case"style":p=So(t);break;case"script":p=_o(t)}es.has(p)||(t=st({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),es.set(p,t),r.querySelector(h)!==null||s==="style"&&r.querySelector(Su(p))||s==="script"&&r.querySelector(_u(p))||(s=r.createElement("link"),je(s,"link",t),Ne(s),r.head.appendChild(s)))}}function bw(t,s){Sn.m(t,s);var a=Ao;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Xi(r)+'"][href="'+Xi(t)+'"]',p=h;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_o(t)}if(!es.has(p)&&(t=st({rel:"modulepreload",href:t},s),es.set(p,t),a.querySelector(h)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(_u(p)))return}r=a.createElement("link"),je(r,"link",t),Ne(r),a.head.appendChild(r)}}}function vw(t,s,a){Sn.S(t,s,a);var r=Ao;if(r&&t){var h=Gr(r).hoistableStyles,p=So(t);s=s||"default";var A=h.get(p);if(!A){var w={loading:0,preload:null};if(A=r.querySelector(Su(p)))w.loading=5;else{t=st({rel:"stylesheet",href:t,"data-precedence":s},a),(a=es.get(p))&&Vm(t,a);var M=A=r.createElement("link");Ne(M),je(M,"link",t),M._p=new Promise(function(N,G){M.onload=N,M.onerror=G}),M.addEventListener("load",function(){w.loading|=1}),M.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Tf(A,s,r)}A={type:"stylesheet",instance:A,count:1,state:w},h.set(p,A)}}}function yw(t,s){Sn.X(t,s);var a=Ao;if(a&&t){var r=Gr(a).hoistableScripts,h=_o(t),p=r.get(h);p||(p=a.querySelector(_u(h)),p||(t=st({src:t,async:!0},s),(s=es.get(h))&&Km(t,s),p=a.createElement("script"),Ne(p),je(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(h,p))}}function Aw(t,s){Sn.M(t,s);var a=Ao;if(a&&t){var r=Gr(a).hoistableScripts,h=_o(t),p=r.get(h);p||(p=a.querySelector(_u(h)),p||(t=st({src:t,async:!0,type:"module"},s),(s=es.get(h))&&Km(t,s),p=a.createElement("script"),Ne(p),je(p,"link",t),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(h,p))}}function gS(t,s,a,r){var h=(h=sa.current)?Ef(h):null;if(!h)throw Error(n(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=So(a.href),a=Gr(h).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var p=Gr(h).hoistableStyles,A=p.get(t);if(A||(h=h.ownerDocument||h,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,A),(p=h.querySelector(Su(t)))&&!p._p&&(A.instance=p,A.state.loading=5),es.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},es.set(t,a),p||Sw(h,t,a,A.state))),s&&r===null)throw Error(n(528,""));return A}if(s&&r!==null)throw Error(n(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(a),a=Gr(h).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,t))}}function So(t){return'href="'+Xi(t)+'"'}function Su(t){return'link[rel="stylesheet"]['+t+"]"}function pS(t){return st({},t,{"data-precedence":t.precedence,precedence:null})}function Sw(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),je(s,"link",a),Ne(s),t.head.appendChild(s))}function _o(t){return'[src="'+Xi(t)+'"]'}function _u(t){return"script[async]"+t}function mS(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+Xi(a.href)+'"]');if(r)return s.instance=r,Ne(r),r;var h=st({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ne(r),je(r,"style",h),Tf(r,a.precedence,t),s.instance=r;case"stylesheet":h=So(a.href);var p=t.querySelector(Su(h));if(p)return s.state.loading|=4,s.instance=p,Ne(p),p;r=pS(a),(h=es.get(h))&&Vm(r,h),p=(t.ownerDocument||t).createElement("link"),Ne(p);var A=p;return A._p=new Promise(function(w,M){A.onload=w,A.onerror=M}),je(p,"link",r),s.state.loading|=4,Tf(p,a.precedence,t),s.instance=p;case"script":return p=_o(a.src),(h=t.querySelector(_u(p)))?(s.instance=h,Ne(h),h):(r=a,(h=es.get(p))&&(r=st({},a),Km(r,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ne(h),je(h,"link",r),t.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(r=s.instance,s.state.loading|=4,Tf(r,a.precedence,t));return s.instance}function Tf(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=r.length?r[r.length-1]:null,p=h,A=0;A<r.length;A++){var w=r[A];if(w.dataset.precedence===s)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(t,p.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function Vm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function Km(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var wf=null;function bS(t,s,a){if(wf===null){var r=new Map,h=wf=new Map;h.set(a,r)}else h=wf,r=h.get(a),r||(r=new Map,h.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var p=a[h];if(!(p[Hc]||p[We]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var A=p.getAttribute(s)||"";A=t+A;var w=r.get(A);w?w.push(p):r.set(A,[p])}}return r}function vS(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function _w(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Eu=null;function Ew(){}function Tw(t,s,a){if(Eu===null)throw Error(n(475));var r=Eu;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var h=So(a.href),p=t.querySelector(Su(h));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Cf.bind(r),t.then(r,r)),s.state.loading|=4,s.instance=p,Ne(p);return}p=t.ownerDocument||t,a=pS(a),(h=es.get(h))&&Vm(a,h),p=p.createElement("link"),Ne(p);var A=p;A._p=new Promise(function(w,M){A.onload=w,A.onerror=M}),je(p,"link",a),s.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(s,t),(t=s.state.preload)&&!(s.state.loading&3)&&(r.count++,s=Cf.bind(r),t.addEventListener("load",s),t.addEventListener("error",s))}}function ww(){if(Eu===null)throw Error(n(475));var t=Eu;return t.stylesheets&&t.count===0&&Qm(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&Qm(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cf(){if(this.count--,this.count===0){if(this.stylesheets)Qm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xf=null;function Qm(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xf=new Map,s.forEach(Cw,t),xf=null,Cf.call(t))}function Cw(t,s){if(!(s.state.loading&4)){var a=xf.get(t);if(a)var r=a.get(null);else{a=new Map,xf.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var A=h[p];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),r=A)}r&&a.set(null,r)}h=s.instance,A=h.getAttribute("data-precedence"),p=a.get(A)||r,p===r&&a.set(null,h),a.set(A,h),this.count++,r=Cf.bind(this),h.addEventListener("load",r),h.addEventListener("error",r),p?p.parentNode.insertBefore(h,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),s.state.loading|=4}}var Tu={$$typeof:E,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function xw(t,s,a,r,h,p,A,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zg(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zg(0),this.hiddenUpdates=Zg(null),this.identifierPrefix=r,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function AS(t,s,a,r,h,p,A,w,M,N,G,Y){return t=new xw(t,s,a,A,w,M,N,Y),s=1,p===!0&&(s|=24),p=Ji(3,null,null,s),t.current=p,p.stateNode=t,s=xp(),s.refCount++,t.pooledCache=s,s.refCount++,p.memoizedState={element:r,isDehydrated:a,cache:s},rm(p),t}function SS(t){return t?(t=Jr,t):Jr}function _S(t,s,a,r,h,p){h=SS(h),r.context===null?r.context=h:r.pendingContext=h,r=ga(s),r.payload={element:a},p=p===void 0?null:p,p!==null&&(r.callback=p),a=pa(t,r,s),a!==null&&(ri(a,t,s),ru(a,t,s))}function ES(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Wm(t,s){ES(t,s),(t=t.alternate)&&ES(t,s)}function TS(t){if(t.tag===13){var s=ra(t,67108864);s!==null&&ri(s,t,67108864),Wm(t,67108864)}}var Mf=!0;function Mw(t,s,a,r){var h=V.T;V.T=null;var p=et.p;try{et.p=2,Zm(t,s,a,r)}finally{et.p=p,V.T=h}}function Rw(t,s,a,r){var h=V.T;V.T=null;var p=et.p;try{et.p=8,Zm(t,s,a,r)}finally{et.p=p,V.T=h}}function Zm(t,s,a,r){if(Mf){var h=$m(r);if(h===null)Bm(t,s,r,Rf,a),CS(t,r);else if(Ow(h,t,s,a,r))r.stopPropagation();else if(CS(t,r),s&4&&-1<Dw.indexOf(t)){for(;h!==null;){var p=qr(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var A=ol(p.pendingLanes);if(A!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;A;){var M=1<<31-Ci(A);w.entanglements[1]|=M,A&=~M}Us(p),!(ae&6)&&(df=Ns()+500,vu(0))}}break;case 13:w=ra(p,2),w!==null&&ri(w,p,2),pf(),Wm(p,2)}if(p=$m(r),p===null&&Bm(t,s,r,Rf,a),p===h)break;h=p}h!==null&&r.stopPropagation()}else Bm(t,s,r,null,a)}}function $m(t){return t=np(t),Jm(t)}var Rf=null;function Jm(t){if(Rf=null,t=cl(t),t!==null){var s=W(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=zt(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Rf=t,null}function wS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(p1()){case Q0:return 2;case W0:return 8;case Ed:case m1:return 32;case Z0:return 268435456;default:return 32}default:return 32}}var tb=!1,_a=null,Ea=null,Ta=null,wu=new Map,Cu=new Map,wa=[],Dw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function CS(t,s){switch(t){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":Ea=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":wu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function xu(t,s,a,r,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:p,targetContainers:[h]},s!==null&&(s=qr(s),s!==null&&TS(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),t)}function Ow(t,s,a,r,h){switch(s){case"focusin":return _a=xu(_a,t,s,a,r,h),!0;case"dragenter":return Ea=xu(Ea,t,s,a,r,h),!0;case"mouseover":return Ta=xu(Ta,t,s,a,r,h),!0;case"pointerover":var p=h.pointerId;return wu.set(p,xu(wu.get(p)||null,t,s,a,r,h)),!0;case"gotpointercapture":return p=h.pointerId,Cu.set(p,xu(Cu.get(p)||null,t,s,a,r,h)),!0}return!1}function xS(t){var s=cl(t.target);if(s!==null){var a=W(s);if(a!==null){if(s=a.tag,s===13){if(s=zt(a),s!==null){t.blockedOn=s,w1(t.priority,function(){if(a.tag===13){var r=Oi(),h=ra(a,r);h!==null&&ri(h,a,r),Wm(a,r)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Df(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=$m(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);sp=r,a.target.dispatchEvent(r),sp=null}else return s=qr(a),s!==null&&TS(s),t.blockedOn=a,!1;s.shift()}return!0}function MS(t,s,a){Df(t)&&a.delete(s)}function Lw(){tb=!1,_a!==null&&Df(_a)&&(_a=null),Ea!==null&&Df(Ea)&&(Ea=null),Ta!==null&&Df(Ta)&&(Ta=null),wu.forEach(MS),Cu.forEach(MS)}function Of(t,s){t.blockedOn===s&&(t.blockedOn=null,tb||(tb=!0,b.unstable_scheduleCallback(b.unstable_NormalPriority,Lw)))}var Lf=null;function RS(t){Lf!==t&&(Lf=t,b.unstable_scheduleCallback(b.unstable_NormalPriority,function(){Lf===t&&(Lf=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],h=t[s+2];if(typeof r!="function"){if(Jm(r||a)===null)continue;break}var p=qr(a);p!==null&&(t.splice(s,3),s-=3,Gp(p,{pending:!0,data:h,method:a.method,action:r},r,h))}}))}function Mu(t){function s(M){return Of(M,t)}_a!==null&&Of(_a,t),Ea!==null&&Of(Ea,t),Ta!==null&&Of(Ta,t),wu.forEach(s),Cu.forEach(s);for(var a=0;a<wa.length;a++){var r=wa[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<wa.length&&(a=wa[0],a.blockedOn===null);)xS(a),a.blockedOn===null&&wa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var h=a[r],p=a[r+1],A=h[pi]||null;if(typeof p=="function")A||RS(a);else if(A){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,A=p[pi]||null)w=A.formAction;else if(Jm(h)!==null)continue}else w=A.action;typeof w=="function"?a[r+1]=w:(a.splice(r,3),r-=3),RS(a)}}}function eb(t){this._internalRoot=t}Nf.prototype.render=eb.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(n(409));var a=s.current,r=Oi();_S(a,r,t,s,null,null)},Nf.prototype.unmount=eb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;t.tag===0&&bo(),_S(t.current,2,null,t,null,null),pf(),s[Ir]=null}};function Nf(t){this._internalRoot=t}Nf.prototype.unstable_scheduleHydration=function(t){if(t){var s=sv();t={blockedOn:null,target:t,priority:s};for(var a=0;a<wa.length&&s!==0&&s<wa[a].priority;a++);wa.splice(a,0,t),a===0&&xS(t)}};var DS=e.version;if(DS!=="19.0.0")throw Error(n(527,DS,"19.0.0"));et.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=X(s),t=t!==null?at(t):null,t=t===null?null:t.stateNode,t};var Nw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:V,findFiberByHostInstance:cl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kf.isDisabled&&kf.supportsFiber)try{Nc=kf.inject(Nw),wi=kf}catch{}}return Nu.createRoot=function(t,s){if(!l(t))throw Error(n(299));var a=!1,r="",h=Vy,p=Ky,A=Qy,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=AS(t,1,!1,null,null,a,r,h,p,A,w,null),t[Ir]=s.current,Um(t.nodeType===8?t.parentNode:t),new eb(s)},Nu.hydrateRoot=function(t,s,a){if(!l(t))throw Error(n(299));var r=!1,h="",p=Vy,A=Ky,w=Qy,M=null,N=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(M=a.unstable_transitionCallbacks),a.formState!==void 0&&(N=a.formState)),s=AS(t,1,!0,s,a??null,r,h,p,A,w,M,N),s.context=SS(null),a=s.current,r=Oi(),h=ga(r),h.callback=null,pa(a,h,r),s.current.lanes=r,zc(s,r),Us(s),t[Ir]=s.current,Um(t),new Nf(s)},Nu.version="19.0.0",Nu}var r_;function fM(){if(r_)return hb.exports;r_=1;function b(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b)}catch(e){console.error(e)}}return b(),hb.exports=dM(),hb.exports}var gM=fM();gM.createRoot(document.getElementById("root")).render(ue.jsx(Wu.StrictMode,{children:ue.jsx(rM,{})}));
