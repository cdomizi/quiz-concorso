import{u as j,j as t,f as C,a as y,b as v,Q as u}from"./index-DtKb0JG4.js";import{u as N}from"./useRedirect-De2SJ48s.js";function P({index:n,onClick:c}){const{quizState:{questions:r,submitted:l}}=j(),s=C(n),a=r[n].answer,o=r[n].selectedAnswer,i={answered:"answered",correct:"correct",wrong:"wrong"};function d(){return l?o===a?i.correct:i.wrong:o?i.answered:""}return t.jsx("button",{className:`dashboard-question-button ${d()}`,type:"button",onClick:()=>void c(n),children:s.toString()})}function Q(){const n=y(),c=v(),{quizState:{filePath:r,title:l,questions:s,submitted:a},dispatch:o}=j(),i=N({destination:"/",condition:!r});i&&i();async function d(e){o({type:u.setStep,payload:e}),await c({to:"/quiz"})}function p(){o({type:u.setSubmitted})}async function w(){o({type:u.eraseState}),await n.invalidate(),await c({to:"/"})}const h=(s==null?void 0:s.length)||50,m=(s==null?void 0:s.filter(e=>e.selectedAnswer===e.answer).length)||0,g=h*2,x=m*2,b=x>=70,S=b?"Superato":"Fallito",f=`${m.toString()} / ${h.toString()}`;return t.jsxs("div",{children:[t.jsx("h1",{children:l}),t.jsx("p",{children:"Concorso ordinario 2023 - Scuola secondaria di primo e secondo grado"}),t.jsx("p",{children:"Classe di concorso 2575"}),a&&t.jsxs("div",{children:[t.jsx("hr",{}),t.jsxs("h2",{className:b?"success":"wrong",children:["Test ",S]}),t.jsx("p",{children:t.jsxs("b",{children:["Punteggio: ",x," / ",g]})}),t.jsxs("p",{children:["Risposte esatte: ",f]})]}),t.jsx("button",{type:"button",disabled:a,onClick:()=>{d(0)},children:"Inizia"}),t.jsx("button",{type:"button",onClick:p,disabled:a,children:"Termina"}),t.jsx("button",{type:"button",onClick:()=>{w()},children:"Esci"}),t.jsx("div",{children:s==null?void 0:s.map(e=>t.jsx(P,{index:e.index,onClick:d},e.index))})]})}const k=Q;export{k as component};
